(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49711748"],{"3c87":function(e,t,a){"use strict";a.r(t);var r=a("7a23");function s(e,t,a,s,n,i){const o=Object(r["resolveComponent"])("report-template"),c=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(c,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(o,{title:e.title,rows:e.rows,fields:e.fields,columns:e.columns,period:e.period,onReportConfiguration:e.init},null,8,["title","rows","fields","columns","period","onReportConfiguration"])]),_:1})}var n=a("fcd5"),i=a("552a"),o=a("9ceb"),c=a("44e3"),d=a("8a30"),u=Object(r["defineComponent"])({components:{ReportTemplate:i["a"],IonPage:d["D"]},mixins:[c["a"]],data:()=>({title:"Mental health report",rows:[],reportService:{},columns:[[o["a"].thTxt("",{sortable:!1,exportable:!1}),o["a"].thTxt("New cases",{colspan:4,sortable:!1,exportable:!1}),o["a"].thTxt("Subsequent cases",{colspan:4,sortable:!1,exportable:!1})],[o["a"].thTxt("Diagnosis"),o["a"].thTxt("Male (0-15 years)",{value:"Males (0-15 years New Cases)"}),o["a"].thTxt("Male (>=16 years)",{value:"Males (>=16 years New Cases)"}),o["a"].thTxt("Female (0-15 years)",{value:"Females (0-15 years New Cases)"}),o["a"].thTxt("Female (>=16 years)",{value:"Females (>=16 years New Cases)"}),o["a"].thTxt("Male (0-15 years)",{value:"Males (0-15 years Subsequent Cases)"}),o["a"].thTxt("Male (>=16 years)",{value:"Males (>=16 years Subsequent Cases)"}),o["a"].thTxt("Female (0-15 years)",{value:"Females (0-15 years Subsequent Cases)"}),o["a"].thTxt("Female (>=16 years)",{value:"Females (>=16 years Subsequent Cases)"})]]}),created(){this.fields=this.getDateDurationFields()},methods:{async init(e,t){this.reportService=new n["d"],this.reportService.setStartDate(t.start_date),this.reportService.setEndDate(t.end_date),this.period=this.reportService.getDateIntervalPeriod(),this.rows=this.buildRows()},buildRows(){return n["b"].map(e=>[o["a"].td(e,{style:{textAlign:"left"}}),o["a"].td(""),o["a"].td(""),o["a"].td(""),o["a"].td(""),o["a"].td(""),o["a"].td(""),o["a"].td(""),o["a"].td("")])}}}),l=a("6b0d"),p=a.n(l);const h=p()(u,[["render",s]]);t["default"]=h},fcd5:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return v}));var r=a("5530"),s=a("d4ec"),n=a("bee2"),i=a("262e"),o=a("2caf"),c=(a("d3b7"),a("159b"),a("b64b"),a("99af"),a("1c74")),d=a("9283"),u=a("b89f"),l=a("bef6"),p={one:"AL 1",two:"AL 2",three:"AL 3",four:"LA 4"},h=["Diabetes","Hypertension","Stroke","Suspected cancer","Confirmed cancer","Palliative cancer","Asthma","Depression","Acute psychosis","Chronic psychosis","Epilepsy"],g=["Organic mental disorder (Chronic)","Organic mental disorder (acute)","Alcohol use mental disorder","Drug use mental disorder","Schizophrenia","Acute and transient psychotic disorder","Schizo-affective disorder","Mood-affective disorder (MANIC)","Mood-affective disorder (BIPOLAR)","Mood-affective disorder (DEPRESSION)","Anxiety disorder","Stress reaction adjustment disorder","Dissociative conversion disorder","Somatoform disorder","Puerperal mental disorder","Personality/Behaviour disorder","Mental retardation","Psychological mental disorder","Hyperkinetic conduct disorder","Epilepsy"],v=function(e){Object(i["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.call(this),e.endDate="",e.startDate="",e.epiweek="",e.date=c["e"].getSessionDate(),e.programID=c["e"].getProgramID(),e}return Object(n["a"])(a,[{key:"getPatientsWithNIDs",value:function(){return this.getReport("with_nids")}},{key:"getClinicRegistrations",value:function(){return this.getReport("registration")}},{key:"getDrugsGivenWithoutPrescription",value:function(){return this.getReport("drugs_given_without_prescription")}},{key:"getDrugsGivenWithPrescription",value:function(){return this.getReport("drugs_given_with_prescription")}},{key:"getDiagnosis",value:function(){var e="programs/".concat(this.programID,"/reports/diagnosis");return c["e"].getJson(e,{start_date:this.startDate,end_date:this.endDate,date:this.date})}},{key:"getDiagnosisByAddress",value:function(){return this.getReport("diagnosis_by_address")}},{key:"getLaPrescriptions",value:function(){var e="programs/".concat(this.programID,"/reports/la_prescriptions");return c["e"].getJson(e,{start_date:this.startDate,end_date:this.endDate})}},{key:"printLaReport",value:function(e){var t=new u["a"],a="programs/".concat(this.programID,"/barcodes/la_report"),r={"date[start]":this.startDate,"date[end]":this.endDate};return Object.keys(p).forEach((function(t,a){a++,r["".concat(a,"[prescription]")]=e["total_la_".concat(t,"_prescribed_drugs")],r["".concat(a,"[dispensed]")]=e["total_la_".concat(t,"_dispensed_drugs")]})),t.printLbl("".concat(a,"?").concat(l["a"].parameterizeObjToString(r)))}},{key:"getDateIntervalPeriod",value:function(){return"".concat(d["b"].toStandardHisDisplayFormat(this.startDate)," - ").concat(d["b"].toStandardHisDisplayFormat(this.endDate))}},{key:"setStartDate",value:function(e){this.startDate=e}},{key:"setEndDate",value:function(e){this.endDate=e}},{key:"setEpiWeek",value:function(e){this.epiweek=e}},{key:"getReportPeriod",value:function(){return this.startDate&&this.endDate?"".concat(d["b"].toStandardHisDisplayFormat(this.startDate)," - ").concat(d["b"].toStandardHisDisplayFormat(this.endDate)):"-"}},{key:"getReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c["e"].getJson(e,this.buildRequest(t))}},{key:"buildRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.epiweek&&(t["epiweek"]=this.epiweek),Object(r["a"])(Object(r["a"])({},t),e)}}],[{key:"getReportQuarters",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],a=d["b"].getCurrentYear(),r=0;r<e;++r)t.push({name:"Q4 ".concat(a),start:"".concat(a,"-10-01"),end:"".concat(a,"-12-31")}),t.push({name:"Q3 ".concat(a),start:"".concat(a,"-07-01"),end:"".concat(a,"-09-30")}),t.push({name:"Q2 ".concat(a),start:"".concat(a,"-04-01"),end:"".concat(a,"-06-30")}),t.push({name:"Q1 ".concat(a),start:"".concat(a,"-01-01"),end:"".concat(a,"-03-31")}),--a;return t}}]),a}(c["e"])}}]);
//# sourceMappingURL=chunk-49711748.e865dacc.js.map