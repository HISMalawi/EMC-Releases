import{O as p}from"./opd_report_service-nys8W8Wf.js";import{R as m}from"./BaseTableReport-wH5Xu9YJ.js";import{d,I as l,L as t,H as s,S as u,_ as g,r as a,o as _,c,w as f,b as h}from"./index-iM2cGz0p.js";import{_ as D}from"./ReportMixin.vue_vue_type_script_lang-r1arG92A.js";import"./Export-VO9zGhWb.js";import"./HisStandardForm-tiWNF5wA.js";import"./TouchScreenForm-hvB0I83y.js";import"./dynamic-import-helper-9HnG3Mif.js";import"./ToolbarMediumCard-ny9gUih7.js";import"./Transformers-XlEF3tgP.js";import"./ViewPort-4mhPlN2U.js";import"./BasicReportTemplate-Cy-G-sIO.js";import"./SIngleTouchField-TVlhbHrr.js";import"./Pagination-nCJl9BUM.js";import"./MultiFieldDateHelper-BIZNjBD7.js";import"./KbLayouts-9dqmDWmG.js";import"./HisKbConfigurations-a7K7dizM.js";const w=d({components:{ReportTemplate:m,IonPage:l},mixins:[D],data:()=>({title:"Drugs report",rows:[],columns:[[t.thTxt("First Name"),t.thTxt("Last Name"),t.thTxt("Gender"),t.thTxt("Age"),t.thTxt("Drug"),t.thTxt("Prescribe Quantity"),t.thTxt("Dispense Quantity"),t.thTxt("Diagnosis"),t.thTxt("Date")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async init(i,e){const o=new p;o.setStartDate(e.start_date),o.setEndDate(e.end_date),this.period=o.getDateIntervalPeriod(),this.rows=this.buildRows(await o.getDrugs())},buildRows(i){return i.length?i.map(e=>[t.td(e.given_name),t.td(e.family_name),t.td(e.gender),t.td(s.calculateAge(e.birthdate,u.getSessionDate())),t.td(e.drug_name),t.td(e.prescribe_quantity),t.td(e.dispense_quantity),t.td(e.diagnosis),t.td(s.toStandardHisDisplayFormat(e.date))]):[]}}});function T(i,e,o,x,R,b){const r=a("report-template"),n=a("ion-page");return _(),c(n,null,{default:f(()=>[h(r,{title:i.title,rows:i.rows,fields:i.fields,columns:i.columns,itemsPerPage:12,period:i.period,reportPrefix:"Clinic",onReportConfiguration:i.init,paginated:""},null,8,["title","rows","fields","columns","period","onReportConfiguration"])]),_:1})}const E=g(w,[["render",T]]);export{E as default};
