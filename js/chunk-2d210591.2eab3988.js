(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d210591"],{b805:function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,i,c){var o=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(o,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}var i=n("5530"),c=n("1da1"),o=(n("96cf"),n("9441")),u=n("7365"),s=n("bee2"),l=n("d4ec"),d=n("262e"),b=n("2caf"),f=n("cc6f"),p=function(e){Object(d["a"])(n,e);var t=Object(b["a"])(n);function n(e,r){return Object(l["a"])(this,n),t.call(this,e,80,r)}return Object(s["a"])(n)}(f["a"]),v=n("2706"),h=n("d95e"),m=n("e86e"),O=n("b5e4"),w=Object(r["defineComponent"])({components:{HisStandardForm:o["a"]},mixins:[u["a"]],data:function(){return{receptionService:{}}},watch:{ready:{handler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e&&(t.receptionService=new p(t.patient.getID(),t.providerID),t.fields=t.getFields());case 1:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{onSubmit:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.receptionService.createEncounter();case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return",Object(O["e"])("Unable to create registration encounter"));case 5:return e.next=7,n.resolveObs(Object(i["a"])({},t));case 7:return a=e.sent,e.next=10,n.receptionService.saveObservationList(a);case 10:if(c=e.sent,c){e.next=13;break}return e.abrupt("return",Object(O["e"])("Unable to save observations"));case 13:n.$router.push("/registration/encounters/patient_services/".concat(n.patientID));case 14:case"end":return e.stop()}}),e)})))()},getFields:function(){var e=this;return[{id:"referral",helpText:"Is the Patient a Referral Case From Another Health Facility?",type:h["b"].TT_SELECT,validation:function(e){return v["a"].required(e)},computedValue:function(t){return{obs:e.receptionService.buildValueCoded("Is patient referred?",t.value)}},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}},{id:"referring_facility_name",helpText:"Referred from",type:h["b"].TT_SELECT,validation:function(e){return v["a"].required(e)},computedValue:function(t){var n=t.label;return{obs:e.receptionService.buildValueText("Referred from",n)}},condition:function(e){return"Yes"===e.referral.value},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(m["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}]}}}),j=n("6b0d"),g=n.n(j);const x=g()(w,[["render",a]]);t["default"]=x}}]);
//# sourceMappingURL=chunk-2d210591.2eab3988.js.map