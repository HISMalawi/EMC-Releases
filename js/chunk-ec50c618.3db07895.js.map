{"version":3,"sources":["webpack:///./src/components/UpdateNotification.vue?3165","webpack:///./src/components/UpdateNotification.vue?0573","webpack:///./src/components/UpdateNotification.vue","webpack:///./src/components/UpdateNotification.vue?740b","webpack:///./src/components/ReleaseNotes.vue?6a28","webpack:///./src/components/ReleaseNotes.vue?e098","webpack:///./src/components/ReleaseNotes.vue","webpack:///./src/components/ReleaseNotes.vue?088b"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","key","id","_hoisted_2","_createElementVNode","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_button","_resolveComponent","hasUpdate","_openBlock","_createElementBlock","_createTextVNode","_toDisplayString","newVersion","_createVNode","onClick","onVersionUpdate","color","size","default","_withCtx","_","_createCommentVNode","defineComponent","components","IonButton","props","checkInterval","type","Number","setup","ref","auth","AuthService","async","modalController","create","component","ReleaseNotesVue","backdropDismiss","cssClass","componentProps","app","App","getActiveApp","onCloseAction","setActiveVersion","value","location","reload","dismiss","present","setInterval","headVersion","getHeadVersion","activeVersion","getActiveCoreVersion","__exports__","_component_ion_img","_component_ion_thumbnail","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ion_content","_component_ion_page","_createBlock","slot","src","logo","applicationName","appVersion","class","innerHTML","notes","name","IonPage","IonHeader","IonImg","IonTitle","IonThumbnail","IonContent","IonToolbar","Object","required","Function","Service","getAppVersion","watch","Img","applicationIcon","HisApp","getReleaseNotes","then","d","deep","immediate","apiVersion","getApiVersion"],"mappings":"kHAAA,W,2DCEA,MAAMA,EAAeC,IAAMC,yBAAa,mBAAmBD,EAAEA,IAAIE,0BAAcF,GACzEG,EAAa,CACjBC,IAAK,EACLC,GAAI,uBAEAC,EAA2BP,EAAa,IAAmBQ,gCAAoB,KAAM,KAAM,MAAO,IAClGC,EAA2BT,EAAa,IAAmBQ,gCAAoB,KAAM,KAAM,MAAO,IAElG,SAAUE,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,EAAwBC,8BAAkB,cAEhD,OAAQP,EAAKQ,WACRC,yBAAcC,gCAAoB,MAAOjB,EAAY,CACpDkB,6BAAiBC,6BAAiBZ,EAAKa,YAAc,IAAK,GAC1DjB,EACAe,6BAAiB,yCACjBb,EACAgB,yBAAaR,EAAuB,CAClCS,QAASf,EAAKgB,gBACdC,MAAO,UACPC,KAAM,SACL,CACDC,QAASC,qBAAS,IAAM,CACtBT,6BAAiB,oBAEnBU,EAAG,GACF,EAAG,CAAC,eAETC,gCAAoB,IAAI,G,oDCvBfC,+BAAgB,CAC3BC,WAAY,CAAEC,kBACdC,MAAO,CACHC,cAAe,CACXC,KAAMC,OACNV,QAAS,MAGjBW,MAAMJ,GACF,MAAMlB,EAAYuB,kBAAI,GAChBlB,EAAakB,iBAAI,IACjBC,EAAO,IAAIC,OAajBC,eAAelB,WACJmB,OAAgBC,OAAO,CAC1BC,UAAWC,OACXC,iBAAiB,EACjBC,SAAU,cACVC,eAAgB,CACZC,IAAKC,OAAIC,eACTC,cAAeA,KACXb,EAAKc,iBAAiBjC,EAAWkC,OACjCC,SAASC,SACTd,OAAgBe,eAGxBC,UAGR,OA3BAC,YAAYlB,UACR,IAAK1B,EAAUuC,MAAO,CAClB,MAAMM,QAAoBrB,EAAKsB,iBACzBC,EAAgBvB,EAAKwB,uBACR,KAAfH,GAAsBA,GAAeE,IACrC1C,EAAWkC,MAAQM,EACnB7C,EAAUuC,OAAQ,KAG3BrB,EAAMC,eAkBF,CACHX,kBACAH,aACAL,gB,iCC3CZ,MAAMiD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS1D,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W,oGCEA,MACMN,EAAa,CAAC,aAEd,SAAUM,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMqD,EAAqBnD,8BAAkB,WACvCoD,EAA2BpD,8BAAkB,iBAC7CqD,EAAuBrD,8BAAkB,aACzCD,EAAwBC,8BAAkB,cAC1CsD,EAAyBtD,8BAAkB,eAC3CuD,EAAwBvD,8BAAkB,cAC1CwD,EAAyBxD,8BAAkB,eAC3CyD,EAAsBzD,8BAAkB,YAE9C,OAAQE,yBAAcwD,yBAAaD,EAAqB,KAAM,CAC5D7C,QAASC,qBAAS,IAAM,CACtBN,yBAAagD,EAAuB,KAAM,CACxC3C,QAASC,qBAAS,IAAM,CACtBN,yBAAa+C,EAAwB,KAAM,CACzC1C,QAASC,qBAAS,IAAM,CACtBN,yBAAa6C,EAA0B,CAAEO,KAAM,SAAW,CACxD/C,QAASC,qBAAS,IAAM,CACtBN,yBAAa4C,EAAoB,CAAES,IAAKnE,EAAKoE,MAAQ,KAAM,EAAG,CAAC,UAEjE/C,EAAG,IAELP,yBAAa8C,EAAsB,KAAM,CACvCzC,QAASC,qBAAS,IAAM,CACtBvB,gCAAoB,KAAM,KAAMe,6BAAiBZ,EAAK0C,IAAI2B,iBAAmB,oBAAsBzD,6BAAiBZ,EAAKsE,YAAc,IAAK,KAE9IjD,EAAG,IAELP,yBAAaR,EAAuB,CAClCS,QAASd,EAAO,KAAOA,EAAO,GAAK,IAAoC,oBAAvBD,EAAK6C,cAA+B7C,EAAK6C,gBAAkB,MAC3G5B,MAAO,SACPiD,KAAM,OACL,CACD/C,QAASC,qBAAS,IAAM,CACtBT,6BAAiB,aAEnBU,EAAG,MAGPA,EAAG,MAGPA,EAAG,IAELP,yBAAaiD,EAAwB,KAAM,CACzC5C,QAASC,qBAAS,IAAM,CACtBvB,gCAAoB,MAAO,CACzB0E,MAAO,cACPC,UAAWxE,EAAKyE,OACf,KAAM,EAAGhF,KAEd4B,EAAG,MAGPA,EAAG,I,oDC5CQE,+BAAgB,CAC3BmD,KAAM,wBACNlD,WAAY,CACRmD,eACAC,iBACAC,cACAC,gBACAC,oBACAC,kBACAC,kBACAxD,kBAEJC,MAAO,CACHgB,IAAK,CACDd,KAAMsD,OACNC,UAAU,GAEdtC,cAAe,CACXjB,KAAMwD,SACND,UAAU,IAGlBrD,MAAMJ,GACF,MAAM+C,EAAQ1C,iBAAI,IACZqC,EAAOrC,iBAAI,IACXuC,EAAae,OAAQC,gBAM3B,OALAC,mBAAM,IAAM7D,EAAMgB,IAAKR,UACnBkC,EAAKrB,MAAQyC,eAAI9C,EAAI+C,iBACrBC,OAAOC,gBAAgBjD,EAAI2B,iBACtBuB,KAAMC,IAAiBA,IAAGpB,EAAM1B,MAAQ8C,MAC9C,CAAEC,MAAM,EAAMC,WAAW,IACrB,CACHC,WAAYX,OAAQY,gBACpB3B,aACAkB,WACApB,OACAK,Y,iCC5CZ,MAAMhB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS1D,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-ec50c618.3db07895.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UpdateNotification.vue?vue&type=style&index=0&id=184f68be&scoped=true&lang=css\"","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-184f68be\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  id: \"update-notification\"\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n\n  return (_ctx.hasUpdate)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createTextVNode(_toDisplayString(_ctx.newVersion) + \" \", 1),\n        _hoisted_2,\n        _createTextVNode(\" New Updates and fixes are available \"),\n        _hoisted_3,\n        _createVNode(_component_ion_button, {\n          onClick: _ctx.onVersionUpdate,\n          color: \"success\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Update Now!! \")\n          ]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","\nimport { defineComponent, ref } from 'vue'\nimport { IonButton, modalController } from \"@ionic/vue\"\nimport { AuthService } from '@/services/auth_service'\nimport ReleaseNotesVue from \"@/components/ReleaseNotes.vue\";\nimport App from \"@/apps/app_lib\"\n\nexport default defineComponent({\n    components: { IonButton },\n    props: {\n        checkInterval: {\n            type: Number,\n            default: 30000\n        }\n    },\n    setup(props) {\n        const hasUpdate = ref(false)\n        const newVersion = ref('')\n        const auth = new AuthService()\n\n        setInterval(async () => {\n            if (!hasUpdate.value) {\n                const headVersion = await auth.getHeadVersion()\n                const activeVersion = auth.getActiveCoreVersion()\n                if (headVersion != '-' && headVersion != activeVersion) {\n                    newVersion.value = headVersion\n                    hasUpdate.value = true\n                }\n            }\n        }, props.checkInterval)\n\n        async function onVersionUpdate () {\n            (await modalController.create({\n                component: ReleaseNotesVue,\n                backdropDismiss: true,\n                cssClass: \"large-modal\",\n                componentProps: {\n                    app: App.getActiveApp(),\n                    onCloseAction: () => {\n                        auth.setActiveVersion(newVersion.value)\n                        location.reload()\n                        modalController.dismiss()\n                    } \n                }\n            })).present()\n        }\n\n        return {\n            onVersionUpdate,\n            newVersion,\n            hasUpdate\n        }\n    }\n})\n","import { render } from \"./UpdateNotification.vue?vue&type=template&id=184f68be&scoped=true&ts=true\"\nimport script from \"./UpdateNotification.vue?vue&type=script&lang=ts\"\nexport * from \"./UpdateNotification.vue?vue&type=script&lang=ts\"\n\nimport \"./UpdateNotification.vue?vue&type=style&index=0&id=184f68be&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anthony/Documents/source/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-184f68be\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ReleaseNotes.vue?vue&type=style&index=0&id=f8978322&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f8978322\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_img = _resolveComponent(\"ion-img\")!\n  const _component_ion_thumbnail = _resolveComponent(\"ion-thumbnail\")!\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_thumbnail, { slot: \"start\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_img, { src: _ctx.logo }, null, 8, [\"src\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_title, null, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"h1\", null, _toDisplayString(_ctx.app.applicationName) + \" Release Notes (v\" + _toDisplayString(_ctx.appVersion) + \")\", 1)\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_button, {\n                onClick: _cache[0] || (_cache[0] = () => typeof _ctx.onCloseAction === 'function' ? _ctx.onCloseAction() : null),\n                color: \"danger\",\n                slot: \"end\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Close \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, null, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            class: \"ion-padding\",\n            innerHTML: _ctx.notes\n          }, null, 8, _hoisted_1)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent, ref, watch } from 'vue'\nimport HisApp from \"@/apps/app_lib\"\nimport Img from \"@/utils/Img\"\nimport { Service } from \"@/services/service\"\nimport {\n    IonPage,\n    IonHeader,\n    IonImg,\n    IonTitle,\n    IonThumbnail,\n    IonContent,\n    IonToolbar,\n    IonButton\n} from \"@ionic/vue\"\nexport default defineComponent({\n    name: 'ReleaseNotesComponent',\n    components: {\n        IonPage,\n        IonHeader,\n        IonImg,\n        IonTitle,\n        IonThumbnail,\n        IonContent,\n        IonToolbar,\n        IonButton\n    },\n    props: {\n        app: {\n            type: Object,\n            required: true\n        },\n        onCloseAction: {\n            type: Function,\n            required: true\n        }\n    },\n    setup(props) {\n        const notes = ref('')\n        const logo = ref('')\n        const appVersion = Service.getAppVersion()\n        watch(() => props.app, async (app) => {\n            logo.value = Img(app.applicationIcon)\n            HisApp.getReleaseNotes(app.applicationName)\n                .then((d: any) => { if (d) notes.value = d })\n        }, { deep: true, immediate: true })\n        return {\n            apiVersion: Service.getApiVersion(),\n            appVersion,\n            Img,\n            logo,\n            notes\n        }\n    }\n})\n","import { render } from \"./ReleaseNotes.vue?vue&type=template&id=f8978322&scoped=true&ts=true\"\nimport script from \"./ReleaseNotes.vue?vue&type=script&lang=ts\"\nexport * from \"./ReleaseNotes.vue?vue&type=script&lang=ts\"\n\nimport \"./ReleaseNotes.vue?vue&type=style&index=0&id=f8978322&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/anthony/Documents/source/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f8978322\"]])\n\nexport default __exports__"],"sourceRoot":""}