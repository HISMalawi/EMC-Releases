{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/Forms/HisStandardForm.vue","webpack:///./src/apps/ART/services/reports/patient_report_service.ts","webpack:///./src/apps/ART/views/reports/inconsistencies/PatientVisitStats.vue?8853","webpack:///./src/apps/ART/views/reports/inconsistencies/PatientVisitStats.vue","webpack:///./src/apps/ART/views/reports/inconsistencies/PatientVisitStats.vue?d03f"],"names":["$","$entries","entries","target","stat","O","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createBlock","_resolveDynamicComponent","formType","fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onFinishAction","onOnIndex","onIndex","defineComponent","name","components","TouchScreenForm","emits","data","props","type","Function","Boolean","default","String","Object","required","methods","formData","computedData","this","$emit","i","__exports__","AGE_GROUPS","PatientReportService","date","ArtReportService","getJson","programID","range","getReport","outcome","_hoisted_1","_createTextVNode","_hoisted_2","class","_hoisted_3","_component_his_standard_form","_resolveComponent","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ApexChart","_component_view_port","_component_ion_content","_component_ion_button","_component_ion_footer","_component_ion_page","_Fragment","_withDirectives","_createVNode","onPeriod","_vShow","canShowReport","key","_withCtx","_","width","height","chartType","options","chartOptions","series","onClick","pointSelection","color","slot","size","_createCommentVNode","ApexChart","IonPage","IonHeader","IonTitle","IonToolbar","IonContent","IonFooter","IonButton","ViewPort","HisStandardForm","mixins","ReportMixin","report","patientPresent","guardianPresent","bothPresent","title","text","yaxis","plotAreaHeight","xaxis","created","getDateDurationFields","conf","presentLoading","setStartDate","start_date","setEndDate","end_date","getPatientVisitTypes","res","buildSeries","loadingController","dismiss","create","message","backdropDismiss","loading","present","e","c","config","dataPointIndex","seriesIndex","sIndex","runTableDrill","raw","visitDates","uniq","keys","setValueGroup","group","comparator","values","filter","v","patient_present","guardian_present","map","patient","sortSeries","valueGroup","Date","getTime","length","sortData","guardian"],"mappings":"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","file":"js/chunk-a9f702dc.0f8addbf.js","sourcesContent":["var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.formType), {\n    fields: _ctx.fields,\n    skipSummary: _ctx.skipSummary,\n    activeField: _ctx.activeField,\n    cancelDestinationPath: _ctx.cancelDestinationPath,\n    onOnFinish: _ctx.onFinish,\n    onFinish: _ctx.onFinishAction,\n    onOnIndex: _ctx.onIndex\n  }, null, 8, [\"fields\", \"skipSummary\", \"activeField\", \"cancelDestinationPath\", \"onOnFinish\", \"onFinish\", \"onOnIndex\"]))\n}","\nimport TouchScreenForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport { defineComponent, PropType } from \"vue\";\nimport { Field } from \"./FieldInterface\";\n\nexport default defineComponent({\n    name: \"HisStandardForm\",\n    components: { TouchScreenForm },\n    emits: [\n        'onFinish',\n        'onIndex'\n    ],\n    data: () => ({\n        formType: 'touch-screen-form' as string\n    }),\n    props: {\n        onFinishAction: {\n            type: Function\n        },\n        skipSummary: {\n            type: Boolean,\n            default: false\n        },\n        activeField: {\n            type: String\n        },\n        fields: {\n            type: Object as PropType<Field[]>,\n            required: true\n        },\n        cancelDestinationPath: {\n            type: String,\n            required: false,\n        }\n    },\n    methods: {\n        onFinish(formData: any, computedData: any) {\n            this.$emit('onFinish', formData, computedData)\n        },\n        onIndex(i: number) {\n            this.$emit('onIndex', i)\n        }\n    }\n})\n","import { render } from \"./HisStandardForm.vue?vue&type=template&id=6daa0375&ts=true\"\nimport script from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\nexport * from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { ArtReportService } from \"./art_report_service\";\n\nexport const AGE_GROUPS = [\n    '<1 year',\n    '1-4 years', \n    '5-9 years', \n    '10-14 years', \n    '15-19 years', \n    '20-24 years', \n    '25-29 years', \n    '30-34 years', \n    '35-39 years', \n    '40-44 years', \n    '45-49 years', \n    '50-54 years',\n    '55-59 years',\n    '60-64 years',\n    '65-69 years',\n    '70-74 years',\n    '75-79 years',\n    '80-84 years',\n    '85-89 years',\n    '90 plus years'\n]\n\nexport class PatientReportService extends ArtReportService {\n    constructor() {\n        super()\n    }\n    \n    getBookedAppointments(date: string) {\n        return ArtReportService.getJson(`programs/${this.programID}/scheduled_appointments`, { date })\n    }\n\n    getViralLoadResults(range: string) {\n        return this.getReport(`/programs/${this.programID}/reports/high_vl_patients`, { range })\n    }\n\n    getOtherOutcome(outcome: string) {\n        return this.getReport('patient_outcome_list', { outcome })\n    }\n\n    getPatientVisitTypes() {\n        return this.getReport('patient_visit_types')\n    }\n\n    getClientsDueForVl() {\n        return this.getReport('clients_due_vl')\n    }\n\n    getClientRentention() {\n        return this.getReport(`/programs/${this.programID}/reports/retention`)\n    }\n\n    getExternalConsultationClients() {\n        return this.getReport(`${this.programID}/external_consultation_clients`)\n    }\n\n    getMissedAppointments() {\n        return this.getReport('missed_appointments')\n    }\n\n    getPregnantWomen() {\n        return this.getReport(`/programs/${this.programID}/reports/pregnant_patients`)\n    }\n\n    getArchivingCandidates() {\n        return ArtReportService.getJson(`programs/${this.programID}/reports/archiving_candidates`, { \n            'start_date': this.date\n        })\n    }\n}\n","import { resolveComponent as _resolveComponent, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Patient visit report \")\nconst _hoisted_2 = { class: \"view-port-content\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Finish \")\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ApexChart = _resolveComponent(\"ApexChart\")\n  const _component_view_port = _resolveComponent(\"view-port\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _withDirectives(_createVNode(_component_his_standard_form, {\n      onOnFinish: _ctx.onPeriod,\n      skipSummary: true,\n      fields: _ctx.fields\n    }, null, 8, [\"onOnFinish\", \"fields\"]), [\n      [_vShow, !_ctx.canShowReport]\n    ]),\n    (_ctx.canShowReport)\n      ? (_openBlock(), _createBlock(_component_ion_page, { key: 0 }, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_header, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_ion_toolbar, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_ion_title, null, {\n                      default: _withCtx(() => [\n                        _hoisted_1\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_content, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_view_port, null, {\n                  default: _withCtx(() => [\n                    _createVNode(\"div\", _hoisted_2, [\n                      _createVNode(_component_ApexChart, {\n                        width: _ctx.width,\n                        height: _ctx.height,\n                        type: _ctx.chartType,\n                        options: _ctx.chartOptions,\n                        series: _ctx.series,\n                        onClick: _ctx.pointSelection\n                      }, null, 8, [\"width\", \"height\", \"type\", \"options\", \"series\", \"onClick\"])\n                    ])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_footer, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_ion_button, {\n                      slot: \"end\",\n                      size: \"large\",\n                      \"router-link\": \"/\",\n                      color: \"success\"\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_3\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true)\n  ], 64 /* STABLE_FRAGMENT */))\n}","\nimport { defineComponent } from 'vue'\nimport {\n    IonPage,\n    IonHeader,\n    IonTitle,\n    IonToolbar,\n    IonContent,\n    IonFooter,\n    IonButton,\n    loadingController\n} from \"@ionic/vue\"\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\"\nimport { PatientReportService } from \"@/apps/ART/services/reports/patient_report_service\"\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\nimport ReportMixin from \"@/apps/ART/views/reports/ReportMixin.vue\"\nimport { uniq } from 'lodash';\nimport ApexChart from \"vue3-apexcharts\";\n\nexport default defineComponent({\n    components: {\n        ApexChart,\n        IonPage,\n        IonHeader,\n        IonTitle,\n        IonToolbar,\n        IonContent,\n        IonFooter,\n        IonButton,\n        ViewPort,\n        HisStandardForm\n    },\n    mixins: [ReportMixin],\n    data: () => ({\n        chartType: 'area',\n        height: '100%',\n        width: '100%',\n        canShowReport: false,\n        report: {} as any,\n        series: [] as any,\n        patientPresent: {} as any,\n        guardianPresent: {} as any,\n        bothPresent: {} as any,\n        chartOptions: {\n            title : {\n                text: \"HIV Reception encounters\"\n            },\n            yaxis: {\n                title: { \n                    text: \"Number of clients\"\n                },\n                plotAreaHeight: 800,\n            },\n            xaxis: {\n                type: 'datetime'\n            }\n        } as any\n    }),\n    created() {\n        this.fields = this.getDateDurationFields()\n    },\n    methods: {\n        async onPeriod(_: any, conf: any) {\n            await this.presentLoading()\n            this.canShowReport = true\n            this.report = new PatientReportService()\n            this.report.setStartDate(conf.start_date)\n            this.report.setEndDate(conf.end_date)\n            const res = await this.report.getPatientVisitTypes()\n            this.series = this.buildSeries(res)\n            loadingController.dismiss()\n        },\n        async presentLoading() {\n            const loading = await loadingController\n                .create({\n                    message: 'Please wait...',\n                    backdropDismiss: false\n                })\n            await loading.present()\n        },\n        pointSelection(e: any, c: any, config: any) {\n            try {\n                const { dataPointIndex, seriesIndex } = config\n                const sIndex = seriesIndex <= 0 ? 0 : seriesIndex\n                this.runTableDrill(this.series[sIndex].raw[dataPointIndex])\n            } catch (e) {\n                //TODO\n            }\n        },\n        buildSeries(data: any) {\n            const visitDates: string[] = uniq(Object.keys(data))\n            const setValueGroup = (\n                date: string,\n                group: Record<string, any>,\n                comparator: any) => {\n\n                if (!(date in group)) group[date] = []\n\n                const values = Object.entries(data[date])\n                    .filter(([_, v]: any) => comparator(\n                        v.patient_present,\n                        v.guardian_present\n                    ))\n                    .map(([patient]) => patient)\n\n                group[date] = [...group[date], ...values]\n                return group\n            }\n\n            const sortSeries = (valueGroup: any) => {\n                return visitDates.map((date: string) => [\n                    new Date(date).getTime(), \n                    valueGroup[date].length\n                ])\n            }\n\n            const sortData = (valueGroup: any) => visitDates.map((date: string) => valueGroup[date])\n    \n            for(const date in data) {\n                setValueGroup(date, this.patientPresent, (patient: any, guardian: any) => {\n                    return patient && !guardian\n                })\n                setValueGroup(date, this.guardianPresent, (patient: any, guardian: any) => {\n                    return !patient && guardian\n                })\n                setValueGroup(date, this.bothPresent, (patient: any, guardian: any) => {\n                    return patient && guardian\n                })\n            }\n\n            return [\n                {\n                    name: 'Patient present',\n                    raw: sortData(this.patientPresent),\n                    data: sortSeries(this.patientPresent)\n                },\n                {\n                    name: 'Guardian present',\n                    raw: sortData(this.guardianPresent),\n                    data: sortSeries(this.guardianPresent)\n                },\n                {\n                    name: 'Both patient and guardian present',\n                    raw: sortData(this.bothPresent),\n                    data: sortSeries(this.bothPresent)\n                }\n            ]\n        }\n    }\n})\n","import { render } from \"./PatientVisitStats.vue?vue&type=template&id=2fbacc90&ts=true\"\nimport script from \"./PatientVisitStats.vue?vue&type=script&lang=ts\"\nexport * from \"./PatientVisitStats.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}