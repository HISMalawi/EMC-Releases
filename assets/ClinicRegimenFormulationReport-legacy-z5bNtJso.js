System.register(["./regimen_report_service-legacy-l0yb0rzM.js","./ReportMixin.vue_vue_type_script_lang-legacy-iBlnUK4E.js","./TableReportTemplate-legacy-Lwzk_ZnC.js","./index-legacy-2bdI6aeZ.js","./dynamic-import-helper-legacy-BhGHTWZn.js","./MultiFieldDateHelper-legacy-ABlXxdvs.js","./KbLayouts-legacy-NQmKRJpJ.js","./HisKbConfigurations-legacy-AV_G95Cg.js","./BasicReportTemplate-legacy--ps8EHUm.js","./Export-legacy-cuEy_-Nh.js","./SIngleTouchField-legacy-hpCyTWH6.js","./Pagination-legacy-rUvGUE2N.js","./HisStandardForm-legacy-lMXEnQxA.js","./TouchScreenForm-legacy-H8a4O6o5.js","./ToolbarMediumCard-legacy-EA1aA9jU.js","./Transformers-legacy-PbfCTy2a.js","./ViewPort-legacy-AULqwBLs.js","./ReportErrors-legacy-IkveOCYc.js"],(function(e,t){"use strict";var r,l,o,i,a,n,s,u,c,p,d,g,m;return{setters:[e=>{r=e.R,l=e.F,o=e.a},e=>{i=e._},e=>{a=e.R},e=>{n=e.d,s=e.L,u=e.V,c=e._,p=e.r,d=e.o,g=e.c},e=>{m=e.F},null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=n({mixins:[i],components:{ReportTemplate:a},data:()=>({title:"Regimen Formulation: Patient level report",totalClients:[],rows:[],columns:[[s.thTxt("ARV#"),s.thTxt("Formulation"),s.thTxt("Gender"),s.thTxt("DOB")]]}),created(){this.fields=[...this.getDateDurationFields(),{id:"regimen",helpText:"Select regimen",type:m.TT_SELECT,validation:e=>u.required(e),options:()=>r.map((e=>({label:e,value:e})))},{id:"formulation",helpText:"Select formulation",type:m.TT_SELECT,validation:e=>u.required(e),options:()=>l.map((e=>({label:e,value:e})))}]},methods:{async onPeriod({regimen:e,formulation:t},r){this.rows=[],this.report=new o,this.report.setStartDate(r.start_date),this.report.setEndDate(r.end_date),this.report.setOccupation(r.occupation),this.period=this.report.getDateIntervalPeriod();const l=t.value,i=e.value,a=await this.report.getRegimenFormulationReport(i,l);this.setRows(a,i,l)},async setRows(e,t,r){this.sortByArvNumber(e).forEach((e=>{this.rows.push([s.td(e.arv_number),s.td(`(${t}) ${r}`),s.td(this.formatGender(e.gender)),s.tdDate(e.birthdate)])}))}}});e("default",c(t,[["render",function(e,t,r,l,o,i){const a=p("report-template");return d(),g(a,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod,"report-prefix":"Clinic"},null,8,["title","period","rows","fields","columns","onReportConfiguration"])}]]))}}}));
