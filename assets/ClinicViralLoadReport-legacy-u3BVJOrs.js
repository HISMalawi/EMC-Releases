System.register(["./index-legacy-uRreDP0D.js","./ReportMixin.vue_vue_type_script_lang-legacy-s5aFW3cm.js","./TableReportTemplate-legacy-oS9JYFBv.js","./dynamic-import-helper-legacy-BhGHTWZn.js","./MultiFieldDateHelper-legacy-URVOEyak.js","./KbLayouts-legacy-NQmKRJpJ.js","./HisKbConfigurations-legacy-AV_G95Cg.js","./BasicReportTemplate-legacy-ZeTx3OfK.js","./Export-legacy-ZKnTuBGa.js","./SIngleTouchField-legacy-mPV_2Ngo.js","./Pagination-legacy-OaAedp7t.js","./HisStandardForm-legacy-U_iL4SQp.js","./TouchScreenForm-legacy-ogo2k9RR.js","./ToolbarMediumCard-legacy-ppaO_MMI.js","./Transformers-legacy-PbfCTy2a.js","./ViewPort-legacy-ItUHAnm-.js","./ReportErrors-legacy-xQdMuo8Y.js"],(function(e,t){"use strict";var l,r,i,s,a,o,n,d,u,c,p,h,m,g;return{setters:[e=>{l=e.d,r=e.I,i=e.L,s=e.V,a=e.cn,o=e._,n=e.r,d=e.o,u=e.c,c=e.w,p=e.b},e=>{h=e._},e=>{m=e.R},e=>{g=e.F},null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=l({mixins:[h],components:{ReportTemplate:m,IonPage:r},data:()=>({title:"",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[i.thTxt("ARV#"),i.thTxt("Gender"),i.thTxt("Birthdate"),i.thTxt("Specimen"),i.thTxt("Ordered"),i.thTxt("Result"),i.thTxt("Released"),i.thTxt("Curr. Regimen"),i.thTxt("Action",{csvExportable:!1,pdfExportable:!1})]]}),created(){this.fields=[...this.getDateDurationFields(),{id:"result_type",helpText:"Select result type",type:g.TT_SELECT,validation:e=>s.required(e),options:()=>[{label:"Viraemia 1000+",value:"viraemia-1000"},{label:"Suppressed",value:"suppressed"},{label:"Low level viraemia",value:"low-level-viraemia"}]}]},methods:{async onPeriod(e,t){const l=e.result_type;this.rows=[],this.report=new a,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.report.setOccupation(t.occupation),this.period=this.report.getDateIntervalPeriod(),this.title=`${l.label} Report <small><b>(between the period of (${this.period})</b></small>`,this.customFileName=`Clinic ${a.getLocationName()} ${l.label} ${this.period}`,this.setRows(await this.report.getViralLoadResults(l.value.toLowerCase()))},async setRows(e){this.sortByArvNumber(e).forEach((e=>{this.rows.push([i.td(e.arv_number),i.td(this.formatGender(e.gender)),i.tdDate(e.birthdate),i.td(e.specimen),i.tdDate(e.order_date),i.td(`${e.result_modifier||""} ${e.result}`),i.tdDate(e.result_date),i.td(e.current_regimen||""),i.tdBtn("View",(()=>this.$router.push(`/patient/dashboard/${e.patient_id}`)))])}))}}});e("default",o(t,[["render",function(e,t,l,r,i,s){const a=n("report-template"),o=n("ion-page");return d(),u(o,null,{default:c((()=>[p(a,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportPDf:!1,showtitleOnly:!0,customFileName:e.customFileName,onReportConfiguration:e.onPeriod,"report-prefix":"Clinic"},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])])),_:1})}]]))}}}));
