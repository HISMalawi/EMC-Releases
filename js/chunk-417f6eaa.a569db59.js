(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-417f6eaa"],{"0e0b":function(e,t,n){},"1d25":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o["createVNode"])("h1",null,"Dashboard",-1);function a(e,t,n,a,c,u){var l=Object(o["resolveComponent"])("dashboard-card"),i=Object(o["resolveComponent"])("ion-col"),s=Object(o["resolveComponent"])("ion-row"),d=Object(o["resolveComponent"])("visit-stats-chart"),b=Object(o["resolveComponent"])("ion-grid"),p=Object(o["resolveComponent"])("layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,null,{default:Object(o["withCtx"])((function(){return[r,Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{size:"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{value:e.totalMissedAppointments,label:"Missed Appointments",color:"primary",icon:e.calendar},null,8,["value","icon"])]})),_:1}),Object(o["createVNode"])(i,{size:"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{value:e.totalAppointmentsDue,label:"Appointments Due",color:"success",icon:e.alarm},null,8,["value","icon"])]})),_:1}),Object(o["createVNode"])(i,{size:"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{value:e.totalDueForVL,label:"Due for Viral Load",color:"secondary",icon:e.time},null,8,["value","icon"])]})),_:1}),Object(o["createVNode"])(i,{size:"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{value:e.totalDefaulters,label:"Defaulters (this Quarter)",color:"danger",icon:e.people},null,8,["value","icon"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{size:"2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{label:"Patients on DTG",value:e.totalPatientsOnDTG,class:"his-card"},null,8,["value"]),Object(o["createVNode"])(l,{label:"TX Current (30 Days)",value:e.totalTXCurrent30,class:"his-card"},null,8,["value"]),Object(o["createVNode"])(l,{label:"TX Current (60 Days)",value:e.totalTXCurrent60,class:"his-card"},null,8,["value"])]})),_:1}),Object(o["createVNode"])(i,{size:"10"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{days:e.days,visits:e.accumulativeVisits},null,8,["days","visits"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var c=n("1da1"),u=(n("96cf"),n("b64b"),n("d3b7"),n("159b"),n("8d56")),l=Object(o["createTextVNode"])("Complete / incomplete visits");function i(e,t,n,r,a,c){var u=Object(o["resolveComponent"])("ion-title"),i=Object(o["resolveComponent"])("ion-card-header"),s=Object(o["resolveComponent"])("apexchart"),d=Object(o["resolveComponent"])("ion-card-content"),b=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(b,{class:"his-card"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[l]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{width:"100%",type:"line",options:e.options,series:e.series},null,8,["options","series"])]})),_:1})]})),_:1})}n("d81d");var s=n("9283"),d=n("8a30"),b=Object(o["defineComponent"])({name:"CompleteIncompleteVisits",props:{visits:{type:Object,default:function(){return{}}},days:{type:Object,default:function(){return[]}}},components:{IonCard:d["f"],IonCardHeader:d["h"],IonCardContent:d["g"],IonTitle:d["U"]},setup:function(e){var t=Object(o["computed"])((function(){return{chart:{id:"vuechart-example",height:510,type:"line",zoom:{enabled:!1}},xaxis:{categories:e.days.map((function(e){return s["b"].toStandardHisDisplayFormat(e)})),tickAmount:30,labels:{show:!0,rotate:-75}},noData:{text:"Loading data...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}}})),n=Object(o["computed"])((function(){return[{name:"Complete Visits",data:e.visits.complete},{name:"Incomplete Visits",data:e.visits.incomplete}]}));return{options:t,series:n}}}),p=n("6b0d"),f=n.n(p);const v=f()(b,[["render",i]]);var O=v,j=Object(o["withScopeId"])("data-v-30ee650c"),m=j((function(e,t,n,r,a,c){var u=Object(o["resolveComponent"])("ion-card-title"),l=Object(o["resolveComponent"])("ion-spinner"),i=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-icon"),d=Object(o["resolveComponent"])("ion-card-body"),b=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(b,{color:e.color},{default:j((function(){return[Object(o["createVNode"])(d,{class:"ion-padding"},{default:j((function(){return[Object(o["createVNode"])(u,{class:"ion-padding"},{default:j((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:1}),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"ion-padding"},{default:j((function(){return[Object(o["createVNode"])(l,{name:"bubbles",color:e.loaderColor},null,8,["color"])]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,class:"ion-padding"},{default:j((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]})),_:1})),e.canShowIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:2,icon:e.icon},null,8,["icon"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["color"])})),g=(n("a9e3"),Object(o["defineComponent"])({name:"DashboardCard",props:{value:{type:Number,default:-1},label:{type:String,required:!0},icon:{type:String},color:{type:String,default:"light"}},setup:function(e){var t=Object(o["computed"])((function(){return-1===e.value})),n=Object(o["computed"])((function(){var t;return!(null===(t=e.icon)||void 0===t||!t.length)})),r=Object(o["computed"])((function(){return"light"===e.color?"primary":"light"}));return{isLoading:t,canShowIcon:n,loaderColor:r}}}));n("6c25");const h=f()(g,[["render",m],["__scopeId","data-v-30ee650c"]]);var C=h,V=n("ff79"),y=n("d4ec"),_=n("bee2"),x=n("1c74"),D=function(){function e(){Object(y["a"])(this,e)}return Object(_["a"])(e,null,[{key:"getVisits",value:function(e){return x["e"].getJson("programs/1/reports/visits",{name:"visits",start_date:e.start,end_date:e.end})}},{key:"getMissedAppointments",value:function(e,t){return x["e"].getJson("missed_appointments",{date:e,start_date:t.start,end_date:t.end,program_id:1})}},{key:"getAppointmentsDue",value:function(e){return x["e"].getJson("programs/1/booked_appointments",{date:e})}},{key:"getPatientsDueForVL",value:function(e){return x["e"].getJson("programs/1/reports/vl_due",{start_date:e.start,endDate:e.end})}},{key:"getDefaulters",value:function(e,t){return x["e"].getJson("defaulter_list",{date:e,start_date:t.start,end_date:t.end,pepfar:"true",program_id:1})}},{key:"getPatientsOnDTG",value:function(e){return x["e"].getJson("programs/1/reports/patients_on_dtg",{start_date:e.start,end_date:e.end})}},{key:"getTXCurrent",value:function(e){return x["e"].getJson("programs/1/reports/tx_curr",{start_date:e.start,end_date:e.end})}}]),e}(),w=Object(o["defineComponent"])({components:{Layout:u["a"],VisitStatsChart:O,IonGrid:d["p"],IonRow:d["J"],IonCol:d["m"],DashboardCard:C},setup:function(){var e=s["b"].getDateQuarter(new Date),t=s["b"].toStandardHisFormat(new Date),n=s["b"].add(t,"day",1).format(s["a"]),r=Object(o["ref"])(),a=Object(o["computed"])((function(){return r.value&&Object.keys(r.value)||[]})),u=Object(o["computed"])((function(){var e=[],t=[];return a.value.forEach((function(n){e.push(r.value[n].complete),t.push(r.value[n].incomplete)})),{complete:e,incomplete:t}})),l=Object(o["ref"])(),i=Object(o["computed"])((function(){var e;return(null===(e=l.value)||void 0===e?void 0:e.length)||-1})),d=Object(o["ref"])(),b=Object(o["computed"])((function(){var e;return(null===(e=d.value)||void 0===e?void 0:e.length)||-1})),p=Object(o["ref"])(),f=Object(o["computed"])((function(){var e;return(null===(e=p.value)||void 0===e?void 0:e.length)||-1})),v=Object(o["ref"])(),O=Object(o["computed"])((function(){var e;return(null===(e=v.value)||void 0===e?void 0:e.length)||-1})),j=Object(o["ref"])(),m=Object(o["computed"])((function(){var e;return(null===(e=j.value)||void 0===e?void 0:e.length)||-1})),g=Object(o["ref"])(),h=Object(o["computed"])((function(){var e;return null===(e=g.value)||void 0===e?void 0:e.length})),C=Object(o["ref"])(),y=Object(o["computed"])((function(){var e;return null===(e=C.value)||void 0===e?void 0:e.length}));return Object(o["onMounted"])(Object(c["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,D.getPatientsOnDTG(e);case 2:return j.value=o.sent,o.next=5,D.getVisits(e);case 5:return r.value=o.sent,o.next=8,D.getAppointmentsDue(n);case 8:return d.value=o.sent,o.next=11,D.getMissedAppointments(t,e);case 11:return l.value=o.sent,o.next=14,D.getTXCurrent({start:t,end:s["b"].subtract(t,"days",30).format(s["a"])});case 14:return g.value=o.sent,o.next=17,D.getTXCurrent({start:t,end:s["b"].subtract(t,"days",60).format(s["a"])});case 17:return C.value=o.sent,o.next=20,D.getPatientsDueForVL(e);case 20:return p.value=o.sent,o.next=23,D.getDefaulters(t,e);case 23:v.value=o.sent;case 24:case"end":return o.stop()}}),o)})))),{people:V["K"],calendar:V["m"],alarm:V["b"],time:V["Z"],totalMissedAppointments:i,totalAppointmentsDue:b,totalDueForVL:f,totalDefaulters:O,days:a,accumulativeVisits:u,totalPatientsOnDTG:m,totalTXCurrent30:h,totalTXCurrent60:y}}});const N=f()(w,[["render",a]]);t["default"]=N},"6c25":function(e,t,n){"use strict";n("0e0b")}}]);
//# sourceMappingURL=chunk-417f6eaa.a569db59.js.map