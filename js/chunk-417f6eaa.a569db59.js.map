{"version":3,"sources":["webpack:///./src/apps/EMC/views/Dashboard.vue?32ea","webpack:///./src/apps/EMC/Components/charts/CompleteIncompleteVisits.vue?6572","webpack:///./src/apps/EMC/Components/charts/CompleteIncompleteVisits.vue","webpack:///./src/apps/EMC/Components/charts/CompleteIncompleteVisits.vue?b89e","webpack:///./src/apps/EMC/Components/DashboardCard.vue?4e48","webpack:///./src/apps/EMC/Components/DashboardCard.vue","webpack:///./src/apps/EMC/Components/DashboardCard.vue?9eee","webpack:///./src/apps/EMC/services/dashboard.service.ts","webpack:///./src/apps/EMC/views/Dashboard.vue","webpack:///./src/apps/EMC/views/Dashboard.vue?dac3","webpack:///./src/apps/EMC/Components/DashboardCard.vue?8cb2"],"names":["_hoisted_1","_createVNode","render","_ctx","_cache","$props","$setup","$data","$options","_component_dashboard_card","_resolveComponent","_component_ion_col","_component_ion_row","_component_visit_stats_chart","_component_ion_grid","_component_layout","_openBlock","_createBlock","default","_withCtx","size","value","totalMissedAppointments","label","color","icon","calendar","_","totalAppointmentsDue","alarm","totalDueForVL","time","totalDefaulters","people","totalPatientsOnDTG","class","totalTXCurrent30","totalTXCurrent60","days","visits","accumulativeVisits","_createTextVNode","_component_ion_title","_component_ion_card_header","_component_apexchart","_component_ion_card_content","_component_ion_card","width","type","options","series","defineComponent","name","props","Object","components","IonCard","IonCardHeader","IonCardContent","IonTitle","setup","computed","chart","id","height","zoom","enabled","xaxis","categories","map","d","HisDate","toStandardHisDisplayFormat","tickAmount","labels","show","rotate","noData","text","align","verticalAlign","offsetX","offsetY","style","fontSize","fontFamily","data","complete","incomplete","__exports__","_withId","_withScopeId","_component_ion_card_title","_component_ion_spinner","_component_ion_card_subtitle","_component_ion_icon","_component_ion_card_body","_toDisplayString","isLoading","key","loaderColor","canShowIcon","_createCommentVNode","Number","String","required","length","DashboardService","dateRange","Service","getJson","start","end","today","range","dueDate","date","Layout","VisitStatsChart","IonGrid","IonRow","IonCol","DashboardCard","getDateQuarter","Date","toStandardHisFormat","tomorrow","add","format","STANDARD_DATE_FORMAT","ref","keys","forEach","day","push","missedAppointments","appointmentsDue","dueForViralLoad","defaulters","patientsOnDTG","txCurrent30","txCurrent60","onMounted","getPatientsOnDTG","getVisits","getAppointmentsDue","getMissedAppointments","getTXCurrent","subtract","getPatientsDueForVL","getDefaulters"],"mappings":"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","file":"js/chunk-417f6eaa.a569db59.js","sourcesContent":["import { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createVNode(\"h1\", null, \"Dashboard\", -1)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_dashboard_card = _resolveComponent(\"dashboard-card\")\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_visit_stats_chart = _resolveComponent(\"visit-stats-chart\")\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")\n  const _component_layout = _resolveComponent(\"layout\")\n\n  return (_openBlock(), _createBlock(_component_layout, null, {\n    default: _withCtx(() => [\n      _hoisted_1,\n      _createVNode(_component_ion_grid, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_col, { size: \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.totalMissedAppointments,\n                    label: \"Missed Appointments\",\n                    color: \"primary\",\n                    icon: _ctx.calendar\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { size: \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.totalAppointmentsDue,\n                    label: \"Appointments Due\",\n                    color: \"success\",\n                    icon: _ctx.alarm\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { size: \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.totalDueForVL,\n                    label: \"Due for Viral Load\",\n                    color: \"secondary\",\n                    icon: _ctx.time\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { size: \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.totalDefaulters,\n                    label: \"Defaulters (this Quarter)\",\n                    color: \"danger\",\n                    icon: _ctx.people\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_ion_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_col, { size: \"2\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    label: \"Patients on DTG\",\n                    value: _ctx.totalPatientsOnDTG,\n                    class: \"his-card\"\n                  }, null, 8, [\"value\"]),\n                  _createVNode(_component_dashboard_card, {\n                    label: \"TX Current (30 Days)\",\n                    value: _ctx.totalTXCurrent30,\n                    class: \"his-card\"\n                  }, null, 8, [\"value\"]),\n                  _createVNode(_component_dashboard_card, {\n                    label: \"TX Current (60 Days)\",\n                    value: _ctx.totalTXCurrent60,\n                    class: \"his-card\"\n                  }, null, 8, [\"value\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { size: \"10\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_visit_stats_chart, {\n                    days: _ctx.days,\n                    visits: _ctx.accumulativeVisits\n                  }, null, 8, [\"days\", \"visits\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Complete / incomplete visits\")\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_card_header = _resolveComponent(\"ion-card-header\")\n  const _component_apexchart = _resolveComponent(\"apexchart\")\n  const _component_ion_card_content = _resolveComponent(\"ion-card-content\")\n  const _component_ion_card = _resolveComponent(\"ion-card\")\n\n  return (_openBlock(), _createBlock(_component_ion_card, { class: \"his-card\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_card_header, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_title, null, {\n            default: _withCtx(() => [\n              _hoisted_1\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_card_content, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_apexchart, {\n            width: \"100%\",\n            type: \"line\",\n            options: _ctx.options,\n            series: _ctx.series\n          }, null, 8, [\"options\", \"series\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { computed, defineComponent, PropType } from \"vue\";\nimport HisDate from \"@/utils/Date\";\nimport { IonCard, IonCardHeader, IonCardContent, IonTitle } from \"@ionic/vue\";\n\nexport default defineComponent({\n  name: \"CompleteIncompleteVisits\",\n  props: {\n    visits: {\n      type: Object as PropType<Record<string, number[]>>,\n      default: () => ({})\n    },\n    days: {\n      type: Object as PropType<string[]>,\n      default: () => []\n    }\n  },\n  components: {IonCard, IonCardHeader, IonCardContent, IonTitle},\n  setup(props) {\n    const options = computed(() => ({\n      chart: {\n        id: \"vuechart-example\",\n        height: 510,\n        type: 'line',\n        zoom: {\n          enabled: false\n        }\n      },\n      xaxis: {\n        categories: props.days.map(d => HisDate.toStandardHisDisplayFormat(d)),\n        tickAmount: 30,\n        labels: {\n          show: true,\n          rotate: -75,\n        }\n      },\n      noData: {\n        text: \"Loading data...\",\n        align: \"center\",\n        verticalAlign: \"middle\",\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          color: \"#000000\",\n          fontSize: \"30px\",\n          fontFamily: \"Helvetica\",\n        },\n      },\n    }));\n\n    const series = computed(() => [\n      {\n        name: \"Complete Visits\",\n        data: props.visits.complete,\n      },\n      {\n        name: \"Incomplete Visits\",\n        data: props.visits.incomplete,\n      },\n    ]);\n\n    return {\n      options,\n      series,\n    };\n  },\n});\n","import { render } from \"./CompleteIncompleteVisits.vue?vue&type=template&id=4a2a0dbe&ts=true\"\nimport script from \"./CompleteIncompleteVisits.vue?vue&type=script&lang=ts\"\nexport * from \"./CompleteIncompleteVisits.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-30ee650c\")\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_card_title = _resolveComponent(\"ion-card-title\")\n  const _component_ion_spinner = _resolveComponent(\"ion-spinner\")\n  const _component_ion_card_subtitle = _resolveComponent(\"ion-card-subtitle\")\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")\n  const _component_ion_card_body = _resolveComponent(\"ion-card-body\")\n  const _component_ion_card = _resolveComponent(\"ion-card\")\n\n  return (_openBlock(), _createBlock(_component_ion_card, { color: _ctx.color }, {\n    default: _withId(() => [\n      _createVNode(_component_ion_card_body, { class: \"ion-padding\" }, {\n        default: _withId(() => [\n          _createVNode(_component_ion_card_title, { class: \"ion-padding\" }, {\n            default: _withId(() => [\n              _createTextVNode(_toDisplayString(_ctx.label), 1 /* TEXT */)\n            ]),\n            _: 1\n          }),\n          (_ctx.isLoading)\n            ? (_openBlock(), _createBlock(_component_ion_card_subtitle, {\n                key: 0,\n                class: \"ion-padding\"\n              }, {\n                default: _withId(() => [\n                  _createVNode(_component_ion_spinner, {\n                    name: \"bubbles\",\n                    color: _ctx.loaderColor\n                  }, null, 8, [\"color\"])\n                ]),\n                _: 1\n              }))\n            : (_openBlock(), _createBlock(_component_ion_card_subtitle, {\n                key: 1,\n                class: \"ion-padding\"\n              }, {\n                default: _withId(() => [\n                  _createTextVNode(_toDisplayString(_ctx.value), 1 /* TEXT */)\n                ]),\n                _: 1\n              })),\n          (_ctx.canShowIcon)\n            ? (_openBlock(), _createBlock(_component_ion_icon, {\n                key: 2,\n                icon: _ctx.icon\n              }, null, 8, [\"icon\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"color\"]))\n})","\nimport { computed, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"DashboardCard\",\n  props: {\n    value: {\n      type: Number,\n      default: -1,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n    },\n    color: {\n      type: String,\n      default: 'light'\n    }\n  },\n  setup(props) {\n    const isLoading = computed(() => props.value === -1);\n    const canShowIcon = computed(() => !!props.icon?.length)\n    const loaderColor = computed(() => props.color === 'light' ? 'primary' : 'light')\n    return {\n      isLoading,\n      canShowIcon,\n      loaderColor\n    };\n  },\n});\n","import { render } from \"./DashboardCard.vue?vue&type=template&id=30ee650c&scoped=true&ts=true\"\nimport script from \"./DashboardCard.vue?vue&type=script&lang=ts\"\nexport * from \"./DashboardCard.vue?vue&type=script&lang=ts\"\n\nimport \"./DashboardCard.vue?vue&type=style&index=0&id=30ee650c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30ee650c\"]])\n\nexport default __exports__","import { Service } from \"@/services/service\";\n\nexport default class DashboardService {\n\n  static getVisits (dateRange: Record<string, string>) {\n    return Service.getJson('programs/1/reports/visits', {\n      'name': 'visits',\n      'start_date': dateRange.start,\n      'end_date': dateRange.end\n    })\n  }\n\n  static getMissedAppointments (today: string, range: Record<string, string>) {\n    return Service.getJson('missed_appointments', {\n      'date': today,\n      'start_date': range.start,\n      'end_date': range.end,\n      'program_id': 1\n    })\n  }\n\n  static getAppointmentsDue(dueDate: string) {\n    return Service.getJson('programs/1/booked_appointments', {\n      date: dueDate\n    })\n  }\n\n  static getPatientsDueForVL(dateRange: Record<string, string>){\n    return Service.getJson('programs/1/reports/vl_due', {\n      'start_date': dateRange.start,\n      'endDate': dateRange.end\n    })\n  }\n\n  static getDefaulters(today: string, dateRange: Record<string, string>) {\n    return Service.getJson('defaulter_list', {\n      'date': today,\n      'start_date': dateRange.start,\n      'end_date': dateRange.end,\n      'pepfar': 'true',\n      'program_id': 1\n    })\n  }\n\n  static getPatientsOnDTG(dateRange: Record<string, string>){\n    return Service.getJson('programs/1/reports/patients_on_dtg', {\n      'start_date': dateRange.start,\n      'end_date': dateRange.end\n    })\n  }\n\n  static getTXCurrent(dateRange: Record<string, string>){\n    return Service.getJson('programs/1/reports/tx_curr', {\n      'start_date': dateRange.start,\n      'end_date': dateRange.end\n    })\n  }\n}","\nimport { computed, defineComponent, onMounted, ref } from \"vue\";\nimport Layout from \"@/apps/EMC/Components/Layout.vue\";\nimport VisitStatsChart from \"../Components/charts/CompleteIncompleteVisits.vue\";\nimport { IonGrid, IonRow, IonCol } from \"@ionic/vue\";\nimport DashboardCard from \"../Components/DashboardCard.vue\";\nimport { people, calendar, alarm, hourglass, time } from \"ionicons/icons\";\nimport HisDate, { STANDARD_DATE_FORMAT } from \"@/utils/Date\";\nimport DashboardService from \"../services/dashboard.service\";\n\nexport default defineComponent({\n  components: {\n    Layout,\n    VisitStatsChart,\n    IonGrid,\n    IonRow,\n    IonCol,\n    DashboardCard,\n  },\n  setup() {\n    const range = HisDate.getDateQuarter(new Date());\n    const today = HisDate.toStandardHisFormat(new Date());\n    const tomorrow = HisDate.add(today, \"day\", 1).format(STANDARD_DATE_FORMAT);\n    const visits = ref<any>();\n    const days = computed<string[]>(() => visits.value && Object.keys(visits.value) || []);\n    const accumulativeVisits = computed(() => {\n      const complete: Array<number> = []\n      const incomplete: Array<number> = []\n      days.value.forEach(day => {\n        complete.push(visits.value[day].complete)\n        incomplete.push(visits.value[day].incomplete)\n      })\n      return {\n        complete,\n        incomplete\n      }\n    })\n\n    const missedAppointments = ref<any[]>()\n    const totalMissedAppointments = computed(() => missedAppointments.value?.length || -1);\n\n    const appointmentsDue = ref<any[]>()\n    const totalAppointmentsDue = computed(() => appointmentsDue.value?.length || -1);\n\n    const dueForViralLoad = ref<any[]>()\n    const totalDueForVL = computed(() => dueForViralLoad.value?.length || -1);\n\n    const defaulters = ref<any[]>()\n    const totalDefaulters = computed(() => defaulters.value?.length || -1);\n\n    const patientsOnDTG = ref<any[]>()\n    const totalPatientsOnDTG = computed(() => patientsOnDTG.value?.length || -1)\n\n    const txCurrent30 = ref<any[]>()\n    const totalTXCurrent30 = computed(() => txCurrent30.value?.length)\n\n    const txCurrent60 = ref<any[]>()\n    const totalTXCurrent60 = computed(() => txCurrent60.value?.length)\n\n    onMounted(async () => {\n      patientsOnDTG.value = await DashboardService.getPatientsOnDTG(range)\n      visits.value = await DashboardService.getVisits(range)\n      appointmentsDue.value = await DashboardService.getAppointmentsDue(tomorrow)\n      missedAppointments.value = await DashboardService.getMissedAppointments(today, range)\n      txCurrent30.value = await DashboardService.getTXCurrent({\n        start: today, \n        end: HisDate.subtract(today, 'days', 30).format(STANDARD_DATE_FORMAT)\n      })\n      txCurrent60.value = await DashboardService.getTXCurrent({\n        start: today, \n        end: HisDate.subtract(today, 'days', 60).format(STANDARD_DATE_FORMAT)\n      })\n      dueForViralLoad.value = await DashboardService.getPatientsDueForVL(range)\n      defaulters.value = await DashboardService.getDefaulters(today, range)\n    })\n\n    return {\n      people,\n      calendar,\n      alarm,\n      time,\n      totalMissedAppointments,\n      totalAppointmentsDue,\n      totalDueForVL,\n      totalDefaulters,\n      days,\n      accumulativeVisits,\n      totalPatientsOnDTG,\n      totalTXCurrent30,\n      totalTXCurrent60,\n    };\n  },\n});\n","import { render } from \"./Dashboard.vue?vue&type=template&id=adc8da10&ts=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DashboardCard.vue?vue&type=style&index=0&id=30ee650c&scoped=true&lang=css\""],"sourceRoot":""}