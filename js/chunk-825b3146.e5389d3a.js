(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-825b3146","chunk-26c753d6"],{"0c79":function(e,t,o){},"0e03":function(e,t,o){"use strict";var n=o("7a23"),a=Object(n["withScopeId"])("data-v-c719b9ce");Object(n["pushScopeId"])("data-v-c719b9ce");var c={key:0},i={key:1};Object(n["popScopeId"])();var r=a((function(e,t,o,r,s,l){var d=Object(n["resolveComponent"])("ion-thumbnail"),u=Object(n["resolveComponent"])("ion-label"),b=Object(n["resolveComponent"])("ion-item"),p=Object(n["resolveComponent"])("ion-card");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{class:["his-card task-card",{clickable:!e.isDisabled,disabled:e.isDisabled}]},{default:a((function(){return[Object(n["createVNode"])(b,{lines:"none"},{default:a((function(){return[Object(n["createVNode"])(d,{slot:"start"},{default:a((function(){return[Object(n["createVNode"])("img",{src:e.activeIcon},null,8,["src"])]})),_:1}),Object(n["createVNode"])(u,{class:"his-sm-text ion-text-wrap",style:{"font-weight":"600",color:"#333!important"}},{default:a((function(){return[e.isCompleted?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("span",c,Object(n["toDisplayString"])(e.title),1)),e.isCompleted?(Object(n["openBlock"])(),Object(n["createBlock"])("s",i,Object(n["toDisplayString"])(e.title),1)):Object(n["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1},8,["class"])})),s=o("8a30"),l=o("1718"),d=Object(n["defineComponent"])({components:{IonCard:s["f"],IonThumbnail:s["O"],IonItem:s["w"],IonLabel:s["x"]},props:{title:{type:String,required:!0},icon:{type:String,required:!0},description:{type:String,required:!1},taskDisabled:{type:Boolean,required:!1},taskCompleted:{type:Boolean,required:!1}},setup:function(e){var t="boolean"===typeof e.taskCompleted&&e.taskCompleted,o="boolean"===typeof e.taskDisabled&&e.taskDisabled,a=Object(n["computed"])((function(){return o?Object(l["a"])("Disabled.svg"):t?Object(l["a"])("Checkmark.svg"):e.icon}));return{activeIcon:a,isDisabled:o,isCompleted:t}}}),u=(o("cbbc"),o("6b0d")),b=o.n(u);const p=b()(d,[["render",r],["__scopeId","data-v-c719b9ce"]]);t["a"]=p},"111c":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),a=Object(n["withScopeId"])("data-v-360fd8c4");Object(n["pushScopeId"])("data-v-360fd8c4");var c={style:{"font-size":"0.7em","font-weight":"bold"},class:"ion-text-center"};Object(n["popScopeId"])();var i=a((function(e,t,o,i,r,s){var l=Object(n["resolveComponent"])("ion-img"),d=Object(n["resolveComponent"])("tool-bar-medium-card");return Object(n["openBlock"])(),Object(n["createBlock"])(d,null,{default:a((function(){return[e.icon?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,src:e.icon,id:"logo"},null,8,["src"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",c,Object(n["toDisplayString"])(e.version),1)]})),_:1})})),r=o("2b47"),s=o("8a30"),l=Object(n["defineComponent"])({name:"AppIcon",components:{IonImg:s["s"],ToolBarMediumCard:r["a"]},props:{icon:{type:String,required:!0},version:{type:String,default:"-/-"}}}),d=(o("5357"),o("6b0d")),u=o.n(d);const b=u()(l,[["render",i],["__scopeId","data-v-360fd8c4"]]);t["default"]=b},"1bc0":function(e,t,o){},"2b07":function(e,t,o){"use strict";o("0c79")},"2b47":function(e,t,o){"use strict";var n=o("7a23");const a={class:"tool-bar-medium-card"};function c(e,t,o,c,i,r){return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[Object(n["renderSlot"])(e.$slots,"default")])}var i=Object(n["defineComponent"])({name:"ToolBarMediumCard"}),r=o("6b0d"),s=o.n(r);const l=s()(i,[["render",c]]);t["a"]=l},4568:function(e,t,o){},5357:function(e,t,o){"use strict";o("5b1c")},5906:function(e,t,o){"use strict";o.r(t);var n=o("7a23");const a=Object(n["withScopeId"])("data-v-2709f2f0");Object(n["pushScopeId"])("data-v-2709f2f0");const c=Object(n["createTextVNode"])("Visits"),i=Object(n["createTextVNode"])("Patient"),r=Object(n["createTextVNode"])("Program"),s=Object(n["createTextVNode"])("Dates"),l={key:0},d=Object(n["createVNode"])("p",null,null,-1),u={class:"his-card info-card-item"},b=Object(n["createTextVNode"])(" Today "),p={class:"his-card info-card-item"},m=Object(n["createTextVNode"])(" Session "),O={class:"his-card info-card-item"},j=Object(n["createTextVNode"])(" Current visit date "),h={class:"his-sm-text his-card"},f=Object(n["createTextVNode"])(" Today's Date: "),v={key:0},g={key:1},k=Object(n["createTextVNode"])(" Next Task: "),C=Object(n["createVNode"])("b",null,"NONE",-1),V={key:0},N={key:1},I=Object(n["createTextVNode"])(" Set Date: "),y={key:1},_=Object(n["createTextVNode"])(" Tasks "),D=Object(n["createTextVNode"])(" Printouts/Other "),B=Object(n["createTextVNode"])(" Applications "),w=Object(n["createTextVNode"])(" Finish ");Object(n["popScopeId"])();const T=a((function(e,t,o,T,x,S){const P=Object(n["resolveComponent"])("minimal-toolbar"),L=Object(n["resolveComponent"])("ion-icon"),E=Object(n["resolveComponent"])("ion-label"),A=Object(n["resolveComponent"])("ion-segment-button"),M=Object(n["resolveComponent"])("ion-segment"),z=Object(n["resolveComponent"])("ion-toolbar"),q=Object(n["resolveComponent"])("ion-button"),F=Object(n["resolveComponent"])("primary-card"),H=Object(n["resolveComponent"])("ion-col"),R=Object(n["resolveComponent"])("ion-row"),$=Object(n["resolveComponent"])("ion-grid"),J=Object(n["resolveComponent"])("ion-item"),U=Object(n["resolveComponent"])("ion-list"),G=Object(n["resolveComponent"])("ion-content"),Q=Object(n["resolveComponent"])("ion-footer"),W=Object(n["resolveComponent"])("ion-page"),X=Object(n["resolveComponent"])("full-toolbar"),K=Object(n["resolveComponent"])("visit-dates-card"),Y=Object(n["resolveComponent"])("ion-chip");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,["sm"===e.screenBreakPoint?(Object(n["openBlock"])(),Object(n["createBlock"])(W,{key:0},{default:a(()=>[Object(n["createVNode"])(P,{title:e.patientName,menuTitle:e.visitDatesTitle,menuItems:e.visitDates,appIcon:e.app.applicationIcon,onOnClickMenuItem:e.onActiveVisitDate},null,8,["title","menuTitle","menuItems","appIcon","onOnClickMenuItem"]),"sm"===e.screenBreakPoint?(Object(n["openBlock"])(),Object(n["createBlock"])(z,{key:0},{default:a(()=>[Object(n["createVNode"])(M,{value:e.activeTab,class:"ion-justify-content-center"},{default:a(()=>[Object(n["createVNode"])(A,{value:"1",onClick:t[1]||(t[1]=t=>e.activeTab=1)},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.calendar},null,8,["icon"]),Object(n["createVNode"])(E,null,{default:a(()=>[c]),_:1})]),_:1}),Object(n["createVNode"])(A,{value:"2",onClick:t[2]||(t[2]=t=>e.activeTab=2)},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.person},null,8,["icon"]),Object(n["createVNode"])(E,null,{default:a(()=>[i]),_:1})]),_:1}),Object(n["createVNode"])(A,{value:"3",onClick:t[3]||(t[3]=t=>e.activeTab=3)},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.medical},null,8,["icon"]),Object(n["createVNode"])(E,null,{default:a(()=>[r]),_:1})]),_:1}),Object(n["createVNode"])(A,{value:"4",onClick:t[4]||(t[4]=t=>e.activeTab=4)},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.time},null,8,["icon"]),Object(n["createVNode"])(E,null,{default:a(()=>[s]),_:1})]),_:1})]),_:1},8,["value"])]),_:1})):Object(n["createCommentVNode"])("",!0),e.nextTask.name&&"sm"===e.screenBreakPoint?(Object(n["openBlock"])(),Object(n["createBlock"])(z,{key:1},{default:a(()=>[Object(n["createVNode"])(q,{style:{width:"100%"},color:"success",onClick:e.goToNextTask},{default:a(()=>[Object(n["createVNode"])(E,null,{default:a(()=>[Object(n["createVNode"])("b",null,"Next Task: "+Object(n["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]),_:1}),Object(n["createVNode"])(L,{icon:e.alertCircle},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(G,{id:"main-content"},{default:a(()=>["sm"===e.screenBreakPoint?(Object(n["openBlock"])(),Object(n["createBlock"])("div",l,[e.appHasCustomContent&&1===e.activeTab&&e.patientIsset?(Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(n["createCommentVNode"])("",!0),e.appHasCustomContent||1!==e.activeTab?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])($,{key:1},{default:a(()=>[Object(n["createVNode"])(R,null,{default:a(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.patientCards,(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])(H,{size:"12",key:t},{default:a(()=>[Object(n["createVNode"])(F,{key:"mcard"+t,isEnabled:e.isEnabled,counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,isLoading:e.isLoading,onClick:t=>e.onClick(e)},null,8,["isEnabled","counter","icon","title","titleColor","items","isLoading","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})),2===e.activeTab?(Object(n["openBlock"])(),Object(n["createBlock"])(U,{key:2},{default:a(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.patientCardInfo,(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(n["createVNode"])(J,{lines:"none"},{default:a(()=>[Object(n["createVNode"])(E,null,{default:a(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.label),1)]),_:2},1024),Object(n["createVNode"])(E,{slot:"end"},{default:a(()=>[Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.value),1)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})):Object(n["createCommentVNode"])("",!0),3===e.activeTab?(Object(n["openBlock"])(),Object(n["createBlock"])(U,{key:3},{default:a(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.programCardInfo,(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(n["createVNode"])(J,{lines:"none"},{default:a(()=>[Object(n["createVNode"])(E,null,{default:a(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.label),1)]),_:2},1024),Object(n["createVNode"])(E,{slot:"end"},{default:a(()=>[Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.value),1)]),_:2},1024)]),_:2},1024),d]))),128))]),_:1})):Object(n["createCommentVNode"])("",!0),4===e.activeTab?(Object(n["openBlock"])(),Object(n["createBlock"])(U,{key:4},{default:a(()=>[Object(n["createVNode"])("div",u,[Object(n["createVNode"])(J,{lines:"none"},{default:a(()=>[Object(n["createVNode"])(E,null,{default:a(()=>[b]),_:1}),Object(n["createVNode"])(E,{slot:"end"},{default:a(()=>[Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.currentDate),1)]),_:1})]),_:1})]),Object(n["createVNode"])("div",p,[Object(n["createVNode"])(J,{lines:"none"},{default:a(()=>[Object(n["createVNode"])(E,null,{default:a(()=>[m]),_:1}),Object(n["createVNode"])(E,{slot:"end"},{default:a(()=>[Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.sessionDate),1)]),_:1})]),_:1})]),Object(n["createVNode"])("div",O,[Object(n["createVNode"])(J,{lines:"none"},{default:a(()=>[Object(n["createVNode"])(E,null,{default:a(()=>[j]),_:1}),Object(n["createVNode"])(E,{slot:"end"},{default:a(()=>[Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.activeVisitDate),1)]),_:1})]),_:1})])]),_:1})):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0)]),_:1}),Object(n["createVNode"])(Q,null,{default:a(()=>["sm"===e.screenBreakPoint?(Object(n["openBlock"])(),Object(n["createBlock"])(z,{key:0,color:"dark"},{default:a(()=>[Object(n["createVNode"])(q,{color:"primary",size:"medium",slot:"end",onClick:e.showTasks},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.clipboard},null,8,["icon"])]),_:1},8,["onClick"]),Object(n["createVNode"])(q,{color:"primary",size:"medium",slot:"end",onClick:e.showOptions},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.folder},null,8,["icon"])]),_:1},8,["onClick"]),Object(n["createVNode"])(q,{color:"primary",size:"medium",slot:"end",onClick:e.changeApp},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.apps},null,8,["icon"])]),_:1},8,["onClick"]),Object(n["createVNode"])(q,{color:"success",size:"medium",slot:"end",onClick:e.onCancel},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.logOut},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})):Object(n["createCommentVNode"])("",!0)]),_:1})]),_:1})):Object(n["createCommentVNode"])("",!0),"lg"===e.screenBreakPoint?(Object(n["openBlock"])(),Object(n["createBlock"])(W,{key:1},{default:a(()=>[Object(n["createVNode"])(X,{appVersion:e.appVersion,appIcon:e.app.applicationIcon,patientCardInfo:e.patientCardInfo,programCardInfo:e.programCardInfo},null,8,["appVersion","appIcon","patientCardInfo","programCardInfo"]),Object(n["createVNode"])(G,{id:"main-content"},{default:a(()=>[e.appHasCustomDashboard?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])($,{key:0,class:"grid-custom vertically-align"},{default:a(()=>[Object(n["createVNode"])(R,null,{default:a(()=>[Object(n["createVNode"])(H,{size:"2.4"},{default:a(()=>[Object(n["createVNode"])(K,{title:e.visitDatesTitle,items:e.visitDates,onOnselect:e.onActiveVisitDate},null,8,["title","items","onOnselect"])]),_:1}),Object(n["createVNode"])(H,{size:"9.6"},{default:a(()=>[Object(n["createVNode"])("div",h,[Object(n["createVNode"])(R,null,{default:a(()=>[Object(n["createVNode"])(H,{"size-md":"4","size-sm":"6"},{default:a(()=>[f,Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.currentDate),1)]),_:1}),Object(n["createVNode"])(H,{"size-md":"4","size-sm":"6"},{default:a(()=>[e.nextTask.name?(Object(n["openBlock"])(),Object(n["createBlock"])("span",v,[Object(n["createVNode"])(Y,{class:"next-task",color:"success",onClick:e.goToNextTask},{default:a(()=>[Object(n["createTextVNode"])("Next Task: "+Object(n["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]),_:1},8,["onClick"])])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",g,[k,C]))]),_:1}),Object(n["createVNode"])(H,{"size-md":"4","size-sm":"12"},{default:a(()=>[e.isBDE?(Object(n["openBlock"])(),Object(n["createBlock"])("span",V,[Object(n["createVNode"])(Y,{style:{marginTop:"-8px"},color:"danger",onClick:t[5]||(t[5]=t=>e.$router.push({name:"Session Date"}))},{default:a(()=>[Object(n["createVNode"])("b",null," BDE: "+Object(n["toDisplayString"])(e.sessionDate.toUpperCase()),1)]),_:1})])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",N,[I,Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.sessionDate),1)]))]),_:1})]),_:1}),e.appHasCustomContent&&e.patientIsset?(Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(n["createCommentVNode"])("",!0),e.appHasCustomContent?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",y,[Object(n["createVNode"])(R,null,{default:a(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.patientCards,(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])(H,{size:"6",key:t},{default:a(()=>[Object(n["createVNode"])(F,{key:e.label,isEnabled:e.isEnabled,counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,isLoading:e.isLoading,onClick:t=>e.onClick(e)},null,8,["isEnabled","counter","icon","title","titleColor","items","isLoading","onClick"])]),_:2},1024))),128))]),_:1})]))])]),_:1})]),_:1})]),_:1}))]),_:1}),Object(n["createVNode"])(z,{color:"dark"},{default:a(()=>[Object(n["createVNode"])(q,{color:"primary",size:"large",slot:"end",onClick:e.showTasks},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.clipboardOutline},null,8,["icon"]),_]),_:1},8,["onClick"]),Object(n["createVNode"])(q,{color:"primary",size:"large",slot:"end",onClick:e.showOptions},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.folderOutline},null,8,["icon"]),D]),_:1},8,["onClick"]),Object(n["createVNode"])(q,{color:"primary",size:"large",slot:"end",onClick:e.changeApp},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.appsOutline},null,8,["icon"]),B]),_:1},8,["onClick"]),Object(n["createVNode"])(q,{onClick:e.onCancel,color:"success",size:"large",slot:"end"},{default:a(()=>[Object(n["createVNode"])(L,{icon:e.logOutOutline},null,8,["icon"]),w]),_:1},8,["onClick"])]),_:1})]),_:1})):Object(n["createCommentVNode"])("",!0)],64)}));o("13d5");var x=o("3e53"),S=o("9283"),P=o("23e6"),L=o("ad60"),E=o("7957"),A=o("71c3"),M=o("9b7c"),z=(o("b0c0"),o("a4d30"),o("e01a"),Object(n["withScopeId"])("data-v-0f1e8a5b"));Object(n["pushScopeId"])("data-v-0f1e8a5b");var q=Object(n["createTextVNode"])(" Close ");Object(n["popScopeId"])();var F=z((function(e,t,o,a,c,i){var r=Object(n["resolveComponent"])("ion-title"),s=Object(n["resolveComponent"])("ion-toolbar"),l=Object(n["resolveComponent"])("ion-header"),d=Object(n["resolveComponent"])("task-card"),u=Object(n["resolveComponent"])("ion-col"),b=Object(n["resolveComponent"])("ion-row"),p=Object(n["resolveComponent"])("ion-grid"),m=Object(n["resolveComponent"])("ion-button"),O=Object(n["resolveComponent"])("ion-footer");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,null,{default:z((function(){return[Object(n["createVNode"])(s,null,{default:z((function(){return[Object(n["createVNode"])(r,null,{default:z((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(p,{class:"selector"},{default:z((function(){return[Object(n["createVNode"])(b,null,{default:z((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.filteredItems,(function(t,o){return Object(n["openBlock"])(),Object(n["createBlock"])(u,{"size-lg":"4","size-sm":"6",key:o},{default:z((function(){return[Object(n["createVNode"])(d,{onClick:function(o){return e.doTask(t)},title:t.name.toUpperCase(),description:t.description,taskCompleted:t.taskCompleted,taskDisabled:e.isDisabled(t.disabled),icon:e.img(t.icon)},null,8,["onClick","title","description","taskCompleted","taskDisabled","icon"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(n["createVNode"])(O,null,{default:z((function(){return[Object(n["createVNode"])(s,null,{default:z((function(){return[Object(n["createVNode"])(m,{class:"close-btn",color:"danger",size:"large",onClick:e.closeModal,slot:"end"},{default:z((function(){return[q]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),H=o("1da1"),R=(o("d3b7"),o("ddb0"),o("96cf"),o("1718")),$=o("0e03"),J=o("ad49"),U=o("8a30"),G=o("2ef0"),Q=o("b5e4"),W=Object(n["defineComponent"])({components:{IonGrid:U["p"],IonRow:U["H"],IonCol:U["m"],TaskCard:$["a"],IonFooter:U["o"],IonToolbar:U["Q"],IonButton:U["d"],IonHeader:U["q"],IonTitle:U["P"]},props:{title:{type:String,default:"Select Activity"},items:{type:Object,required:!0},taskParams:{type:Object,required:!1}},data:function(){return{filteredItems:[]}},watch:{items:{handler:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function o(){var n,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e&&!Object(G["isEmpty"])(e)){o.next=2;break}return o.abrupt("return");case 2:o.t0=regeneratorRuntime.keys(e);case 3:if((o.t1=o.t0()).done){o.next=19;break}if(n=o.t1.value,a=e[n],!a.globalProperty){o.next=11;break}return o.next=9,J["a"].isProp(a.globalProperty);case 9:if(o.sent){o.next=11;break}return o.abrupt("continue",3);case 11:if(!a.condition){o.next=16;break}return o.next=14,a.condition(t.taskParams);case 14:if(o.sent){o.next=16;break}return o.abrupt("continue",3);case 16:t.filteredItems.push(a),o.next=3;break;case 19:case"end":return o.stop()}}),o)})))()},deep:!0,immediate:!0}},methods:{img:function(e){return Object(R["a"])(e)},isDisabled:function(e){return"function"===typeof e&&e(this.taskParams)},closeModal:function(){U["X"].dismiss({})},doTask:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.isDisabled(e.disabled)){o.next=2;break}return o.abrupt("return",Object(Q["e"])("This task is disabled"));case 2:if("boolean"!==typeof e.taskCompleted||null===e||void 0===e||!e.taskCompleted){o.next=7;break}return o.next=5,Object(Q["a"])("This task was already completed. Do you want to continue?");case 5:if(o.sent){o.next=7;break}return o.abrupt("return");case 7:e.action?e.action(t.taskParams,t.$router):e.url?t.$router.push({path:e.url}):t.$router.push({name:e.id,params:{patient_id:null===(n=t.taskParams)||void 0===n?void 0:n.patient.patient_id}}),t.closeModal();case 9:case"end":return o.stop()}}),o)})))()}}}),X=(o("6ba7"),o("6b0d")),K=o.n(X);const Y=K()(W,[["render",F],["__scopeId","data-v-0f1e8a5b"]]);var Z=Y;const ee=Object(n["withScopeId"])("data-v-e6fe704c");Object(n["pushScopeId"])("data-v-e6fe704c");const te={style:{float:"right"}},oe={class:"tb"},ne=Object(n["createTextVNode"])(" Void encounter"),ae=Object(n["createTextVNode"])(" Close ");Object(n["popScopeId"])();const ce=ee((function(e,t,o,a,c,i){const r=Object(n["resolveComponent"])("ion-title"),s=Object(n["resolveComponent"])("ion-toolbar"),l=Object(n["resolveComponent"])("ion-header"),d=Object(n["resolveComponent"])("ion-item"),u=Object(n["resolveComponent"])("ion-list"),b=Object(n["resolveComponent"])("ion-col"),p=Object(n["resolveComponent"])("his-basic-table"),m=Object(n["resolveComponent"])("ion-row"),O=Object(n["resolveComponent"])("ion-content"),j=Object(n["resolveComponent"])("ion-button"),h=Object(n["resolveComponent"])("ion-footer");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,null,{default:ee(()=>[Object(n["createVNode"])(s,null,{default:ee(()=>[Object(n["createVNode"])(r,{class:"his-md-text"},{default:ee(()=>[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(e.title),1),Object(n["createVNode"])("span",te,"Provider: "+Object(n["toDisplayString"])(e.active.provider),1)]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(O,null,{default:ee(()=>[Object(n["createVNode"])(m,null,{default:ee(()=>[Object(n["createVNode"])(b,{size:"4"},{default:ee(()=>[Object(n["createVNode"])(u,null,{default:ee(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.encounters,(t,o)=>(Object(n["openBlock"])(),Object(n["createBlock"])(d,{class:"his-sm-text",key:o,color:t.other.id===e.active.id?"primary":"",detail:!0,onClick:()=>e.showDetails(t)},{default:ee(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.label),1)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),Object(n["createVNode"])(b,{size:"8"},{default:ee(()=>[Object(n["createVNode"])("div",oe,[Object(n["createVNode"])(p,{columns:e.active.columns,rows:e.active.rows},null,8,["columns","rows"])])]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(h,null,{default:ee(()=>[Object(n["createVNode"])(s,null,{default:ee(()=>[Object(n["createVNode"])(j,{color:"danger",onClick:e.voidActiveItem,disabled:!e.canVoid,size:"large"},{default:ee(()=>[ne]),_:1},8,["onClick","disabled"]),Object(n["createVNode"])(j,{onClick:e.closeModal,size:"large",slot:"end"},{default:ee(()=>[ae]),_:1},8,["onClick"])]),_:1})]),_:1})],64)}));var ie=o("a3a5"),re=o("76df"),se=Object(n["defineComponent"])({components:{HisBasicTable:ie["a"],IonButton:U["d"],IonToolbar:U["Q"],IonList:U["y"],IonFooter:U["o"],IonContent:U["n"],IonRow:U["H"],IonCol:U["m"],IonTitle:U["P"],IonHeader:U["q"],IonItem:U["w"]},data:()=>({active:{id:-1,name:"",provider:"",rows:[],columns:[]},encounters:[]}),computed:{canVoid(){return!Object(G["isEmpty"])(this.active)&&!Object(G["isEmpty"])(this.active.rows)}},watch:{items:{handler(e){Object(G["isEmpty"])(e)||(this.encounters=e,this.showDetails(this.encounters[0]))},immediate:!0,deep:!0}},props:{title:{type:String,required:!0},items:{type:Object,required:!0}},methods:{closeModal(){U["X"].dismiss({})},removeEncounter(e){this.encounters=this.encounters.filter(t=>t.other.id!=e)},voidActiveItem(){Object(re["a"])(async e=>{try{await this.active.onVoid(e),this.removeEncounter(this.active.id),this.active={},Object(G["isEmpty"])(this.encounters)||this.showDetails(this.encounters[0])}catch(t){Object(Q["c"])(t)}},"void-modal custom-modal-backdrop")},async showDetails(e){this.active.id=e.other.id,this.active.name=e.label,this.active.columns=e.other.columns,this.active.onVoid=e.other.onVoid,this.active.rows=await e.other.getRows(),this.active.provider=await e.other.provider}}});o("627d");const le=K()(se,[["render",ce],["__scopeId","data-v-e6fe704c"]]);var de=le,ue=Object(n["createTextVNode"])(" Close ");function be(e,t,o,a,c,i){var r=Object(n["resolveComponent"])("ion-title"),s=Object(n["resolveComponent"])("ion-toolbar"),l=Object(n["resolveComponent"])("ion-header"),d=Object(n["resolveComponent"])("his-basic-table"),u=Object(n["resolveComponent"])("ion-content"),b=Object(n["resolveComponent"])("ion-button"),p=Object(n["resolveComponent"])("ion-footer");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r,{class:"his-md-text"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(u,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(n["createVNode"])(p,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{size:"large",onClick:e.closeModal,slot:"end"},{default:Object(n["withCtx"])((function(){return[ue]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var pe=Object(n["defineComponent"])({components:{HisBasicTable:ie["a"],IonHeader:U["q"],IonToolbar:U["Q"],IonContent:U["n"],IonFooter:U["o"],IonButton:U["d"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},rows:{type:Object,default:!0}},methods:{closeModal:function(){return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U["X"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()}}});const me=K()(pe,[["render",be]]);var Oe=me,je=o("50e7"),he=o("ff79"),fe=o("ec2a"),ve=o("8158"),ge=o("d10e"),ke=o("0fa1");const Ce=Object(n["withScopeId"])("data-v-4526fe87"),Ve=Ce((function(e,t,o,a,c,i){const r=Object(n["resolveComponent"])("ion-badge"),s=Object(n["resolveComponent"])("ion-label"),l=Object(n["resolveComponent"])("ion-item"),d=Object(n["resolveComponent"])("text-skeleton"),u=Object(n["resolveComponent"])("ion-icon"),b=Object(n["resolveComponent"])("ion-chip"),p=Object(n["resolveComponent"])("ion-list");return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:["card",{inactive:!e.isEnabled,clickable:e.isEnabled}]},[Object(n["createVNode"])(l,{color:e.titleColor,lines:"none",class:"his-md-text title-card"},{default:Ce(()=>[Object(n["createVNode"])(r,{slot:"start",class:"his-sm-text",color:"light"},{default:Ce(()=>[Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(e.counter),1)]),_:1}),Object(n["createVNode"])(s,null,{default:Ce(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.title),1)]),_:1})]),_:1},8,["color"]),e.isLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:0,itemCount:5})):Object(n["createCommentVNode"])("",!0),e.isLoading?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:1},{default:Ce(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.items,(t,o)=>(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:o},{default:Ce(()=>{var o;return[Object(n["createVNode"])(s,{class:null!==t&&void 0!==t&&null!==(o=t.other)&&void 0!==o&&o.wrapTxt?"ion-text-wrap":"",innerHTML:t.label},null,8,["class","innerHTML"]),t.value?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,class:"his-sm-text",slot:"end"},{default:Ce(()=>[Object(n["createVNode"])(u,{icon:e.icon},null,8,["icon"]),Object(n["createVNode"])(s,null,{default:Ce(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.value),1)]),_:2},1024)]),_:2},1024)):Object(n["createCommentVNode"])("",!0)]}),_:2},1024))),128))]),_:1}))],2)}));var Ne=o("ded6"),Ie=Object(n["defineComponent"])({components:{TextSkeleton:Ne["a"],IonLabel:U["x"],IonList:U["y"],IonItem:U["w"],IonChip:U["l"],IonIcon:U["r"],IonBadge:U["c"]},data:()=>({time:he["N"]}),props:{isEnabled:{type:Boolean,default:()=>!0},counter:{type:Number,required:!1},isLoading:{type:Boolean},icon:{type:Object},title:{type:String,required:!0},items:{type:Object},titleColor:{type:String,required:!1,default:()=>"#337ab7"}}});o("913b");const ye=K()(Ie,[["render",Ve],["__scopeId","data-v-4526fe87"]]);var _e=ye,De=Object(n["withScopeId"])("data-v-fb9fb750");Object(n["pushScopeId"])("data-v-fb9fb750");var Be={class:"card his-card"},we={class:"his-md-text header-section"},Te={class:"bottom-section"};Object(n["popScopeId"])();var xe=De((function(e,t,o,a,c,i){var r=Object(n["resolveComponent"])("ion-item"),s=Object(n["resolveComponent"])("ion-list");return Object(n["openBlock"])(),Object(n["createBlock"])("div",Be,[Object(n["createVNode"])("div",we,Object(n["toDisplayString"])(e.title),1),Object(n["createVNode"])("button",{class:"nav-btn nav-btn-top clickable",disabled:!e.showPrevButton,onClick:t[1]||(t[1]=function(){return e.goPrev.apply(e,arguments)})},[Object(n["createVNode"])("img",{src:e.upbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"]),Object(n["createVNode"])("div",{class:e.listAlignmentClass},[Object(n["createVNode"])(s,null,{default:De((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.activeListItems,(function(t,o){return Object(n["openBlock"])(),Object(n["createBlock"])(r,{class:"his-md-text",key:o,onClick:function(o){return e.onselect(t)},detail:!0,color:e.isActive(t)?"primary":""},{default:De((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick","color"])})),128))]})),_:1})],2),Object(n["createVNode"])("div",Te,[Object(n["createVNode"])("button",{class:"nav-btn nav-btn-bottom clickable",disabled:!e.showNextButton,onClick:t[2]||(t[2]=function(){return e.goNext.apply(e,arguments)})},[Object(n["createVNode"])("img",{src:e.downbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"])])])})),Se=Object(n["defineComponent"])({components:{IonList:U["y"],IonItem:U["w"]},props:{title:{type:String,default:function(){return"Visits"}},items:{type:Object,required:!0}},data:function(){return{active:{},activeListItems:[],paginatedListItems:[],index:-1,perPage:6,btnSize:45}},computed:{listAlignmentClass:function(){return this.activeListItems&&this.activeListItems.length===this.perPage?"vertically-align":""},upbuttonImg:function(){return"/assets/images/drop-up-arrow.svg"},downbuttonImg:function(){return"/assets/images/drop-down-arrow.svg"},showNextButton:function(){return this.index+1<this.paginatedListItems.length},showPrevButton:function(){return this.index>=1}},watch:{items:{handler:function(e){if(!Object(G["isEmpty"])(e))for(var t in this.index=0,this.paginatedListItems=Object(G["chunk"])(e,this.perPage),this.activeListItems=this.paginatedListItems[0],this.active=this.activeListItems[0],this.paginatedListItems){var o=Object(G["findIndex"])(this.paginatedListItems[t],(function(e){return!0===e.other.isActive}),0);if(-1!=o){this.index=parseInt(t),this.activeListItems=this.paginatedListItems[t],this.active=this.activeListItems[o];break}}},deep:!0,immediate:!0},index:{handler:function(e){this.activeListItems=this.paginatedListItems[e]},immediate:!0},active:function(e){this.$emit("onselect",e)}},methods:{onselect:function(e){this.active=e},isActive:function(e){return e.label===this.active.label},goNext:function(){var e=this.index+1;e<=this.paginatedListItems.length&&(this.index=e)},goPrev:function(){this.paginatedListItems.length>=1&&(this.index-=1)}}});o("2b07");const Pe=K()(Se,[["render",xe],["__scopeId","data-v-fb9fb750"]]);var Le=Pe;function Ee(){const e=Object(n["ref"])({width:window.innerWidth,height:window.innerHeight});function t(t){e.value={height:t.currentTarget.innerHeight,width:t.currentTarget.innerWidth}}return Object(n["onMounted"])(()=>{addEventListener("resize",t)}),Object(n["onUnmounted"])(()=>{removeEventListener("resize",t)}),{resolution:e}}function Ae(e,t,o,a,c,i){const r=Object(n["resolveComponent"])("info-card"),s=Object(n["resolveComponent"])("ion-col"),l=Object(n["resolveComponent"])("icon-card"),d=Object(n["resolveComponent"])("ion-row"),u=Object(n["resolveComponent"])("ion-toolbar"),b=Object(n["resolveComponent"])("ion-header");return Object(n["openBlock"])(),Object(n["createBlock"])(b,{translucent:!0},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(u,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(d,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,{size:"5"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(r,{items:e.patientCardInfo},null,8,["items"])]),_:1}),Object(n["createVNode"])(s,{size:"5"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(r,{items:e.programCardInfo},null,8,["items"])]),_:1}),Object(n["createVNode"])(s,{size:"2"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(l,{version:e.appVersion,icon:e.logo},null,8,["version","icon"])]),_:1})]),_:1})]),_:1})]),_:1})}var Me=Object(n["withScopeId"])("data-v-031d3d8c");Object(n["pushScopeId"])("data-v-031d3d8c");var ze={class:"tool-bar-medium-card"};Object(n["popScopeId"])();var qe=Me((function(e,t,o,a,c,i){var r=Object(n["resolveComponent"])("ion-icon");return Object(n["openBlock"])(),Object(n["createBlock"])("div",ze,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.items,(function(t,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:o},[e.hasIcon(t)?(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:0,icon:t.other.icon},null,8,["icon"])):Object(n["createCommentVNode"])("",!0),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.label)+": ",1),Object(n["createVNode"])("b",null,Object(n["toDisplayString"])(t.value),1)])})),128))])})),Fe=Object(n["defineComponent"])({name:"HisResultCard",components:{IonIcon:U["r"]},props:{icon:{required:!1},items:{type:Object,required:!0}},methods:{hasIcon:function(e){return"other"in e&&"icon"in e.other}}});o("eed0");const He=K()(Fe,[["render",qe],["__scopeId","data-v-031d3d8c"]]);var Re=He,$e=o("111c"),Je=Object(n["defineComponent"])({name:"PatientToolbar",components:{IonHeader:U["q"],IonToolbar:U["Q"],IonCol:U["m"],IonRow:U["H"],InfoCard:Re,IconCard:$e["default"]},props:{appVersion:{type:String},patientCardInfo:{type:Array,required:!0},programCardInfo:{type:Array,required:!0},appIcon:{type:String,required:!0}},computed:{logo(){return Object(R["a"])(this.appIcon)}}});const Ue=K()(Je,[["render",Ae]]);var Ge=Ue,Qe=o("8e8b"),We=Object(n["defineComponent"])({components:{IonSegment:U["I"],IonSegmentButton:U["J"],IonChip:U["l"],IonPage:U["D"],IonIcon:U["r"],IonFooter:U["o"],IonContent:U["n"],IonButton:U["d"],IonToolbar:U["Q"],IonGrid:U["p"],IonRow:U["H"],IonCol:U["m"],FullToolbar:Ge,PrimaryCard:_e,VisitDatesCard:Le,MinimalToolbar:Object(n["defineAsyncComponent"])(()=>o.e("chunk-2d0c4649").then(o.bind(null,"3b48")))},setup(){const e=Object(n["ref"])("lg"),{resolution:t}=Ee();return Object(n["watch"])(()=>t.value,t=>{t&&t.width<=900?e.value="sm":e.value="lg"},{immediate:!0,deep:!0}),{time:he["N"],person:he["D"],calendar:he["j"],medical:he["z"],clipboard:he["p"],apps:he["c"],folder:he["u"],logOut:he["w"],clipboardOutline:he["q"],appsOutline:he["d"],folderOutline:he["v"],logOutOutline:he["x"],alertCircle:he["b"],screenBreakPoint:e}},data:()=>({activeTab:1,app:{},dashboardComponent:{},isBDE:!1,currentDate:"",sessionDate:"",nextTask:{},programId:0,patientId:0,patient:{},patientProgram:{},patientCardInfo:[],programCardInfo:[],visitDates:[],activeVisitDate:"",patientCards:[],appVersion:L["a"].getFullVersion(),sessionEncounterMap:{},savedEncounters:[]}),computed:{patientIsset(){return!Object(G["isEmpty"])(this.patient)},patientName(){return Object(G["isEmpty"])(this.patient)?"N/A":this.patient.getFullName()},appHasCustomContent(){return!Object(G["isEmpty"])(this.app.customPatientDashboardContentComponent)},customDashboardContent(){return this.app.customPatientDashboardContentComponent},visitDatesTitle(){return this.visitDates.length+" Visits"}},watch:{activeVisitDate(e){this.appHasCustomContent||this.updateCardVisitData(e)}},created(){this.app=x["a"].getActiveApp(),this.patientCards=[{items:[],cache:{},label:"Activities",color:"primary",isLoading:!1,icon:he["O"],isEnabled:this.isCardEnabled("activitiesEnabled"),onVisitDate:(e,t)=>{e.isLoading=!0,fe["a"].getEncounters(this.patientId,{date:t}).then(o=>{e.items=this.getActivitiesCardInfo(o),e.cache[t]=e.items,e.isLoading=!1,this.sessionEncounterMap={},t!==L["a"].getSessionDate()||Object(G["isEmpty"])(o)||(this.sessionEncounterMap=o.reduce((e,t)=>(e[t.type.name.toLowerCase()]=t.observations.reduce((e,t)=>e.concat(t.concept.concept_names),[]).map(e=>e.name.toLowerCase()),e),{}))}).catch(()=>{e.items=[],e.cache[t]=e.items,e.isLoading=!1})},onClick:e=>{e.isEnabled&&(e.isLoading?Object(Q["e"])("Please wait..."):this.openModal(e.items,"Select Activities",de))}},{items:[],cache:{},color:"success",isLoading:!1,label:"Lab Orders",icon:he["O"],isEnabled:this.isCardEnabled("labEnabled"),onVisitDate:(e,t,o,n)=>{o&&"LAB ORDERS"===n&&Qe["a"].invalidate("PATIENT_LAB_ORDERS"),e.isLoading=!0,this.getLabOrderCardInfo(t).then(o=>{e.items=o,e.cache[t]=e.items,e.isLoading=!1}).catch(()=>{e.items=[],e.cache[t]=e.items,e.isLoading=!1})},onClick:e=>e.isEnabled&&this.$router.push("/art/encounters/lab/"+this.patient.getID())},{items:[],label:"Alerts",color:"danger",icon:he["R"],isLoading:!1,isInit:!1,isEnabled:this.isCardEnabled("alertsEnabled"),onVisitDate:e=>{if(e.isInit)return;const t=this.getPatientAlertCardInfo();"object"===typeof t&&t.then&&(e.isLoading=!0,this.getPatientAlertCardInfo().then(t=>{t&&(e.items=t),e.isInit=!0,e.isLoading=!1}).catch(()=>{e.items=[],e.isInit=!0,e.isLoading=!1})),t&&(e.items=t)},onClick:()=>{}},{items:[],cache:{},label:"Medications",color:"warning",icon:he["O"],isLoading:!1,isEnabled:this.isCardEnabled("medicationsEnabled"),onVisitDate:(e,t)=>{e.isLoading=!0,A["a"].getOrderByPatient(this.patientId,{start_date:t}).then(o=>{e.items=this.getMedicationCardInfo(o),e.cache[t]=e.items,e.isLoading=!1}).catch(()=>{e.data,e.items=[],e.cache[t]=e.items,e.isLoading=!1})},onClick:e=>{if(!e.isEnabled)return;if(e.isLoading)return Object(Q["e"])("Please wait..");const t=["Medication","Start date","End date","Amount given"],o=e.items.map(e=>[e.other.drug.name,this.toDate(e.other.order.start_date),this.toDate(e.other.order.auto_expire_date),e.other.quantity]);this.openTableModal(t,o,"Medication History")}}]},mounted(){this.patientId=parseInt(""+this.$route.params.id),this.patientId&&x["a"].doAppManagementTasks().then(()=>{this.app=x["a"].getActiveApp(),this.programId=this.app.programID,this.appHasCustomContent&&(this.patientCards=[]),this.initData()})},methods:{initData(){var e,t;this.programCardInfo="function"===typeof(null===(e=this.app)||void 0===e?void 0:e.patientProgramInfoData)?null===(t=this.app)||void 0===t?void 0:t.patientProgramInfoData(this.patientId):[],this.currentDate=S["b"].currentDisplayDate(),this.sessionDate=this.toDate(L["a"].getSessionDate()),this.isBDE=L["a"].isBDE()||!1,Qe["a"].get("ACTIVE_PATIENT",{patientID:this.patientId}).then(async e=>{this.patient=e,this.patientCardInfo=this.getPatientCardInfo(e),this.getNextTask().then(e=>this.nextTask=e),this.getPatientVisitDates(this.patientId).then(e=>{this.visitDates=e,this.loadSavedEncounters()}).catch(e=>{console.error(e)});for(const t of this.programCardInfo)"function"===typeof t.init&&await t.init(),"function"===typeof t.asyncValue?t.asyncValue().then(e=>t.value=e):"function"===typeof t.staticValue&&(t.value=t.staticValue())}).catch(e=>Object(Q["c"])(""+e))},isCardEnabled(e){var t;const o=null===(t=this.app)||void 0===t?void 0:t.configDefaultPatientDashboardCards;return!o||!(e in o)||(o[e]||!1)},async showLoader(){(await U["V"].create({message:"Please wait....",backdropDismiss:!1})).present()},clearLoader(){U["V"].getTop().then(e=>e?U["V"].dismiss():null)},toDate(e){return S["b"].toStandardHisDisplayFormat(e)},toTime(e){return S["b"].toStandardHisTimeFormat(e)},loadSavedEncounters(){fe["a"].getSavedEncounters(this.patientId).then(e=>{this.savedEncounters=e})},updateCardVisitData(e,t=!1,o=""){this.patientCards.forEach(n=>{if(n.isEnabled&&"function"===typeof n.onVisitDate){if("object"===typeof n.cache&&n.cache[e]&&!t)return void(n.items=n.cache[e]);n.onVisitDate(n,e,t,o)}})},async getPatientVisitDates(e){return(await P["a"].getPatientVisits(e,!1)).map(e=>({label:this.toDate(e),value:e,other:{isActive:e===L["a"].getSessionDate()}}))},getNextTask(){return je["a"].getNextTaskParams(this.patientId)},goToNextTask(){Object(ke["b"])(this.patientId,this.$router)},onActiveVisitDate(e){this.activeVisitDate=e.value},getPatientCardInfo(e){const t=e.getBirthdate(),o="M"===e.getGender()?he["y"]:he["S"];return[{label:"Name",value:e.getFullName(),other:{icon:o}},{label:"Birthdate",value:`\n                    ${this.toDate(t)}\n                    (${e.getAge()}) \n                    (${e.getNationalID()})`},{label:"Current Village",value:e.getCurrentVillage()},{label:"Phone#",value:e.getPhoneNumber()}]},getActivitiesCardInfo(e){return e.map(e=>({label:e.type.name,value:this.toTime(e.encounter_datetime),other:{provider:ge["a"].getPersonFullName(e.provider_id),id:e.encounter_id,columns:["Observation","Value","Time"],onVoid:async t=>{await this.showLoader(),fe["a"].voidEncounter(e.encounter_id,t).then(()=>{this.clearLoader(),this.loadSavedEncounters(),this.updateCardVisitData(this.activeVisitDate,!0,e.type.name),this.getNextTask().then(e=>this.nextTask=e),Object(Q["d"])("Encounter has been voided!",2e3)}).catch(e=>{this.clearLoader(),Object(Q["c"])(""+e,32e3)})},getRows:async()=>{const t=[],{observations:o}=e;for(const e in o){let c="<UNKNOWN CONCEPT>";const i=o[e];try{var n;c=null!==i&&void 0!==i&&null!==(n=i.concept)&&void 0!==n&&n.concept_names?i.concept.concept_names[0].name:await ve["a"].getConceptName(i.concept_id)}catch(a){console.error(i,a)}const r=await E["a"].resolvePrimaryValue(i),s=S["b"].toStandardHisTimeFormat(i.date_created);t.push([c,r,s])}return t}}}))},getMedicationCardInfo(e){return e.map(e=>({label:e.drug.name,value:this.toTime(e.order.start_date),other:e}))},async getLabOrderCardInfo(e){if("function"===typeof this.app.getPatientDashboardLabOrderCardItems)return this.app.getPatientDashboardLabOrderCardItems(this.patientId,e);const t=await M["a"].getOrders(this.patientId,{date:e});return t.map(e=>({label:e.specimen.name,value:this.toTime(e.order_date)}))},async getPatientAlertCardInfo(){if("getPatientDashboardAlerts"in this.app)return this.app.getPatientDashboardAlerts(this.patient)},async changeApp(){const e=await x["a"].selectApplication("PatientDashboard",!0);e&&(e.programID!=this.programId?(this.programId=e.programID,this.$router.push("/patients/confirm?patient_barcode="+this.patient.getNationalID())):this.initData())},async showTasks(){if("primaryPatientActivites"in this.app){const e=[...this.app.primaryPatientActivites].map(e=>{const t=(e.encounterTypeName||e.name).toLowerCase();return"object"!==typeof e.taskCompletionChecklist||Object(G["isEmpty"])(this.sessionEncounterMap)?e.taskCompleted=!Object(G["isEmpty"])(this.sessionEncounterMap[t]):e.taskCompleted=e.taskCompletionChecklist.every(e=>Object(G["isArray"])(this.sessionEncounterMap[t])&&this.sessionEncounterMap[t].includes(e.toLowerCase())),e});this.openModal(e,"Tasks for",Z,this.sessionDate)}},showOptions(){if("secondaryPatientActivites"in this.app){const e=this.app.secondaryPatientActivites;this.openModal(e,"Select Activity",Z)}},async startModal(e,t){(await U["X"].create({component:e,backdropDismiss:!1,cssClass:"large-modal",componentProps:t})).present()},openModal(e,t,o,n=""){this.startModal(o,{items:e,title:`${t}: ${n||this.toDate(this.activeVisitDate.toString())}`,taskParams:{patient:this.patient.getObj(),program:this.patientProgram,visitDate:this.activeVisitDate,patientID:this.patientId,savedEncounters:this.savedEncounters}})},openTableModal(e,t,o){this.startModal(Oe,{columns:e,rows:t,title:`${o}: ${this.toDate(this.activeVisitDate.toString())}`})},onCancel(){Qe["a"].invalidate("ACTIVE_PATIENT"),Qe["a"].invalidate("PATIENT_PROGRAM"),Qe["a"].invalidate("PATIENT_LAB_ORDERS"),this.$router.push({path:"/"})}}});o("e8ef");const Xe=K()(We,[["render",T],["__scopeId","data-v-2709f2f0"]]);t["default"]=Xe},"5b1c":function(e,t,o){},"627d":function(e,t,o){"use strict";o("4568")},6882:function(e,t,o){},"6ba7":function(e,t,o){"use strict";o("1bc0")},"71c3":function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("5530"),a=o("d4ec"),c=o("bee2"),i=o("262e"),r=o("2caf"),s=(o("d81d"),o("99af"),o("1c74")),l=function(e){Object(i["a"])(o,e);var t=Object(r["a"])(o);function o(){return Object(a["a"])(this,o),t.call(this)}return Object(c["a"])(o,null,[{key:"create",value:function(e){return this.postJson("drug_orders",e)}},{key:"updateDispensationOrders",value:function(e){var t=this;return this.postJson("dispensations",{program_id:this.getProgramID(),dispensations:e.map((function(e){return{date:t.getSessionDate(),drug_order_id:e["order_id"],quantity:e["quantity"]}}))})}},{key:"getDrugOrderHistory",value:function(e){return this.getJson("drug_orders",{patient_id:e})}},{key:"getDrugOrders",value:function(e){return this.getJson("drug_orders",{patient_id:e,date:this.getSessionDate(),program_id:this.getProgramID()})}},{key:"getAllDrugOrders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.getJson("drug_orders",{patient_id:e,program_id:s["e"].getProgramID(),page_size:t})}},{key:"getLastDrugsReceived",value:function(e){return this.getJson("patients/".concat(e,"/last_drugs_received"),{date:this.getSessionDate(),program_id:this.getProgramID()})}},{key:"getDrugDosages",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getSessionDate(),n={drug_id:t,date:o};return this.getJson("programs/".concat(this.getProgramID(),"/patients/").concat(e,"/drug_doses"),n)}},{key:"getOrderByPatient",value:function(e,t){return this.getJson("/drug_orders",Object(n["a"])({patient_id:e,program_id:this.getProgramID()},t))}}]),o}(s["e"])},"76df":function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("1da1"),a=(o("96cf"),o("7f35"));function c(e){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(t){var o,n,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=c.length>1&&void 0!==c[1]?c[1]:"action-sheet-modal",e.next=3,Object(a["c"])("Are you sure you want to void record?","Please specify reason for voiding this record",["Mistake/ Wrong Entry","Duplicate","System Error"],[{name:"Cancel",slot:"start"},{name:"Void",color:"danger",slot:"end",role:"action"}],"",o);case 3:if(n=e.sent,!n.selection||"Void"!==n.action){e.next=7;break}return e.next=7,t(n.selection);case 7:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}},"913b":function(e,t,o){"use strict";o("ada5")},ada5:function(e,t,o){},cbbc:function(e,t,o){"use strict";o("d128")},d10e:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var n=o("1da1"),a=o("5530"),c=o("d4ec"),i=o("bee2"),r=o("45eb"),s=o("7e84"),l=o("262e"),d=o("2caf"),u=(o("96cf"),o("1c74")),b=function(e){Object(l["a"])(o,e);var t=Object(d["a"])(o);function o(e){var n;return Object(c["a"])(this,o),n=t.call(this),n.person=e,n}return Object(i["a"])(o,[{key:"create",value:function(){return u["e"].postJson("/people",this.person)}},{key:"update",value:function(e){return u["e"].putJson("people/".concat(e),Object(a["a"])(Object(a["a"])({},this.person),{},{program_id:u["e"].getProgramID()}))}}],[{key:"searchFamilyName",value:function(e){return Object(r["a"])(Object(s["a"])(o),"getJson",this).call(this,"/search/family_name",{search_string:e})}},{key:"searchGivenName",value:function(e){return Object(r["a"])(Object(s["a"])(o),"getJson",this).call(this,"/search/given_name",{search_string:e})}},{key:"getPersonFullName",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])(Object(s["a"])(o),"getJson",this).call(this,"/people/".concat(t,"/names"));case 2:return n=e.sent,e.abrupt("return",n&&n.length?n[0].given_name+" "+n[0].family_name:"");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),o}(u["e"])},d128:function(e,t,o){},e8ef:function(e,t,o){"use strict";o("6882")},ec58:function(e,t,o){},eed0:function(e,t,o){"use strict";o("ec58")}}]);
//# sourceMappingURL=chunk-825b3146.e5389d3a.js.map