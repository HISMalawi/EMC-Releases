System.register(["./index-legacy-T5lWkeko.js","./TableView-legacy-Vuihs97D.js","./stock_report_service-legacy-CsZmuEgJ.js","./ReportDateSelectionPrompt-legacy-YVB9zKGx.js","./PopupKeyboard-legacy-rjcGM1dT.js","./SIngleTouchField-legacy-V9o49_9Z.js","./dynamic-import-helper-legacy-BhGHTWZn.js","./TouchScreenForm-legacy-oE84DcYP.js","./ToolbarMediumCard-legacy-uJ0c_iri.js","./Transformers-legacy-PbfCTy2a.js","./ViewPort-legacy-EDL_vLSV.js","./HisKeypad-legacy-OZvqHTLK.js","./BaseKeyboard-legacy-Z4rzJtFp.js","./KbLayouts-legacy-NQmKRJpJ.js","./KbHandler-legacy-YpKYWvgQ.js","./overlays-3311e70e-legacy-2We_WZ7N.js","./fuse-legacy-T9FrQdXS.js","./Export-legacy-liiTgn5j.js","./HisKeyboard-legacy-0PvW_X-4.js","./HisKbConfigurations-legacy-AV_G95Cg.js","./MultiFieldDateHelper-legacy-DiAe_Xzr.js"],(function(e,l){"use strict";var a,t,n,r,u,c,s,i,o,y,g,d,f,p,j,v,b;return{setters:[e=>{a=e.d,t=e.K,n=e.N,r=e.o,u=e.c,c=e.w,s=e.b,i=e.cj,o=e.c9,y=e.ck,g=e.t,d=e.q,f=e.c2,p=e.I},e=>{j=e.v},e=>{v=e.S},e=>{b=e.D},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",a({__name:"ClinicDiscrepancyReport",setup(e){const l=t([]),a=t(""),D=t(!1),m=new v,_=[[{label:"Drug Count Date",ref:"verification_date",value:e=>o(e.verification_date)},{label:"Drug Name",ref:"short_name"},{label:"Expected Count",ref:"expected_quantity",value:e=>y(e.expected_quantity)},{label:"Verified Count",ref:"current_quantity",value:e=>y(e.current_quantity)},{label:"Difference",ref:"difference",value:e=>y(e.difference)},{label:"Reason",ref:"variance_reason"}]],C=async()=>{if(!m.startDate||!m.endDate)return g("Start date and end date required!");D.value=!0,l.value=[];try{l.value=await m.getDiscrepancyReport()}catch(e){d("Unable to generate report!")}D.value=!1},K=()=>b({onFinish:(e,l,t)=>{a.value=`Period (${t})`,m.startDate=e,m.endDate=l,C()}});return n((()=>!l.value.length&&K())),(e,t)=>(r(),u(i(p),null,{default:c((()=>[s(i(f),{"is-open":D.value,message:"Please wait..."},null,8,["is-open"]),s(j,{title:"Clinic Discrepancy Report","report-prefix":"Clinic",subtitle:a.value,columns:_,columnData:l.value,rowsPerPage:20,onConfigure:K,onRefresh:C},null,8,["subtitle","columnData"])])),_:1}))}}))}}}));
