{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/apps/ART/views/reports/moh/MohRegimenWeightDistribution.vue?8e82","webpack:///./src/apps/ART/views/reports/moh/MohRegimenWeightDistribution.vue","webpack:///./src/apps/ART/views/reports/moh/MohRegimenWeightDistribution.vue?9ae3"],"names":["$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","entries","render","_ctx","_cache","$props","$setup","$data","$options","_component_report_template","_resolveComponent","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","title","period","rows","fields","columns","reportPrefix","config","showIndex","enabledPDFHorizontalPageBreak","onReportConfiguration","onPeriod","_","defineComponent","mixins","ReportMixin","components","ReportTemplate","IonPage","data","created","this","table","thTxt","REGIMEN_WEIGHT_DISTRIBUTION","map","r","thNum","getDateDurationFields","methods","report","RegimenReportService","setStartDate","start_date","setEndDate","end_date","getDateIntervalPeriod","getRegimensByWeight","setRows","mapRegimenRow","items","regimen","filter","d","v","Object","td","isEmpty","rowTotals","reduce","accum","curr","WEIGHT_BAND","forEach","weightBand","weightBandData","weight","w","mRegimens","males","fRegimens","females","maleRow","femaleRow","unknown_gender","uRegimens","tCount","__exports__"],"mappings":"qGAAA,IAAIA,EAAI,EAAQ,QACZC,EAAU,EAAQ,QAAgCC,OAItDF,EAAE,CAAEG,OAAQ,SAAUC,MAAM,GAAQ,CAClCF,OAAQ,SAAgBG,GACtB,OAAOJ,EAAQI,O,uBCPnB,IAAIC,EAAc,EAAQ,QACtBC,EAAa,EAAQ,QACrBC,EAAkB,EAAQ,QAC1BC,EAAuB,EAAQ,QAA8CC,EAG7EC,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAKIC,EALAT,EAAIG,EAAgBK,GACpBE,EAAOR,EAAWF,GAClBW,EAASD,EAAKC,OACdC,EAAI,EACJC,EAAS,GAEb,MAAOF,EAASC,EACdH,EAAMC,EAAKE,KACNX,IAAeG,EAAqBU,KAAKd,EAAGS,IAC/CI,EAAOE,KAAKR,EAAa,CAACE,EAAKT,EAAES,IAAQT,EAAES,IAG/C,OAAOI,IAIXG,EAAOC,QAAU,CAGfC,QAASZ,GAAa,GAGtBT,OAAQS,GAAa,K,yDC5BjB,SAAUa,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,IAAMC,EAA6BC,8BAAkB,mBAC/CC,EAAsBD,8BAAkB,YAE9C,OAAQE,yBAAcC,yBAAaF,EAAqB,KAAM,CAC5DG,QAASC,sBAAS,iBAAM,CACtBC,yBAAaP,EAA4B,CACvCQ,MAAOd,EAAKc,MACZC,OAAQf,EAAKe,OACbC,KAAMhB,EAAKgB,KACXC,OAAQjB,EAAKiB,OACbC,QAASlB,EAAKkB,QACdC,aAAc,MACdC,OAAQ,CACAC,WAAW,GAEnBC,+BAA+B,EAC/BC,sBAAuBvB,EAAKwB,UAC3B,KAAM,EAAG,CAAC,QAAS,SAAU,OAAQ,SAAU,UAAW,8BAE/DC,EAAG,I,4KCbQC,+BAAgB,CAC3BC,OAAQ,CAACC,QACTC,WAAY,CAAEC,sBAAgBC,gBAC9BC,KAAM,iBAAO,CACThB,KAAM,GACNF,MAAO,gCACPI,QAAS,KAEbe,QAR2B,WASvBC,KAAKhB,QAAU,CAAC,CAERiB,OAAMC,MAAM,eACZD,OAAMC,MAAM,WAHL,sBAIJC,OAA4BC,KAAI,SAAAC,GAAC,OAAIJ,OAAMK,MAAMD,OAJ7C,CAKPJ,OAAMK,MAAM,WACZL,OAAMK,MAAM,sBAGpBN,KAAKjB,OAASiB,KAAKO,yBAEvBC,QAAS,CACClB,SADD,SACUC,EAAQL,GAAW,qKAC9B,EAAKJ,KAAO,GACZ,EAAK2B,OAAS,IAAIC,OAClB,EAAKD,OAAOE,aAAazB,EAAO0B,YAChC,EAAKH,OAAOI,WAAW3B,EAAO4B,UAC9B,EAAKjC,OAAS,EAAK4B,OAAOM,wBALI,SAMX,EAAKN,OAAOO,sBAND,cAMxBlB,EANwB,iBAOxB,EAAKmB,QAAQnB,GAPW,+CAS5BmB,QAVD,SAUSnB,GAAS,gKACboB,EAAgB,SAACC,GAAD,MAClB,yBAAIhB,QAAJ,CAAiC,QAAOC,KAAI,SAACgB,GACzC,IAAM9D,EAAI6D,EAAME,QAAO,SAACC,GAAD,QAAYA,EAAEF,MAChChB,KAAI,SAACmB,GAAD,OAAYC,OAAOjF,OAAOgF,GAAG,MACtC,OAAOtB,OAAMwB,GAAGC,qBAAQpE,GAAK,EAAIA,EAAE,QAGrCqE,EAAY,SAACL,GAAD,OACdA,EAAEM,QAAO,SAACC,EAAeC,GAAhB,OAA8BD,EAAQC,EAAKL,KAAI,IAE5DM,OAAYC,SAAQ,SAACC,GACjB,IAAMC,EAAkBpC,EAAKuB,QAAO,SAACC,GAAD,OAAYA,EAAEa,SAAWF,KAC7DC,EAAeF,SAAQ,SAACI,GACpB,IAAMC,EAAYnB,EAAckB,EAAEE,OAC5BC,EAAYrB,EAAckB,EAAEI,SAC5BC,EAAU,CACZxC,OAAMwB,GAAGQ,GACThC,OAAMwB,GAAG,SAFA,sBAGNY,GAHM,CAITpC,OAAMwB,GAAGE,EAAUU,MAEjBK,EAAY,CACdzC,OAAMwB,GAAGQ,GACThC,OAAMwB,GAAG,WAFE,sBAGRc,GAHQ,CAIXtC,OAAMwB,GAAGE,EAAUY,MAIvB,GAFA,EAAKzD,KAAKrB,KAAKgF,GACf,EAAK3D,KAAKrB,KAAKiF,IACVhB,qBAAQU,EAAEO,gBAAiB,CAC5B,IAAMC,EAAY1B,EAAckB,EAAEO,gBAC5BE,EAASlB,EAAUiB,GACzB,EAAK9D,KAAKrB,KAAV,CACIwC,OAAMwB,GAAGQ,GACThC,OAAMwB,GAAG,mBAFb,sBAGOmB,GAHP,CAII3C,OAAMwB,GAAGoB,aArCN,iD,qBClC/B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASjF,KAErD","file":"js/chunk-13f5bda0.fd7edb41.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_report_template = _resolveComponent(\"report-template\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_report_template, {\n        title: _ctx.title,\n        period: _ctx.period,\n        rows: _ctx.rows,\n        fields: _ctx.fields,\n        columns: _ctx.columns,\n        reportPrefix: \"MoH\",\n        config: {\n                showIndex: false\n            },\n        enabledPDFHorizontalPageBreak: true,\n        onReportConfiguration: _ctx.onPeriod\n      }, null, 8, [\"title\", \"period\", \"rows\", \"fields\", \"columns\", \"onReportConfiguration\"])\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from 'vue'\nimport ReportMixin from \"@/apps/ART/views/reports/ReportMixin.vue\"\nimport { RegimenReportService, WEIGHT_BAND, REGIMEN_WEIGHT_DISTRIBUTION } from \"@/apps/ART/services/reports/regimen_report_service\"\nimport { isEmpty } from \"lodash\"\nimport ReportTemplate from \"@/apps/ART/views/reports/TableReportTemplate.vue\"\nimport table from \"@/components/DataViews/tables/ReportDataTable\"\nimport { IonPage } from \"@ionic/vue\"\n\nexport default defineComponent({\n    mixins: [ReportMixin],\n    components: { ReportTemplate, IonPage },\n    data: () => ({\n        rows: [] as Array<any>,\n        title: 'Regimen distribution (Weight)',\n        columns: [] as Array<any>\n    }),\n    created() {\n        this.columns = [\n            [\n                table.thTxt('Weight band'),\n                table.thTxt('Gender'),\n                ...REGIMEN_WEIGHT_DISTRIBUTION.map(r => table.thNum(r)),\n                table.thNum('Unknown'),\n                table.thNum('Total (regimen)')\n            ]\n        ] \n        this.fields = this.getDateDurationFields()\n    },\n    methods: {\n        async onPeriod(_: any, config: any) {\n            this.rows = []\n            this.report = new RegimenReportService()\n            this.report.setStartDate(config.start_date)\n            this.report.setEndDate(config.end_date)\n            this.period = this.report.getDateIntervalPeriod()\n            const data = await this.report.getRegimensByWeight()\n            await this.setRows(data)\n        },\n        async setRows(data: any) {\n            const mapRegimenRow = (items: any) => \n                [...REGIMEN_WEIGHT_DISTRIBUTION, 'N/A'].map((regimen: any) => {\n                    const i = items.filter((d: any) => d[regimen] ? true : false)\n                        .map((v: any) => Object.values(v)[0])\n                    return table.td(isEmpty(i) ? 0 : i[0])\n                })\n\n            const rowTotals = (d: Array<any>) =>\n                d.reduce((accum: number, curr: any) => accum + curr.td, 0)\n\n            WEIGHT_BAND.forEach((weightBand: any) => {\n                const weightBandData =  data.filter((d: any) => d.weight === weightBand)\n                weightBandData.forEach((w: any) => {\n                    const mRegimens = mapRegimenRow(w.males)\n                    const fRegimens = mapRegimenRow(w.females)\n                    const maleRow = [\n                        table.td(weightBand), \n                        table.td('Male'), \n                        ...mRegimens, \n                        table.td(rowTotals(mRegimens))\n                    ]\n                    const femaleRow = [\n                        table.td(weightBand),\n                        table.td('Female'),\n                        ...fRegimens,\n                        table.td(rowTotals(fRegimens))\n                    ]\n                    this.rows.push(maleRow)\n                    this.rows.push(femaleRow)\n                    if (!isEmpty(w.unknown_gender)) {\n                        const uRegimens = mapRegimenRow(w.unknown_gender)\n                        const tCount = rowTotals(uRegimens)\n                        this.rows.push([\n                            table.td(weightBand),\n                            table.td('Unknown Gender'),\n                            ...uRegimens,\n                            table.td(tCount)\n                        ]) \n                    }\n                })\n            })\n        }\n    }\n})\n","import { render } from \"./MohRegimenWeightDistribution.vue?vue&type=template&id=0cff72eb&ts=true\"\nimport script from \"./MohRegimenWeightDistribution.vue?vue&type=script&lang=ts\"\nexport * from \"./MohRegimenWeightDistribution.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}