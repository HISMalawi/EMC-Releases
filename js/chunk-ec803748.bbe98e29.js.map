{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/Keyboard/HisKeypad.vue","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/components/Keyboard/HisKeypad.vue?1047","webpack:///./src/components/Keyboard/KbLayouts.ts","webpack:///./src/apps/ART/views/encounters/BPAdherence.vue?4102","webpack:///./src/apps/ART/views/encounters/BPAdherence.vue","webpack:///./src/apps/ART/views/encounters/BPAdherence.vue?a583","webpack:///./src/apps/ART/views/encounters/BPAdherence.vue?6b8d","webpack:///./src/components/Keyboard/BaseKeyboard.vue"],"names":["_withId","_withScopeId","_pushScopeId","_hoisted_1","class","_popScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_input","_resolveComponent","_component_ion_chip","_component_center","_component_base_keyboard","_component_ion_content","_openBlock","_createBlock","default","_createVNode","value","disabled","_createTextVNode","_toDisplayString","title","_","btnSize","layout","keypad","onKeyPress","keypress","defineComponent","components","BaseKeyboard","props","type","String","preset","Function","required","strictNumbers","Boolean","data","DEFAULT_KEYPAD","watch","handler","toString","immediate","methods","key","match","modalController","dismiss","includes","handleVirtualInput","parseInt","__exports__","kbHandler","newInput","accumulator","casing","output","substring","length","toLowerCase","toUpperCase","charAt","slice","VITALS_KEYPAD","DRUG_DISPENSER_KEYPAD","CD4_COUNT_PAD_LO","SYMBOLS","NUMBER_PAD_LO","MONTHLY_DAYS_LO","ALPHABETICAL_LO","QWERTY_LO","CHARACTERS_AND_NUMBERS_LO","NOTE_PAD_KEYBOARD","LOGIN_KEYBOARD","_hoisted_2","_hoisted_3","id","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_component_ion_col","_component_ion_row","_component_ion_toolbar","_component_ion_header","_component_ion_checkbox","_component_view_port","_component_ion_button","_component_ion_footer","_component_ion_page","drugs","_Fragment","_renderList","item","itemIndex","drug","drugIndex","amount","i","current","checked","_createCommentVNode","dispensed","modelValue","remaining","$event","onClick","launchKeyPad","selectedDrugs","drugName","expectedRemaining","adherence","color","size","slot","gotoPatientDashboard","goToPrescription","onFinish","mixins","EncounterMixinVue","ViewPort","IonToolbar","IonHeader","IonContent","IonRow","IonInput","IonButton","IonCol","IonFooter","IonPage","IonCheckbox","ready","HTN","BPManagementService","patientID","providerID","getDrugs","getCurrentDrugs","this","selectNextAction","$router","push","gotoTreatment","htnDrugs","map","selected","find","htnDrugReferences","drugID","sessionStorage","setItem","HTN_SESSION_KEY","Prescription","JSON","stringify","optionsActionSheet","name","role","modal","selection","action","removeItem","nextTask","getLastDrugs","lastDrugs","forEach","element","index","drug_id","Object","prototype","hasOwnProperty","call","value_numeric","d","create","component","HisKeypadVue","backdropDismiss","cssClass","componentProps","getAdherence","adh","present","computed","values","reduce","accum","cur","concat","filter","row","rowIndex","btnKey","btnIndex","width","keyPress","_withCtx","Array"],"mappings":"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","file":"js/chunk-ec803748.bbe98e29.js","sourcesContent":["import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n\n  return (_openBlock(), _createBlock(\"table\", null, [\n    (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.layout, (row, rowIndex) => {\n      return (_openBlock(), _createBlock(\"tr\", { key: rowIndex }, [\n        (_openBlock(true), _createBlock(_Fragment, null, _renderList(row, (btnKey, btnIndex) => {\n          return (_openBlock(), _createBlock(\"td\", {\n            class: \"his-keyboard-margin\",\n            key: `btn-${btnIndex}`\n          }, [\n            btnKey\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 0,\n                  style: {width: _ctx.btnSize},\n                  class: \"his-keyboard-btn\",\n                  onClick: () => _ctx.keyPress(btnKey)\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(btnKey), 1 /* TEXT */)\n                  ]),\n                  _: 2\n                }, 1032, [\"style\", \"onClick\"]))\n              : _createCommentVNode(\"\", true)\n          ]))\n        }), 128 /* KEYED_FRAGMENT */))\n      ]))\n    }), 128 /* KEYED_FRAGMENT */))\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nimport { IonButton } from \"@ionic/vue\";\nexport default defineComponent({\n  components: { IonButton },\n  props: {\n    btnSize: {\n      type: String,\n      default: '90%'\n    },\n    layout: {\n      type: Array,\n      required: true,\n      default: () => []\n    },\n    onKeyPress: {\n      type: Function,\n      required: true,\n    },\n  },\n  methods: {\n    keyPress(key: any) {\n      this.onKeyPress(key);\n    },\n  },\n});\n","import { render } from \"./HisKeypad.vue?vue&type=template&id=7454247c&scoped=true&ts=true\"\nimport script from \"./HisKeypad.vue?vue&type=script&lang=ts\"\nexport * from \"./HisKeypad.vue?vue&type=script&lang=ts\"\n\nimport \"./HisKeypad.vue?vue&type=style&index=0&id=7454247c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7454247c\"]])\n\nexport default __exports__","export default function kbHandler(newInput: string, accumulator: string, casing?: 'lowercase' | 'uppercase'): string {\n    let output = accumulator\n    if (newInput.match(/enter/i)) {\n        return `${output}\\r\\n`\n    }\n    if (newInput.match(/clear/i)) {\n        return ''\n    } else if (newInput.match(/delete|del/i)) {\n        // Override Unknown text with new input\n        if (output.match(/unknown/i) || output.match(/n\\/a/i)) {\n            output = ''\n        } else {\n            output = output.substring(0, output.length - 1)\n        }\n    } else if (newInput.match(/space/i)) {\n        output = `${accumulator} `\n    } else if (newInput.match(/unknown/i)) {\n        output = 'Unknown'\n    } else if (newInput.match(/n\\/a/i)) {\n        output = 'N/A'\n    } else {\n        // Override Unknown text with new input\n        if (output.match(/unknown/i) || output.match(/n\\/a/i)) {\n            output = newInput\n        } else {\n            output = `${accumulator}${newInput}`\n        }\n    }\n    if (typeof output === 'string' && output) {\n        switch (casing) {\n            case 'lowercase':\n                output = output.toLowerCase()\n                break;\n            case 'uppercase':\n                output = output.toUpperCase()\n                break;\n            default:\n                output = output.charAt(0).toUpperCase() + output.slice(1)\n                break;\n        }\n    }\n    return output\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HisKeypad.vue?vue&type=style&index=0&id=7454247c&scoped=true&lang=css\"","export const DEFAULT_KEYPAD = [\n    ['1', '2', '3'],\n    ['4', '5', '6'],\n    ['7', '8', '9'],\n    ['.', '0', 'Del'],\n    ['',  'Done', '']\n]\nexport const VITALS_KEYPAD = [\n    ['1', '2', '3'],\n    ['4', '5', '6'],\n    ['7', '8', '9'],\n    ['.', '0', 'Del'],\n    ['Clear',  '%', '/']\n]\nexport const DRUG_DISPENSER_KEYPAD = [\n    ['1', '2', '3'],\n    ['4', '5', '6'],\n    ['7', '8', '9'],\n    ['Del.', '0', 'Clear'],\n    // ['Reset',  'Close', 'Dispense']\n]\nexport const CD4_COUNT_PAD_LO = [\n    ['1', '2', '3', '<'],\n    ['4', '5', '6', '>'],\n    ['7', '8', '9', '='],\n    ['',  '0', '']\n]\n\nexport const SYMBOLS = [\n    ['1', '2', '3', '+', '-', '/', '*'],\n    ['4', '5', '6', '%', '=', '<', '>', 'Qwerty'],\n    ['7', '8', '9', '.', ','],\n    ['',  '0', '']\n]\n\nexport const NUMBER_PAD_LO = [\n    ['1', '2', '3'],\n    ['4', '5', '6'],\n    ['7', '8', '9'],\n    ['',  '0', '']\n]\n\nexport const MONTHLY_DAYS_LO = [\n    ['1', '2', '3', '4', '5', '6', '7'],\n    ['8', '9', '10', '11', '12', '13', '14'],\n    ['15', '16', '17', '18', '19', '20', '21'],\n    ['22', '23', '24', '25', '26', '27', '28'],\n    ['29', '30', '31']\n]\n\nexport const ALPHABETICAL_LO = [\n    ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', '.'],\n    ['i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q'],\n    ['r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n]\n\nexport const QWERTY_LO = [\n    ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],\n    ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', \"'\"],\n    ['z', 'x', 'c', 'v', 'b', 'n', 'm',',', '.', 'A-Z']\n]\n\nexport const CHARACTERS_AND_NUMBERS_LO = [\n    ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'],\n    ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', '-', '.'],\n    ['i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q'],\n    ['r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\n]\nexport const NOTE_PAD_KEYBOARD = [\n    ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', 'Del'],\n    [\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", 'Clear'],\n    [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", \".\", \"Caps\"],\n    [\"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \"<\", \">\", \"/\", \"Enter\"], \n]\n\nexport const LOGIN_KEYBOARD =  [\n    [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n    [\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"],\n    [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", \"Del.\"],\n    [\"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \"Caps\", \"Login\"],\n];\n","import { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-15839c59\")\n\n_pushScopeId(\"data-v-15839c59\")\nconst _hoisted_1 = /*#__PURE__*/_createVNode(\"label\", { class: \"his-title\" }, \" BP Drug management \", -1)\nconst _hoisted_2 = {\n  key: 0,\n  class: \"view-port-content\"\n}\nconst _hoisted_3 = {\n  id: \"main-table\",\n  style: {\"width\":\"100%\"}\n}\nconst _hoisted_4 = /*#__PURE__*/_createVNode(\"th\", null, \" \", -1)\nconst _hoisted_5 = /*#__PURE__*/_createVNode(\"td\", { class: \"td-current td-title\" }, [\n  /*#__PURE__*/_createVNode(\"span\", null, \"Current\")\n], -1)\nconst _hoisted_6 = /*#__PURE__*/_createVNode(\"td\", { class: \"td-remaining td-title\" }, [\n  /*#__PURE__*/_createVNode(\"span\", null, \"Pills remaining\")\n], -1)\nconst _hoisted_7 = /*#__PURE__*/_createVNode(\"p\", null, null, -1)\nconst _hoisted_8 = {\n  id: \"table-notes\",\n  style: {\"width\":\"100%\"}\n}\nconst _hoisted_9 = /*#__PURE__*/_createVNode(\"caption\", { style: {\"font-size\":\"1.4em\"} }, \" Adherence summary \", -1)\nconst _hoisted_10 = /*#__PURE__*/_createVNode(\"p\", null, null, -1)\nconst _hoisted_11 = /*#__PURE__*/_createVNode(\"tr\", null, [\n  /*#__PURE__*/_createVNode(\"th\", { style: {\"width\":\"25%\"} }, [\n    /*#__PURE__*/_createVNode(\"span\", null, \"Drug\")\n  ]),\n  /*#__PURE__*/_createVNode(\"th\", { style: {\"width\":\"25%\"} }, [\n    /*#__PURE__*/_createVNode(\"span\", null, \"Pills dispensed during last visit\")\n  ]),\n  /*#__PURE__*/_createVNode(\"th\", { style: {\"width\":\"25%\"} }, [\n    /*#__PURE__*/_createVNode(\"span\", null, \"Expected pills remaining\")\n  ]),\n  /*#__PURE__*/_createVNode(\"th\", { style: {\"width\":\"25%\"} }, [\n    /*#__PURE__*/_createVNode(\"span\", null, \"Adherence for drug\")\n  ])\n], -1)\nconst _hoisted_12 = { class: \"date-td today-td\" }\nconst _hoisted_13 = { class: \"date-td today-td\" }\nconst _hoisted_14 = { class: \"date-td today-td\" }\nconst _hoisted_15 = { class: \"date-td today-td\" }\nconst _hoisted_16 = /*#__PURE__*/_createTextVNode(\" cancel \")\nconst _hoisted_17 = /*#__PURE__*/_createTextVNode(\" Change drugs \")\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode(\" Continue \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ion_checkbox = _resolveComponent(\"ion-checkbox\")\n  const _component_ion_input = _resolveComponent(\"ion-input\")\n  const _component_view_port = _resolveComponent(\"view-port\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withId(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withId(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withId(() => [\n              _createVNode(_component_ion_row, null, {\n                default: _withId(() => [\n                  _createVNode(_component_ion_col, null, {\n                    default: _withId(() => [\n                      _hoisted_1\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, null, {\n        default: _withId(() => [\n          _createVNode(_component_view_port, null, {\n            default: _withId(() => [\n              (_ctx.drugs)\n                ? (_openBlock(), _createBlock(\"div\", _hoisted_2, [\n                    _createVNode(\"table\", _hoisted_3, [\n                      _createVNode(\"tr\", null, [\n                        _hoisted_4,\n                        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.drugs, (item, itemIndex) => {\n                          return (_openBlock(), _createBlock(\"th\", { key: itemIndex }, [\n                            _createTextVNode(_toDisplayString(itemIndex) + \" \", 1 /* TEXT */),\n                            _createVNode(_component_ion_row, null, {\n                              default: _withId(() => [\n                                (_openBlock(true), _createBlock(_Fragment, null, _renderList(item.drugs, (drug, drugIndex) => {\n                                  return (_openBlock(), _createBlock(_component_ion_col, {\n                                    class: \"col-borders\",\n                                    key: drugIndex\n                                  }, {\n                                    default: _withId(() => [\n                                      _createTextVNode(_toDisplayString(drug.amount || '0mg'), 1 /* TEXT */)\n                                    ]),\n                                    _: 2\n                                  }, 1024))\n                                }), 128 /* KEYED_FRAGMENT */))\n                              ]),\n                              _: 2\n                            }, 1024)\n                          ]))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ]),\n                      _createVNode(\"tr\", null, [\n                        _hoisted_5,\n                        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.drugs, (item, itemIndex) => {\n                          return (_openBlock(), _createBlock(\"td\", {\n                            class: \"td-current td-value\",\n                            key: itemIndex\n                          }, [\n                            _createVNode(_component_ion_row, null, {\n                              default: _withId(() => [\n                                (_openBlock(true), _createBlock(_Fragment, null, _renderList(item.drugs, (drug, i) => {\n                                  return (_openBlock(), _createBlock(_component_ion_col, { key: i }, {\n                                    default: _withId(() => [\n                                      (drug.current)\n                                        ? (_openBlock(), _createBlock(_component_ion_checkbox, {\n                                            key: 0,\n                                            checked: drug.current,\n                                            disabled: \"\"\n                                          }, null, 8, [\"checked\"]))\n                                        : _createCommentVNode(\"\", true)\n                                    ]),\n                                    _: 2\n                                  }, 1024))\n                                }), 128 /* KEYED_FRAGMENT */))\n                              ]),\n                              _: 2\n                            }, 1024)\n                          ]))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ]),\n                      _createVNode(\"tr\", null, [\n                        _hoisted_6,\n                        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.drugs, (item, itemIndex) => {\n                          return (_openBlock(), _createBlock(\"td\", {\n                            key: itemIndex,\n                            class: \"td-current td-value\"\n                          }, [\n                            _createVNode(_component_ion_row, null, {\n                              default: _withId(() => [\n                                (_openBlock(true), _createBlock(_Fragment, null, _renderList(item.drugs, (drug, i) => {\n                                  return (_openBlock(), _createBlock(_component_ion_col, { key: i }, {\n                                    default: _withId(() => [\n                                      (drug.dispensed)\n                                        ? (_openBlock(), _createBlock(_component_ion_input, {\n                                            key: 0,\n                                            type: \"number\",\n                                            modelValue: drug.remaining,\n                                            \"onUpdate:modelValue\": $event => (drug.remaining = $event),\n                                            onClick: $event => (_ctx.launchKeyPad(itemIndex, i))\n                                          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"onClick\"]))\n                                        : _createCommentVNode(\"\", true)\n                                    ]),\n                                    _: 2\n                                  }, 1024))\n                                }), 128 /* KEYED_FRAGMENT */))\n                              ]),\n                              _: 2\n                            }, 1024)\n                          ]))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ])\n                    ]),\n                    _hoisted_7,\n                    _createVNode(\"table\", _hoisted_8, [\n                      _hoisted_9,\n                      _hoisted_10,\n                      _hoisted_11,\n                      (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.selectedDrugs, (drug, i) => {\n                        return (_openBlock(), _createBlock(\"tr\", {\n                          key: i,\n                          class: \"dispensation-row\"\n                        }, [\n                          _createVNode(\"td\", _hoisted_12, _toDisplayString(drug.drugName), 1),\n                          _createVNode(\"td\", _hoisted_13, _toDisplayString(drug.dispensed), 1),\n                          _createVNode(\"td\", _hoisted_14, _toDisplayString(drug.expectedRemaining), 1),\n                          _createVNode(\"td\", _hoisted_15, _toDisplayString(drug.adherence ? `${drug.adherence} %` : \"?\"), 1)\n                        ]))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withId(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withId(() => [\n              _createVNode(_component_ion_button, {\n                size: \"large\",\n                color: \"danger\",\n                slot: \"start\",\n                onClick: _ctx.gotoPatientDashboard\n              }, {\n                default: _withId(() => [\n                  _hoisted_16\n                ]),\n                _: 1\n              }, 8, [\"onClick\"]),\n              _createVNode(_component_ion_button, {\n                size: \"large\",\n                color: \"primary\",\n                slot: \"end\",\n                onClick: _ctx.goToPrescription\n              }, {\n                default: _withId(() => [\n                  _hoisted_17\n                ]),\n                _: 1\n              }, 8, [\"onClick\"]),\n              _createVNode(_component_ion_button, {\n                size: \"large\",\n                color: \"success\",\n                slot: \"end\",\n                onClick: _ctx.onFinish\n              }, {\n                default: _withId(() => [\n                  _hoisted_18\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n})","\nimport { defineComponent } from \"vue\";\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\";\nimport {\n  IonToolbar,\n  IonHeader,\n  IonContent,\n  IonRow,\n  IonCol,\n  IonInput,\n  IonButton,\n  modalController,\n  IonFooter,\n  IonPage,\n  IonCheckbox,\n} from \"@ionic/vue\";\nimport EncounterMixinVue from \"../../../../views/EncounterMixin.vue\";\nimport { BPManagementService, HTN_SESSION_KEY } from \"../../services/htn_service\";\nimport HisKeypadVue from \"@/components/Keyboard/HisKeypad.vue\";\nimport { optionsActionSheet } from \"@/utils/ActionSheets\"\nimport { find } from \"lodash\"\nexport default defineComponent({\n  mixins: [EncounterMixinVue],\n  components: {\n    ViewPort,\n    IonToolbar,\n    IonHeader,\n    IonContent,\n    IonRow,\n    IonInput,\n    IonButton,\n    IonCol,\n    IonFooter,\n    IonPage,\n    IonCheckbox,\n  },\n  watch: {\n    ready: {\n      async handler(ready: boolean) {\n        if (ready) {\n          this.HTN = new BPManagementService(this.patientID, this.providerID);\n          this.drugs = this.HTN.getDrugs();\n          await this.getCurrentDrugs();\n        }\n      },\n      immediate: true\n    },\n  },\n  data: () => {\n    return {\n      HTN: {} as any,\n      drugs: null as any,\n    };\n  },\n  methods: {\n    onFinish() {\n      this.selectNextAction()\n    },\n    goToPrescription() {\n      this.$router.push(`/art/encounters/bp_prescription/${this.patientID}`);\n    },\n    gotoTreatment() {\n      const htnDrugs = this.selectedDrugs.map((selected: any) =>  \n        find( BPManagementService.htnDrugReferences(), { 'drug_id': selected.drugID})\n      )\n      const data: any = {}\n      data[this.patientID] = htnDrugs\n      sessionStorage.setItem(HTN_SESSION_KEY.Prescription, JSON.stringify(data))\n      this.$router.push(`/art/encounters/prescriptions/${this.patientID}`)\n    },\n    async selectNextAction() {\n      const modal = await optionsActionSheet(\n        'Action confirmation',\n        'Please specify how to proceed with patient',\n        [\n          'Continue with current BP Drugs',\n          'Continue without BP Drugs',\n          'Change BP drugs'\n        ],\n        [\n          { name: 'Cancel', color: 'danger',  slot:'start'},\n          { name: 'Confirm', color: 'primary', slot:'end', role: 'action'}\n        ]\n      )\n      if (modal.selection && modal.action != 'Cancel') {\n        switch(modal.selection) {\n          case 'Continue without BP Drugs':\n            sessionStorage.removeItem(HTN_SESSION_KEY.Prescription)\n            return this.nextTask()\n          case 'Continue with current BP Drugs':\n            return this.gotoTreatment()\n          case 'Change BP drugs':\n            this.goToPrescription()\n        }\n      }\n    },\n    async getCurrentDrugs() {\n      const drugs = await this.HTN.getCurrentDrugs();\n      const lastDrugs = await this.HTN.getLastDrugs();\n      drugs.drugs.forEach((drug: any) => {\n        for (const key in this.drugs) {\n          this.drugs[key].drugs.forEach((element: any, index: any) => {\n            if (drug.drug_id === element.drugID) {\n              this.drugs[key].drugs[index].current = true;\n              this.drugs[key].drugs[index].selected = true;\n              this.drugs[key].selected = drug.drug_id;\n            }\n            const drugName = this.drugs[key].drugs[index].drugName;\n            if (Object.prototype.hasOwnProperty.call(lastDrugs, drugName)) {\n              this.drugs[key].drugs[index].expectedRemaining =\n                lastDrugs[drugName].remaining;\n              this.drugs[key].drugs[index].dispensed =\n                lastDrugs[drugName].value_numeric;\n            }\n          });\n        }\n      });\n    },\n    async launchKeyPad(d: any, index: any) {\n      const modal = await modalController.create({\n        component: HisKeypadVue,\n        backdropDismiss: false,\n        cssClass: \"keypad-modal\",\n        componentProps: {\n          strictNumbers: true,\n          onKeyPress: async (data: any) => {\n            const adh = await this.HTN.getAdherence(\n              this.drugs[d].drugs[index].drugID, data\n            )\n            this.drugs[d].drugs[index].adherence = adh.adherence;\n            this.drugs[d].drugs[index].remaining = data;\n          }\n        }\n      })\n      modal.present();\n    }\n  },\n  computed: {\n    selectedDrugs(): any {\n      return Object.values(this.drugs)\n        .map((d: any) => d.drugs)\n        .reduce((accum: any, cur: any) => accum.concat(cur), [])\n        .filter((d: any) => d.dispensed)\n    }\n  },\n})\n","import { render } from \"./BPAdherence.vue?vue&type=template&id=15839c59&scoped=true&ts=true\"\nimport script from \"./BPAdherence.vue?vue&type=script&lang=ts\"\nexport * from \"./BPAdherence.vue?vue&type=script&lang=ts\"\n\nimport \"./BPAdherence.vue?vue&type=style&index=0&id=15839c59&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15839c59\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BPAdherence.vue?vue&type=style&index=0&id=15839c59&scoped=true&lang=css\"","import { render } from \"./BaseKeyboard.vue?vue&type=template&id=7b099447&ts=true\"\nimport script from \"./BaseKeyboard.vue?vue&type=script&lang=ts\"\nexport * from \"./BaseKeyboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}