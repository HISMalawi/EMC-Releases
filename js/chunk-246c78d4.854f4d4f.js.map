{"version":3,"sources":["webpack:///./src/apps/ART/views/encounters/BpAlert.vue?36ae","webpack:///./src/apps/ART/views/encounters/BpAlert.vue","webpack:///./src/apps/ART/views/encounters/BpAlert.vue?034b","webpack:///./src/components/DataViews/RiskFactorModal.vue?3ef1","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/components/DataViews/RiskFactorModal.vue","webpack:///./src/components/DataViews/RiskFactorModal.vue?b259","webpack:///./src/apps/ART/views/encounters/BpAlert.vue?75dc","webpack:///./src/components/DataViews/RiskFactorModal.vue?0f26","webpack:///./node_modules/core-js/modules/es.array.find-index.js"],"names":["_withId","_withScopeId","_pushScopeId","_hoisted_1","_createVNode","class","_hoisted_2","key","_hoisted_3","style","_hoisted_4","_hoisted_5","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_popScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_content","_resolveComponent","_component_ion_button","_component_ion_toolbar","_component_ion_footer","_component_ion_page","_openBlock","_createBlock","default","hasPressureReading","_withDirectives","_vShow","patientOnBpDrugs","_toDisplayString","patientName","highBP","sysBp","dsBP","_createCommentVNode","_","color","onClick","showRiskFactors","nextTask","size","slot","recaptureBp","defineComponent","mixins","EncounterMixinVue","components","IonFooter","IonContent","IonPage","IonButton","IonToolbar","data","riskFactors","isPregnant","systolicThreshold","diastolicTheshold","methods","modalController","create","component","RiskFactorModal","backdropDismiss","cssClass","componentProps","factors","modal","present","onDidDismiss","isEmpty","getRiskFactors","concepts","ConceptService","getConceptsByCategory","j","map","concept","ObservationService","getFirstValueCoded","patientID","name","val","value","Promise","all","this","$router","push","watch","ready","handler","r","loadingController","message","loading","htn","BPManagementService","providerID","ART_PROP","diastolicThreshold","getDiastolicBp","getSystolicBp","onBpDrugs","patient","isChildBearing","dismiss","immediate","computed","getFullName","__exports__","_component_ion_title","_component_ion_header","_component_ion_label","_component_ion_checkbox","_component_ion_item","_component_ion_list","_component_ion_col","_component_ion_row","_component_ion_grid","_Fragment","overflowY","background","height","_renderList","modelValue","isChecked","$event","exit","showManageBPButton","manageBP","postActivities","MedicalHistoryService","AppEncounterService","constructor","super","props","type","Object","required","title","String","$route","created","parseInt","params","patient_id","history","createEncounter","encounter","buildObs","obs","saveObservationList","closeModal","valConcept","getConceptID","con","mounted","forEach","factor","ind","findIndex","d","IonHeader","IonTitle","IonLabel","IonList","IonItem","IonCheckbox","IonRow","IonGrid","IonCol","$","$findIndex","addToUnscopables","arrayMethodUsesToLength","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-246c78d4.854f4d4f.js","sourcesContent":["import { createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-146a0e6b\")\n\n_pushScopeId(\"data-v-146a0e6b\")\nconst _hoisted_1 = /*#__PURE__*/_createVNode(\"h1\", { class: \"ion-text-center\" }, \" High BP Alert \", -1)\nconst _hoisted_2 = {\n  key: 0,\n  class: \"vertically-align ion-text-center\"\n}\nconst _hoisted_3 = { style: {\"font-weight\":\"bold\"} }\nconst _hoisted_4 = { class: \"name\" }\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" has \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" blood pressure of \")\nconst _hoisted_7 = { class: \"bp\" }\nconst _hoisted_8 = /*#__PURE__*/_createVNode(\"br\", null, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createVNode(\"span\", null, [\n  /*#__PURE__*/_createTextVNode(\" Retesting BP is \"),\n  /*#__PURE__*/_createVNode(\"span\", { style: {\"font-weight\":\"bold\",\"color\":\"#000000\",\"text-decoration\":\"underline\"} }, \"optional\"),\n  /*#__PURE__*/_createTextVNode(\". \"),\n  /*#__PURE__*/_createVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Do you want to test BP? \")\n], -1)\nconst _hoisted_10 = {\n  key: 1,\n  class: \"vertically-align ion-text-center\"\n}\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" No BP Reading found \")\nconst _hoisted_12 = /*#__PURE__*/_createVNode(\"br\", null, null, -1)\nconst _hoisted_13 = /*#__PURE__*/_createVNode(\"h1\", null, \" Do you want to test BP? \", -1)\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\" No \")\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\" Yes \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withId(() => [\n      _createVNode(_component_ion_content, null, {\n        default: _withId(() => [\n          _hoisted_1,\n          (_ctx.hasPressureReading)\n            ? (_openBlock(), _createBlock(\"div\", _hoisted_2, [\n                _withDirectives(_createVNode(\"h2\", _hoisted_3, \" (Patient already on BP drugs) \", 512), [\n                  [_vShow, _ctx.patientOnBpDrugs]\n                ]),\n                _createVNode(\"h2\", null, [\n                  _createVNode(\"span\", _hoisted_4, _toDisplayString(_ctx.patientName), 1),\n                  _hoisted_5,\n                  _withDirectives(_createVNode(\"span\", null, \" a high \", 512), [\n                    [_vShow, _ctx.highBP]\n                  ]),\n                  _hoisted_6,\n                  _createVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.sysBp) + \" / \" + _toDisplayString(_ctx.dsBP), 1),\n                  _hoisted_8,\n                  _hoisted_9\n                ])\n              ]))\n            : _createCommentVNode(\"\", true),\n          (!_ctx.hasPressureReading)\n            ? (_openBlock(), _createBlock(\"div\", _hoisted_10, [\n                _hoisted_11,\n                _hoisted_12,\n                _hoisted_13\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withId(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withId(() => [\n              _createVNode(_component_ion_button, {\n                onClick: _cache[1] || (_cache[1] = () => _ctx.hasPressureReading ? _ctx.showRiskFactors() : _ctx.nextTask()),\n                size: \"large\",\n                color: \"danger\",\n                slot: \"start\"\n              }, {\n                default: _withId(() => [\n                  _hoisted_14\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.recaptureBp,\n                size: \"large\",\n                color: \"success\",\n                slot: \"end\"\n              }, {\n                default: _withId(() => [\n                  _hoisted_15\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n})","\nimport { defineComponent } from 'vue'\nimport EncounterMixinVue from '../../../../views/EncounterMixin.vue'\nimport {\n    IonFooter,\n    IonContent,\n    IonPage,\n    IonButton,\n    IonToolbar,\n    loadingController,\n    modalController\n} from \"@ionic/vue\"\nimport ART_PROP from \"@/apps/ART/art_global_props\"\nimport { BPManagementService } from '../../services/htn_service'\nimport { ConceptService } from \"@/services/concept_service\";\nimport RiskFactorModal from \"@/components/DataViews/RiskFactorModal.vue\";\nimport { ObservationService } from \"@/services/observation_service\";\nimport { isEmpty } from \"lodash\";\n\nexport default defineComponent({\n    mixins: [EncounterMixinVue],\n    components: { \n        IonFooter,\n        IonContent,\n        IonPage,\n        IonButton,\n        IonToolbar\n    },\n    data: () => ({\n        sysBp: 0 as number,\n        dsBP: 0 as number,\n        riskFactors: [] as any,\n        patientOnBpDrugs: false as boolean,\n        isPregnant: false as boolean,\n        systolicThreshold: 145,\n        diastolicTheshold: 94\n    }),\n    methods: {\n        async showRiskFactors() {\n            const modal = await modalController.create({\n                component: RiskFactorModal,\n                backdropDismiss: false,\n                cssClass: \"large-modal\",\n                componentProps: {\n                    factors: this.riskFactors\n                }\n            })\n            modal.present()\n            const { data } = await modal.onDidDismiss();\n            if (!isEmpty(data)) this.nextTask()\n        },\n        async getRiskFactors() {\n            const concepts = ConceptService.getConceptsByCategory(\"risk factors\");\n            const j = concepts.map(async (concept) => {\n            const val = await ObservationService.getFirstValueCoded(this.patientID, concept.name)\n                return {\n                    concept: concept.name, value: val\n                }\n            })\n            return Promise.all(j);\n        },\n        recaptureBp() {\n            this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)\n        }\n    },\n    watch: {\n        ready: {\n            async handler(r: boolean) {\n                if (!r) return\n                const loading = await loadingController.create({\n                    message: 'Verifying Blood Pressure...',\n                    backdropDismiss: false\n                })\n                await loading.present()\n                const htn = new BPManagementService(this.patientID, this.providerID)\n                this.riskFactors = await this.getRiskFactors();\n                this.systolicThreshold = (await ART_PROP.systolicThreshold()) || 145\n                this.diastolicTheshold = (await ART_PROP.diastolicThreshold()) || 94\n                this.dsBP = (await htn.getDiastolicBp()) || 0\n                this.sysBp = (await htn.getSystolicBp()) || 0\n                this.patientOnBpDrugs = (await htn.onBpDrugs()) || false\n                this.isPregnant = this.patient.isChildBearing()\n                    ? (await this.patient.isPregnant()) || false\n                    : false\n                loadingController.dismiss()\n            },\n            immediate: true\n        }\n    },\n    computed: {\n        patientName(): string {\n            return this.ready ? this.patient.getFullName() : 'Patient'\n        },\n        hasPressureReading(): boolean {\n            return this.sysBp > 0 && this.dsBP > 0\n        },\n        highBP(): boolean {\n            return (this.sysBp >= this.systolicThreshold\n                && this.dsBP >= this.diastolicTheshold || this.dsBP >= this.diastolicTheshold)\n                && !this.isPregnant\n        }\n    }\n})\n","import { render } from \"./BpAlert.vue?vue&type=template&id=146a0e6b&scoped=true&ts=true\"\nimport script from \"./BpAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./BpAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./BpAlert.vue?vue&type=style&index=0&id=146a0e6b&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-146a0e6b\"]])\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-1b2b2db4\")\n\n_pushScopeId(\"data-v-1b2b2db4\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Risk Factors\")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Close \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Manage BP \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Save \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ion_label = _resolveComponent(\"ion-label\")\n  const _component_ion_checkbox = _resolveComponent(\"ion-checkbox\")\n  const _component_ion_item = _resolveComponent(\"ion-item\")\n  const _component_ion_list = _resolveComponent(\"ion-list\")\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withId(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_title, null, {\n              default: _withId(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, { style: { overflowY: 'hidden', background: 'grey' } }, {\n      default: _withId(() => [\n        _createVNode(_component_ion_grid, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_row, null, {\n              default: _withId(() => [\n                _createVNode(_component_ion_col, null, {\n                  default: _withId(() => [\n                    _createVNode(_component_ion_list, { style: {overflowY: 'auto', height:'78vh'} }, {\n                      default: _withId(() => [\n                        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.riskFactors, (data) => {\n                          return (_openBlock(), _createBlock(_component_ion_item, { key: data }, {\n                            default: _withId(() => [\n                              _createVNode(_component_ion_label, null, {\n                                default: _withId(() => [\n                                  _createTextVNode(_toDisplayString(data.name), 1 /* TEXT */)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_ion_checkbox, {\n                                modelValue: data.isChecked,\n                                \"onUpdate:modelValue\": $event => (data.isChecked = $event),\n                                slot: \"start\"\n                              }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"])\n                            ]),\n                            _: 2\n                          }, 1024))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withId(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_button, {\n              size: \"large\",\n              onClick: _ctx.exit,\n              slot: \"start\",\n              color: \"danger\"\n            }, {\n              default: _withId(() => [\n                _hoisted_2\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]),\n            (_ctx.showManageBPButton)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 0,\n                  size: \"large\",\n                  onClick: _ctx.manageBP,\n                  slot: \"start\"\n                }, {\n                  default: _withId(() => [\n                    _hoisted_3\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_component_ion_button, {\n              size: \"large\",\n              color: \"success\",\n              onClick: _ctx.postActivities,\n              slot: \"end\"\n            }, {\n              default: _withId(() => [\n                _hoisted_4\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64 /* STABLE_FRAGMENT */))\n})","import { AppEncounterService } from \"@/services/app_encounter_service\"\n\nexport class MedicalHistoryService extends AppEncounterService {\n    constructor(patientID: number, providerID: number) {\n        super(patientID, 30, providerID) //TODO: Use encounter type reference name'\n    }\n}","\nimport {\n  IonContent,\n  IonButton,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonLabel,\n  modalController,\n  IonList,\n  IonItem,\n  IonCheckbox,\n  IonFooter,\n  IonRow,\n  IonCol,\n  IonGrid\n} from \"@ionic/vue\";\nimport { defineComponent, PropType } from \"vue\";\nimport { ActivityInterface } from \"@/apps/interfaces/AppInterface\"\nimport { MedicalHistoryService } from \"@/apps/ART/services/medical_history\";\nimport { ConceptService } from \"@/services/concept_service\";\nimport { ObsValue } from \"@/services/observation_service\";\nexport default defineComponent({\n  name: \"Modal\",\n  props: {\n    factors: {\n      type: Object,\n      required: true\n    },\n    title: {\n      type: String, \n      default: \"\"\n    },\n  },\n  computed: {\n    showManageBPButton(): boolean {\n      return this.$route.name != 'bp_management'\n    }\n  },\n  created() {\n    this.patientID = parseInt(`${this.$route.params.patient_id}`)\n  },\n  methods: {\n    async postActivities() {\n      const history = new MedicalHistoryService(this.patientID, -1)\n      const encounter = await history.createEncounter();\n\n      if(encounter) {\n        const obs: any = await this.buildObs();\n        await history.saveObservationList(obs);\n        await this.closeModal();\n      }\n    },\n    manageBP() {\n      this.$router.push(`/art/encounters/bp_management/${this.patientID}`)\n    },\n    exit() {\n      modalController.dismiss([])\n    },\n    async closeModal() {\n      await modalController.dismiss(this.riskFactors)\n    },\n    async buildObs() {\n      return this.riskFactors.map((r: any) => {\n        const val = r.isChecked === true ? 'Yes' : 'No';\n        const valConcept = ConceptService.getConceptID(val, true);\n        const con = ConceptService.getConceptID(r.concept, true)\n        return {\n          'concept_id': con,\n          'value_coded': valConcept\n        }\n      });\n    }\n  },\n  data() {\n    return {\n      patientID: -1 as number,\n      riskFactors: [\n        {name: 'Diabetes', isChecked: false, concept: 'Diabetes'},\n        {name: 'Cronic kidney disease', isChecked: false, concept: 'CKD'},\n        {name: 'Past history of IHD or CVD', isChecked: false, concept: 'history of CVD'},\n        {name: 'First degree relative with IHD or CVD <65', isChecked: false, concept: 'relative with CVD'},\n        {name: 'Patient currently smokes', isChecked: false, concept: 'patient smokes'}\n      ]\n    };\n  },\n  mounted() {\n    this.factors.forEach((factor: any) => {\n      if(factor.value === \"Yes\") {\n        const ind = this.riskFactors.findIndex(d => d.concept === factor.concept);\n        this.riskFactors[ind].isChecked = true;\n      }\n    });\n  },\n  components: {\n    IonButton,\n    IonContent,\n    IonHeader,\n    IonTitle,\n    IonToolbar,\n    IonLabel,\n    IonList,\n    IonItem,\n    IonCheckbox,\n    IonRow,\n    IonFooter,\n    IonGrid,\n    IonCol,\n  },\n});\n","import { render } from \"./RiskFactorModal.vue?vue&type=template&id=1b2b2db4&scoped=true&ts=true\"\nimport script from \"./RiskFactorModal.vue?vue&type=script&lang=ts\"\nexport * from \"./RiskFactorModal.vue?vue&type=script&lang=ts\"\n\nimport \"./RiskFactorModal.vue?vue&type=style&index=0&id=1b2b2db4&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b2b2db4\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BpAlert.vue?vue&type=style&index=0&id=146a0e6b&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RiskFactorModal.vue?vue&type=style&index=0&id=1b2b2db4&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n"],"sourceRoot":""}