(function(e){function t(t){for(var a,c,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},o={app:0},r=[];function i(e){return s.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom",TouchFormElement0:"TouchFormElement0",TouchFormElement1:"TouchFormElement1",TouchFormElement10:"TouchFormElement10",TouchFormElement11:"TouchFormElement11",TouchFormElement12:"TouchFormElement12","TouchFormElement13~TouchFormElement20~TouchFormElement24":"TouchFormElement13~TouchFormElement20~TouchFormElement24",TouchFormElement13:"TouchFormElement13",TouchFormElement20:"TouchFormElement20",TouchFormElement24:"TouchFormElement24",TouchFormElement15:"TouchFormElement15",TouchFormElement16:"TouchFormElement16",TouchFormElement17:"TouchFormElement17",TouchFormElement18:"TouchFormElement18",TouchFormElement2:"TouchFormElement2",TouchFormElement22:"TouchFormElement22",TouchFormElement23:"TouchFormElement23",TouchFormElement25:"TouchFormElement25",TouchFormElement26:"TouchFormElement26",TouchFormElement27:"TouchFormElement27",TouchFormElement28:"TouchFormElement28",TouchFormElement29:"TouchFormElement29",TouchFormElement3:"TouchFormElement3",TouchFormElement30:"TouchFormElement30",TouchFormElement31:"TouchFormElement31",TouchFormElement32:"TouchFormElement32",TouchFormElement35:"TouchFormElement35",TouchFormElement36:"TouchFormElement36",TouchFormElement37:"TouchFormElement37",TouchFormElement4:"TouchFormElement4",TouchFormElement40:"TouchFormElement40",TouchFormElement41:"TouchFormElement41",TouchFormElement42:"TouchFormElement42",TouchFormElement43:"TouchFormElement43",TouchFormElement44:"TouchFormElement44",TouchFormElement45:"TouchFormElement45",TouchFormElement47:"TouchFormElement47",TouchFormElement48:"TouchFormElement48",TouchFormElement49:"TouchFormElement49",TouchFormElement5:"TouchFormElement5",TouchFormElement50:"TouchFormElement50",TouchFormElement6:"TouchFormElement6",TouchFormElement7:"TouchFormElement7",TouchFormElement8:"TouchFormElement8",TouchFormElement9:"TouchFormElement9",TouchFormElement14:"TouchFormElement14",TouchFormElement19:"TouchFormElement19",TouchFormElement21:"TouchFormElement21",TouchFormElement33:"TouchFormElement33",TouchFormElement34:"TouchFormElement34",TouchFormElement38:"TouchFormElement38",TouchFormElement39:"TouchFormElement39",TouchFormElement46:"TouchFormElement46",TouchFormElement51:"TouchFormElement51",TouchFormElement52:"TouchFormElement52"}[e]||e)+"."+{"chunk-008cd3d6":"116a20a6","chunk-02c995b5":"2002efe2","chunk-08561112":"3c16f7b1","chunk-260753ea":"2d746bc6","chunk-24564210":"58f672ab","chunk-67f6c7f7":"06be2f1d","chunk-c324c0c2":"0efd0cf0","chunk-09155df3":"383b4f5c","chunk-09162720":"e0708d85","chunk-097e0872":"46d6f809","chunk-0e93a01c":"f38abca4","chunk-138dea20":"8d463d6a","chunk-13f7161e":"40d8e560","chunk-1dbc15a2":"b279b1ac","chunk-1e82d964":"4a102db4","chunk-1f3fa45a":"0188149f","chunk-1fc232e5":"6373447f","chunk-21a76241":"41f3b7d4","chunk-2239cf8c":"bf0c77d8","chunk-25d83ca8":"3de6bfb7","chunk-26c753d6":"9c355342","chunk-28f17f29":"c9eb76f3","chunk-021b8aa8":"b2579fe2","chunk-0134255a":"017f5fc1","chunk-0394d45c":"bea1b973","chunk-0903fe89":"9a7fdb8d","chunk-1030c8c0":"4a89bf91","chunk-1ffd9cb4":"8ebae214","chunk-24040f92":"819dad1c","chunk-29b2b510":"acaa076e","chunk-2c5362f6":"51a64f58","chunk-05a3c442":"310f9af0","chunk-245216b5":"18852154","chunk-6afe013c":"fe73bf0b","chunk-6f19fe7a":"426c72b6","chunk-317bc851":"1a5682f9","chunk-31dce1a6":"2699a10c","chunk-3356fb26":"43a29bef","chunk-35f8dffa":"cbba05b5","chunk-373eba62":"3cf21a81","chunk-4e9d8d5a":"57456bea","chunk-50f948a5":"bae77608","chunk-58f2eec8":"a927b222","chunk-2d0cbe29":"11a8e9ba","chunk-2d0e8fe4":"f5d684a8","chunk-5d57a4d2":"701fae1f","chunk-0080112c":"df04db2a","chunk-116c7d50":"c9a6d600","chunk-123da1b6":"7cb3b845","chunk-24c61e3e":"2b237ecb","chunk-2726be10":"2d1e5689","chunk-29c0180e":"35b05733","chunk-396f5648":"5d9ceb02","chunk-3d85f6a6":"3ac7d019","chunk-41b1bc66":"c1558e26","chunk-4923dd30":"b973649d","chunk-49711748":"e865dacc","chunk-55995f35":"2f616917","chunk-67356a1a":"768435c6","chunk-71cb1df0":"6a4d1cee","chunk-8f988722":"1161579f","chunk-a0c215ba":"0ff12776","chunk-f23a2b2c":"ab993d72","chunk-612b2260":"be2f43b0","chunk-6321936e":"d638dc95","chunk-64712c94":"32eb0cc8","chunk-13f5bda0":"fd7edb41","chunk-2d0aedb1":"d58e31d6","chunk-2d0cc98a":"7f78c99b","chunk-2d0e8fc6":"96eea4a3","chunk-2d20ee25":"fe8385a6","chunk-2d21f07a":"f68e9a0e","chunk-2d229b3d":"34f9199a","chunk-46bff48c":"3f6965cd","chunk-65365de6":"c98b4038","chunk-67d32ce7":"ddfb6971","chunk-6f23a129":"c75cdb50","chunk-2d0db1ed":"286e997f","chunk-2d229c15":"e5ba63ab","chunk-74dd3cb5":"1e5df6a9","chunk-786992e3":"0e4a343d","chunk-7f211796":"15b53308","chunk-2d0deb82":"6c030a74","chunk-2d2297b9":"74b461bd","chunk-64eefda5":"2dc815db","chunk-a929a60a":"60229f9e","chunk-2c13ffe0":"7b022ac3","chunk-2d0af6a8":"139009be","chunk-2d21d9f6":"e59f2636","chunk-2d2219e6":"9f676b82","chunk-395163ca":"bed321c2","chunk-aa656c3e":"c88255a3","chunk-df95d9f8":"7353d9ac","chunk-e43920f8":"6e952c41","chunk-eb0575e6":"486123ee","chunk-f37dc3f2":"8e6bebe9","chunk-2f0f0cc6":"bcd0c915","chunk-16767ceb":"0ad20084","chunk-1aaa69a2":"bcf34ca3","chunk-1c4f94a2":"bd787803","chunk-1e242795":"f750ed9e","chunk-2a595470":"f8f33e0b","chunk-2d22ca72":"9946d7c2","chunk-2d9a09c1":"abeb02c3","chunk-3a966710":"0313b170","chunk-3c93bec2":"03db80e2","chunk-40a31bd6":"a6061684","chunk-428a91f2":"615a5e0c","chunk-4620f548":"0a37322e","chunk-4621dc90":"c12c1027","chunk-46239ead":"13d38496","chunk-462480cb":"54b61fcd","chunk-56873b06":"d7c40af7","chunk-625971b9":"5de6c70e","chunk-2a009ab5":"7f46fbe4","chunk-68c95e5c":"f8680db3","chunk-7ca49a5f":"b3decfc8","chunk-9baa1fa4":"eac65107","chunk-c0d73ea8":"5e6a320f","chunk-01a5b102":"6dc997c7","chunk-0659713c":"eb6e313c","chunk-0d8a9648":"825c59e1","chunk-0e8d09cc":"7c65ef25","chunk-10567f65":"99c08044","chunk-fa7aafa6":"235e6501","chunk-13e9c9f8":"fcfd27d5","chunk-2d2288cf":"ef1cd56e","chunk-4183a6cc":"3a8b3161","chunk-159e38ab":"57b84636","chunk-15eccd71":"d1b5b306","chunk-177a3565":"f36b4897","chunk-1a035943":"ec67524b","chunk-238d182f":"35c79cc3","chunk-23cae350":"5f9238a8","chunk-25532402":"cb11547f","chunk-2b71730d":"fbb0f438","chunk-41a9dd0a":"d82318cb","chunk-4255b9ec":"6022c95b","chunk-444bebfd":"7b5ae40d","chunk-449ba214":"8b81feac","chunk-45b19b4c":"78e08628","chunk-49088940":"574b713a","chunk-4e1cd824":"2da32d0c","chunk-4e68d643":"9e1233d6","chunk-515474f6":"764f02f2","chunk-558c7b2c":"e2577c26","chunk-5d065fa7":"db9fe8f9","chunk-5d9db78a":"b38e527d","chunk-5edbc3a2":"2ba0023d","chunk-603b7233":"eac7b305","chunk-610c914e":"ac859bc2","chunk-614857ee":"8d2318f8","chunk-61f9fc74":"a847a553","chunk-03bca019":"7980c3a2","chunk-1a0bba86":"d631fcb2","chunk-2f08f350":"eeb87211","chunk-62afc79a":"89a4b769","chunk-d9a8c722":"9061141e","chunk-654c8487":"fc347f4b","chunk-74c63811":"d3dc42ad","chunk-753a9bc9":"5cc30799","chunk-7b8bfad3":"893994c8","chunk-7be20c1d":"86f96099","chunk-8f3cd08c":"9edde5c2","chunk-9d96e180":"04e34d94","chunk-a7c378ee":"f185d5f1","chunk-ae117fa2":"0b296563","chunk-0d24d27e":"ce6b0c4d","chunk-242290d5":"1fe0a870","chunk-246c78d4":"854f4d4f","chunk-8a6e8a76":"039055a8","chunk-2d0e1fde":"eaeb586f","chunk-7f9749ab":"60ae4d8d","chunk-dc54cec2":"c4da361d","chunk-ec803748":"e6288195","chunk-b571ac70":"b419dc1d","chunk-bc09139e":"783a7314","chunk-2c083610":"e42dd90d","chunk-2d0a3ffc":"f91d7cb3","chunk-2d0a463b":"e3235ea7","chunk-2d0b66fc":"cfed64c1","chunk-2d0c073f":"2a274d8d","chunk-2d0d43da":"bbe11993","chunk-2d0d6f0e":"3e51394f","chunk-2d0da04a":"0d8bf6a3","chunk-2d0e5812":"b22a16d9","chunk-2d208702":"83444ebe","chunk-2d213189":"2a5e549d","chunk-2d218068":"48472bfd","chunk-2d21da73":"2051f9e9","chunk-2d22d5a8":"7a403844","chunk-2d2304d2":"90afb700","chunk-30dd9750":"931c75d5","chunk-34f7327c":"a1f5492a","chunk-37f2300e":"4135ef2a","chunk-3ed29de3":"b06e9870","chunk-41c0f7a4":"8df89a1a","chunk-462c869e":"2bb01a8e","chunk-4bb39ca0":"4a416fa1","chunk-4fce5913":"bc7fb4b5","chunk-504c4825":"1e6e5218","chunk-541ea42d":"4a361441","chunk-54bbd082":"83ac21ba","chunk-59d4c87c":"1764ccf2","chunk-5a8ac886":"1a665d62","chunk-69eb8776":"b391b552","chunk-6d375f34":"d360aa0a","chunk-7548ca2d":"759145d5","chunk-79f1dac7":"a171ac3f","chunk-858cd918":"1f62db04","chunk-8bb7f81e":"c8ce37bd","chunk-9692f8e6":"2ca9fb09","chunk-a279802a":"28df955f","chunk-a9395c36":"48d41261","chunk-b14c2520":"8f9beaab","chunk-48a72ea3":"f5db5e92","chunk-825b3146":"e5389d3a","chunk-c53d26f0":"3257c5ac","chunk-c567cc2a":"2b28d48b","chunk-c92178e0":"a1965b14","chunk-d0e8aa0a":"14b1d1c1","chunk-d8413eac":"097c6eca","chunk-dd0512cc":"d3bb6e86","chunk-eaa2b130":"61a8b686","chunk-f15d923e":"1eef99f6","chunk-f858ef4e":"cd0777e9","polyfills-core-js":"ada8da51","polyfills-dom":"aae81a66",TouchFormElement0:"2d85421f",TouchFormElement1:"7ace43f2",TouchFormElement10:"471867d2",TouchFormElement11:"b9b39dca",TouchFormElement12:"99f1340e","TouchFormElement13~TouchFormElement20~TouchFormElement24":"24187708",TouchFormElement13:"f1640a0a",TouchFormElement20:"055f40ba",TouchFormElement24:"77ea51b0",TouchFormElement15:"f2ed3804",TouchFormElement16:"128b7b46",TouchFormElement17:"0db5cdaf",TouchFormElement18:"29338ff2",TouchFormElement2:"25ec3340",TouchFormElement22:"1374e7ca",TouchFormElement23:"0da8cd29",TouchFormElement25:"f1bfaefd",TouchFormElement26:"359502b9",TouchFormElement27:"642a57ea",TouchFormElement28:"bae188de",TouchFormElement29:"29194c3b",TouchFormElement3:"879b098c",TouchFormElement30:"125caee6",TouchFormElement31:"098580da",TouchFormElement32:"8d0e02bc",TouchFormElement35:"00aedd82",TouchFormElement36:"05db2b48",TouchFormElement37:"ec59aae8",TouchFormElement4:"c716a183",TouchFormElement40:"85f2654b",TouchFormElement41:"5de2e706",TouchFormElement42:"0c96dd48",TouchFormElement43:"c02c933d",TouchFormElement44:"dbcc8c70",TouchFormElement45:"dbb17bdd",TouchFormElement47:"9ee44124",TouchFormElement48:"0f26aea7",TouchFormElement49:"bb5baf1f",TouchFormElement5:"38f0f3e0",TouchFormElement50:"311fed6f",TouchFormElement6:"313fe8aa",TouchFormElement7:"41591ec4",TouchFormElement8:"471a076b",TouchFormElement9:"df7134c7",TouchFormElement14:"323676aa",TouchFormElement19:"bc7fc899",TouchFormElement21:"865e7853",TouchFormElement33:"eed53fb0",TouchFormElement34:"d4a798e5",TouchFormElement38:"7a893a87",TouchFormElement39:"b1d2ee96",TouchFormElement46:"750a7b6e",TouchFormElement51:"3f2d91c4",TouchFormElement52:"dfab67c7","chunk-2d216214":"828bff03","chunk-2d216257":"9647437a","chunk-97a9ff3a":"2c77e41e","chunk-2d0b62ff":"99b3b88c","chunk-3930e940":"fab4c70c","chunk-2d0b33e3":"3ccf2dd4","chunk-2d0e19fd":"7fb760c7","chunk-2d0e528a":"5f2630bd","chunk-2d0f1533":"fda44b67","chunk-2d230101":"ea888524","chunk-2d2376e6":"d962d94b","chunk-a82438bc":"7f238fc2","chunk-2d0c4649":"8a0e0976"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-260753ea":1,"chunk-138dea20":1,"chunk-13f7161e":1,"chunk-1e82d964":1,"chunk-1fc232e5":1,"chunk-2239cf8c":1,"chunk-26c753d6":1,"chunk-28f17f29":1,"chunk-0134255a":1,"chunk-0394d45c":1,"chunk-0903fe89":1,"chunk-1030c8c0":1,"chunk-24040f92":1,"chunk-29b2b510":1,"chunk-317bc851":1,"chunk-31dce1a6":1,"chunk-3356fb26":1,"chunk-35f8dffa":1,"chunk-4e9d8d5a":1,"chunk-50f948a5":1,"chunk-58f2eec8":1,"chunk-5d57a4d2":1,"chunk-612b2260":1,"chunk-6321936e":1,"chunk-64712c94":1,"chunk-67d32ce7":1,"chunk-6f23a129":1,"chunk-74dd3cb5":1,"chunk-786992e3":1,"chunk-7f211796":1,"chunk-a929a60a":1,"chunk-aa656c3e":1,"chunk-df95d9f8":1,"chunk-e43920f8":1,"chunk-eb0575e6":1,"chunk-f37dc3f2":1,"chunk-2f0f0cc6":1,"chunk-1c4f94a2":1,"chunk-2a595470":1,"chunk-2d9a09c1":1,"chunk-2a009ab5":1,"chunk-68c95e5c":1,"chunk-c0d73ea8":1,"chunk-10567f65":1,"chunk-fa7aafa6":1,"chunk-0d24d27e":1,"chunk-246c78d4":1,"chunk-7f9749ab":1,"chunk-dc54cec2":1,"chunk-ec803748":1,"chunk-b571ac70":1,"chunk-2c083610":1,"chunk-4bb39ca0":1,"chunk-4fce5913":1,"chunk-a279802a":1,"chunk-48a72ea3":1,"chunk-825b3146":1,"chunk-c92178e0":1,"chunk-dd0512cc":1,"chunk-f15d923e":1,TouchFormElement0:1,TouchFormElement1:1,TouchFormElement10:1,TouchFormElement11:1,TouchFormElement12:1,"TouchFormElement13~TouchFormElement20~TouchFormElement24":1,TouchFormElement13:1,TouchFormElement20:1,TouchFormElement24:1,TouchFormElement15:1,TouchFormElement16:1,TouchFormElement17:1,TouchFormElement18:1,TouchFormElement2:1,TouchFormElement22:1,TouchFormElement23:1,TouchFormElement25:1,TouchFormElement26:1,TouchFormElement27:1,TouchFormElement28:1,TouchFormElement29:1,TouchFormElement3:1,TouchFormElement30:1,TouchFormElement31:1,TouchFormElement32:1,TouchFormElement35:1,TouchFormElement36:1,TouchFormElement37:1,TouchFormElement4:1,TouchFormElement40:1,TouchFormElement41:1,TouchFormElement42:1,TouchFormElement43:1,TouchFormElement44:1,TouchFormElement45:1,TouchFormElement47:1,TouchFormElement48:1,TouchFormElement49:1,TouchFormElement5:1,TouchFormElement50:1,TouchFormElement6:1,TouchFormElement7:1,TouchFormElement9:1,TouchFormElement14:1,TouchFormElement19:1,TouchFormElement21:1,TouchFormElement33:1,TouchFormElement34:1,TouchFormElement38:1,TouchFormElement39:1,TouchFormElement46:1,TouchFormElement51:1,TouchFormElement52:1,"chunk-3930e940":1,"chunk-a82438bc":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var a="css/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom",TouchFormElement0:"TouchFormElement0",TouchFormElement1:"TouchFormElement1",TouchFormElement10:"TouchFormElement10",TouchFormElement11:"TouchFormElement11",TouchFormElement12:"TouchFormElement12","TouchFormElement13~TouchFormElement20~TouchFormElement24":"TouchFormElement13~TouchFormElement20~TouchFormElement24",TouchFormElement13:"TouchFormElement13",TouchFormElement20:"TouchFormElement20",TouchFormElement24:"TouchFormElement24",TouchFormElement15:"TouchFormElement15",TouchFormElement16:"TouchFormElement16",TouchFormElement17:"TouchFormElement17",TouchFormElement18:"TouchFormElement18",TouchFormElement2:"TouchFormElement2",TouchFormElement22:"TouchFormElement22",TouchFormElement23:"TouchFormElement23",TouchFormElement25:"TouchFormElement25",TouchFormElement26:"TouchFormElement26",TouchFormElement27:"TouchFormElement27",TouchFormElement28:"TouchFormElement28",TouchFormElement29:"TouchFormElement29",TouchFormElement3:"TouchFormElement3",TouchFormElement30:"TouchFormElement30",TouchFormElement31:"TouchFormElement31",TouchFormElement32:"TouchFormElement32",TouchFormElement35:"TouchFormElement35",TouchFormElement36:"TouchFormElement36",TouchFormElement37:"TouchFormElement37",TouchFormElement4:"TouchFormElement4",TouchFormElement40:"TouchFormElement40",TouchFormElement41:"TouchFormElement41",TouchFormElement42:"TouchFormElement42",TouchFormElement43:"TouchFormElement43",TouchFormElement44:"TouchFormElement44",TouchFormElement45:"TouchFormElement45",TouchFormElement47:"TouchFormElement47",TouchFormElement48:"TouchFormElement48",TouchFormElement49:"TouchFormElement49",TouchFormElement5:"TouchFormElement5",TouchFormElement50:"TouchFormElement50",TouchFormElement6:"TouchFormElement6",TouchFormElement7:"TouchFormElement7",TouchFormElement8:"TouchFormElement8",TouchFormElement9:"TouchFormElement9",TouchFormElement14:"TouchFormElement14",TouchFormElement19:"TouchFormElement19",TouchFormElement21:"TouchFormElement21",TouchFormElement33:"TouchFormElement33",TouchFormElement34:"TouchFormElement34",TouchFormElement38:"TouchFormElement38",TouchFormElement39:"TouchFormElement39",TouchFormElement46:"TouchFormElement46",TouchFormElement51:"TouchFormElement51",TouchFormElement52:"TouchFormElement52"}[e]||e)+"."+{"chunk-008cd3d6":"31d6cfe0","chunk-02c995b5":"31d6cfe0","chunk-08561112":"31d6cfe0","chunk-260753ea":"27b91042","chunk-24564210":"31d6cfe0","chunk-67f6c7f7":"31d6cfe0","chunk-c324c0c2":"31d6cfe0","chunk-09155df3":"31d6cfe0","chunk-09162720":"31d6cfe0","chunk-097e0872":"31d6cfe0","chunk-0e93a01c":"31d6cfe0","chunk-138dea20":"6e65d29c","chunk-13f7161e":"857875f8","chunk-1dbc15a2":"31d6cfe0","chunk-1e82d964":"b24d7c7c","chunk-1f3fa45a":"31d6cfe0","chunk-1fc232e5":"0a26b8c4","chunk-21a76241":"31d6cfe0","chunk-2239cf8c":"86fe3030","chunk-25d83ca8":"31d6cfe0","chunk-26c753d6":"310fb37b","chunk-28f17f29":"57986f65","chunk-021b8aa8":"31d6cfe0","chunk-0134255a":"b2acd059","chunk-0394d45c":"b2acd059","chunk-0903fe89":"b2acd059","chunk-1030c8c0":"b2acd059","chunk-1ffd9cb4":"31d6cfe0","chunk-24040f92":"b2acd059","chunk-29b2b510":"b2acd059","chunk-2c5362f6":"31d6cfe0","chunk-05a3c442":"31d6cfe0","chunk-245216b5":"31d6cfe0","chunk-6afe013c":"31d6cfe0","chunk-6f19fe7a":"31d6cfe0","chunk-317bc851":"b2acd059","chunk-31dce1a6":"b2acd059","chunk-3356fb26":"b2acd059","chunk-35f8dffa":"b2acd059","chunk-373eba62":"31d6cfe0","chunk-4e9d8d5a":"b2acd059","chunk-50f948a5":"d0d6c844","chunk-58f2eec8":"b2acd059","chunk-2d0cbe29":"31d6cfe0","chunk-2d0e8fe4":"31d6cfe0","chunk-5d57a4d2":"6421686a","chunk-0080112c":"31d6cfe0","chunk-116c7d50":"31d6cfe0","chunk-123da1b6":"31d6cfe0","chunk-24c61e3e":"31d6cfe0","chunk-2726be10":"31d6cfe0","chunk-29c0180e":"31d6cfe0","chunk-396f5648":"31d6cfe0","chunk-3d85f6a6":"31d6cfe0","chunk-41b1bc66":"31d6cfe0","chunk-4923dd30":"31d6cfe0","chunk-49711748":"31d6cfe0","chunk-55995f35":"31d6cfe0","chunk-67356a1a":"31d6cfe0","chunk-71cb1df0":"31d6cfe0","chunk-8f988722":"31d6cfe0","chunk-a0c215ba":"31d6cfe0","chunk-f23a2b2c":"31d6cfe0","chunk-612b2260":"b2acd059","chunk-6321936e":"54dcb621","chunk-64712c94":"b2acd059","chunk-13f5bda0":"31d6cfe0","chunk-2d0aedb1":"31d6cfe0","chunk-2d0cc98a":"31d6cfe0","chunk-2d0e8fc6":"31d6cfe0","chunk-2d20ee25":"31d6cfe0","chunk-2d21f07a":"31d6cfe0","chunk-2d229b3d":"31d6cfe0","chunk-46bff48c":"31d6cfe0","chunk-65365de6":"31d6cfe0","chunk-67d32ce7":"b2acd059","chunk-6f23a129":"b2acd059","chunk-2d0db1ed":"31d6cfe0","chunk-2d229c15":"31d6cfe0","chunk-74dd3cb5":"b2acd059","chunk-786992e3":"b2acd059","chunk-7f211796":"b2acd059","chunk-2d0deb82":"31d6cfe0","chunk-2d2297b9":"31d6cfe0","chunk-64eefda5":"31d6cfe0","chunk-a929a60a":"b2acd059","chunk-2c13ffe0":"31d6cfe0","chunk-2d0af6a8":"31d6cfe0","chunk-2d21d9f6":"31d6cfe0","chunk-2d2219e6":"31d6cfe0","chunk-395163ca":"31d6cfe0","chunk-aa656c3e":"b2acd059","chunk-df95d9f8":"b2acd059","chunk-e43920f8":"b2acd059","chunk-eb0575e6":"b2acd059","chunk-f37dc3f2":"b2acd059","chunk-2f0f0cc6":"b2acd059","chunk-16767ceb":"31d6cfe0","chunk-1aaa69a2":"31d6cfe0","chunk-1c4f94a2":"cbd442eb","chunk-1e242795":"31d6cfe0","chunk-2a595470":"d1b8d59e","chunk-2d22ca72":"31d6cfe0","chunk-2d9a09c1":"cbd442eb","chunk-3a966710":"31d6cfe0","chunk-3c93bec2":"31d6cfe0","chunk-40a31bd6":"31d6cfe0","chunk-428a91f2":"31d6cfe0","chunk-4620f548":"31d6cfe0","chunk-4621dc90":"31d6cfe0","chunk-46239ead":"31d6cfe0","chunk-462480cb":"31d6cfe0","chunk-56873b06":"31d6cfe0","chunk-625971b9":"31d6cfe0","chunk-2a009ab5":"cbd442eb","chunk-68c95e5c":"484387a8","chunk-7ca49a5f":"31d6cfe0","chunk-9baa1fa4":"31d6cfe0","chunk-c0d73ea8":"cbd442eb","chunk-01a5b102":"31d6cfe0","chunk-0659713c":"31d6cfe0","chunk-0d8a9648":"31d6cfe0","chunk-0e8d09cc":"31d6cfe0","chunk-10567f65":"631410ac","chunk-fa7aafa6":"119a9e15","chunk-13e9c9f8":"31d6cfe0","chunk-2d2288cf":"31d6cfe0","chunk-4183a6cc":"31d6cfe0","chunk-159e38ab":"31d6cfe0","chunk-15eccd71":"31d6cfe0","chunk-177a3565":"31d6cfe0","chunk-1a035943":"31d6cfe0","chunk-238d182f":"31d6cfe0","chunk-23cae350":"31d6cfe0","chunk-25532402":"31d6cfe0","chunk-2b71730d":"31d6cfe0","chunk-41a9dd0a":"31d6cfe0","chunk-4255b9ec":"31d6cfe0","chunk-444bebfd":"31d6cfe0","chunk-449ba214":"31d6cfe0","chunk-45b19b4c":"31d6cfe0","chunk-49088940":"31d6cfe0","chunk-4e1cd824":"31d6cfe0","chunk-4e68d643":"31d6cfe0","chunk-515474f6":"31d6cfe0","chunk-558c7b2c":"31d6cfe0","chunk-5d065fa7":"31d6cfe0","chunk-5d9db78a":"31d6cfe0","chunk-5edbc3a2":"31d6cfe0","chunk-603b7233":"31d6cfe0","chunk-610c914e":"31d6cfe0","chunk-614857ee":"31d6cfe0","chunk-61f9fc74":"31d6cfe0","chunk-03bca019":"31d6cfe0","chunk-1a0bba86":"31d6cfe0","chunk-2f08f350":"31d6cfe0","chunk-62afc79a":"31d6cfe0","chunk-d9a8c722":"31d6cfe0","chunk-654c8487":"31d6cfe0","chunk-74c63811":"31d6cfe0","chunk-753a9bc9":"31d6cfe0","chunk-7b8bfad3":"31d6cfe0","chunk-7be20c1d":"31d6cfe0","chunk-8f3cd08c":"31d6cfe0","chunk-9d96e180":"31d6cfe0","chunk-a7c378ee":"31d6cfe0","chunk-ae117fa2":"31d6cfe0","chunk-0d24d27e":"1f8beb44","chunk-242290d5":"31d6cfe0","chunk-246c78d4":"e3bb44ba","chunk-8a6e8a76":"31d6cfe0","chunk-2d0e1fde":"31d6cfe0","chunk-7f9749ab":"97defb9a","chunk-dc54cec2":"eeac45b7","chunk-ec803748":"4bb69700","chunk-b571ac70":"af4f97f0","chunk-bc09139e":"31d6cfe0","chunk-2c083610":"09c3dee7","chunk-2d0a3ffc":"31d6cfe0","chunk-2d0a463b":"31d6cfe0","chunk-2d0b66fc":"31d6cfe0","chunk-2d0c073f":"31d6cfe0","chunk-2d0d43da":"31d6cfe0","chunk-2d0d6f0e":"31d6cfe0","chunk-2d0da04a":"31d6cfe0","chunk-2d0e5812":"31d6cfe0","chunk-2d208702":"31d6cfe0","chunk-2d213189":"31d6cfe0","chunk-2d218068":"31d6cfe0","chunk-2d21da73":"31d6cfe0","chunk-2d22d5a8":"31d6cfe0","chunk-2d2304d2":"31d6cfe0","chunk-30dd9750":"31d6cfe0","chunk-34f7327c":"31d6cfe0","chunk-37f2300e":"31d6cfe0","chunk-3ed29de3":"31d6cfe0","chunk-41c0f7a4":"31d6cfe0","chunk-462c869e":"31d6cfe0","chunk-4bb39ca0":"15d5d283","chunk-4fce5913":"b955ff4a","chunk-504c4825":"31d6cfe0","chunk-541ea42d":"31d6cfe0","chunk-54bbd082":"31d6cfe0","chunk-59d4c87c":"31d6cfe0","chunk-5a8ac886":"31d6cfe0","chunk-69eb8776":"31d6cfe0","chunk-6d375f34":"31d6cfe0","chunk-7548ca2d":"31d6cfe0","chunk-79f1dac7":"31d6cfe0","chunk-858cd918":"31d6cfe0","chunk-8bb7f81e":"31d6cfe0","chunk-9692f8e6":"31d6cfe0","chunk-a279802a":"9c71c637","chunk-a9395c36":"31d6cfe0","chunk-b14c2520":"31d6cfe0","chunk-48a72ea3":"e36e49a2","chunk-825b3146":"dbd8cff2","chunk-c53d26f0":"31d6cfe0","chunk-c567cc2a":"31d6cfe0","chunk-c92178e0":"daedacd7","chunk-d0e8aa0a":"31d6cfe0","chunk-d8413eac":"31d6cfe0","chunk-dd0512cc":"8f2281e2","chunk-eaa2b130":"31d6cfe0","chunk-f15d923e":"e155dfbb","chunk-f858ef4e":"31d6cfe0","polyfills-core-js":"31d6cfe0","polyfills-dom":"31d6cfe0",TouchFormElement0:"82891887",TouchFormElement1:"86cadaaa",TouchFormElement10:"de2a26f1",TouchFormElement11:"cdf03e74",TouchFormElement12:"45e46051","TouchFormElement13~TouchFormElement20~TouchFormElement24":"97fc48bf",TouchFormElement13:"43a52b89",TouchFormElement20:"b4553361",TouchFormElement24:"99e88d87",TouchFormElement15:"98c1cf42",TouchFormElement16:"170bd2d0",TouchFormElement17:"ab2e769e",TouchFormElement18:"5c4d4759",TouchFormElement2:"1d089114",TouchFormElement22:"2843771e",TouchFormElement23:"86cadaaa",TouchFormElement25:"d5dfdb8b",TouchFormElement26:"97fc48bf",TouchFormElement27:"52adadf6",TouchFormElement28:"fef1e0b0",TouchFormElement29:"99890496",TouchFormElement3:"913d07f0",TouchFormElement30:"e5879bdb",TouchFormElement31:"45e46051",TouchFormElement32:"e6c9cb03",TouchFormElement35:"b5f72455",TouchFormElement36:"45e46051",TouchFormElement37:"ffe59e59",TouchFormElement4:"d32f3d9f",TouchFormElement40:"da6df12c",TouchFormElement41:"68740a2e",TouchFormElement42:"be8270c0",TouchFormElement43:"9174b47c",TouchFormElement44:"0ce72b2e",TouchFormElement45:"2caf1f0f",TouchFormElement47:"e47d4f4d",TouchFormElement48:"ba798de3",TouchFormElement49:"bdf14c4e",TouchFormElement5:"e4954cff",TouchFormElement50:"7da99f80",TouchFormElement6:"1dbedbef",TouchFormElement7:"32757b37",TouchFormElement8:"31d6cfe0",TouchFormElement9:"f177188e",TouchFormElement14:"1127b2fe",TouchFormElement19:"ded63054",TouchFormElement21:"521a8c02",TouchFormElement33:"97fc48bf",TouchFormElement34:"bb90ce1f",TouchFormElement38:"f9e298ab",TouchFormElement39:"8f257e86",TouchFormElement46:"1103c25d",TouchFormElement51:"97fc48bf",TouchFormElement52:"dbd46390","chunk-2d216214":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-97a9ff3a":"31d6cfe0","chunk-2d0b62ff":"31d6cfe0","chunk-3930e940":"f55e5447","chunk-2d0b33e3":"31d6cfe0","chunk-2d0e19fd":"31d6cfe0","chunk-2d0e528a":"31d6cfe0","chunk-2d0f1533":"31d6cfe0","chunk-2d230101":"31d6cfe0","chunk-2d2376e6":"31d6cfe0","chunk-a82438bc":"2c5e759a","chunk-2d0c4649":"31d6cfe0"}[e]+".css",o=s.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var u=r[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[e],p.parentNode.removeChild(p),n(r)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){c[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",d.name="ChunkLoadError",d.type=a,d.request=c,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0011":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));var a=n("5a0c"),c=n.n(a);function o(e){try{return!!(""+e).match(/(^\s*$|undefined|null)/i)}catch(t){return!0}}function r(e){return!!(""+e).match(/(^\s*$|Unknown|None|undefined|null)/i)}function i(e){const t=["th","st","nd","rd"],n=e%100;return t[(n-20)%10]||t[n]||t[0]}function s(e){return e<10?"0"+e:e}function u(e){return e?c()(e).format("DD/MMM/YYYY"):e}function l(e){let t=e;return"string"===typeof t&&""!=t&&(t=parseInt(t)),"number"===typeof t?t.toLocaleString():e}},"0ba8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("c0e2");t["b"]=new c["TinyEmitter"],function(e){e["SHOW_MODAL"]="show-modal"}(a||(a={}))},"0f25":function(e,t,n){"use strict";n("b0c0");var a=n("7a23");function c(e,t,n,c,o,r){var i=Object(a["resolveComponent"])("ion-button"),s=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{color:e.color},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.footerBtns,(function(e,t){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:t,slot:e.slot,onClick:function(t){return e.onClick(e)},color:e.color,class:e.styleClass,size:e.size},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]})),_:2},1032,["slot","onClick","color","class","size"])),[[a["vShow"],e.visible]])})),128))]})),_:1},8,["color"])]})),_:1})}var o=n("2909"),r=(n("d81d"),n("8a30")),i=Object(a["defineComponent"])({name:"HisNavFooter",data:function(){return{footerBtns:[]}},created:function(){this.$emit("onFooterInstance",this)},props:{color:{type:String,default:"dark"},state:{type:Object},btns:{type:Object,required:!0}},components:{IonButton:r["d"],IonFooter:r["o"],IonToolbar:r["Q"]},watch:{state:{handler:function(e){e&&(this.footerBtns=this.footerBtns.map((function(t){return t.visibleOnStateChange&&(t.visible=t.visibleOnStateChange(e)),t})))},deep:!0,immediate:!0},btns:{handler:function(e){e&&(this.footerBtns=Object(o["a"])(e))},deep:!0,immediate:!0}}}),s=n("6b0d"),u=n.n(s);const l=u()(i,[["render",c]]);t["a"]=l},"0fa1":function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return E}));var a=n("1da1"),c=(n("96cf"),n("e9c4"),n("d3b7"),n("159b"),n("b0c0"),n("a434"),n("4de4"),n("d81d"),n("ddb0"),n("7a23")),o=Object(c["withScopeId"])("data-v-433be29f");Object(c["pushScopeId"])("data-v-433be29f");var r=Object(c["createTextVNode"])("Select activities"),i=Object(c["createTextVNode"])("finish");Object(c["popScopeId"])();var s=o((function(e,t,n,a,s,u){var l=Object(c["resolveComponent"])("ion-title"),d=Object(c["resolveComponent"])("ion-toolbar"),p=Object(c["resolveComponent"])("ion-header"),m=Object(c["resolveComponent"])("ion-checkbox"),h=Object(c["resolveComponent"])("ion-col"),f=Object(c["resolveComponent"])("ion-row"),g=Object(c["resolveComponent"])("multi-column-view"),b=Object(c["resolveComponent"])("ion-content"),_=Object(c["resolveComponent"])("ion-button"),k=Object(c["resolveComponent"])("ion-footer");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(p,null,{default:o((function(){return[Object(c["createVNode"])(d,null,{default:o((function(){return[Object(c["createVNode"])(l,null,{default:o((function(){return[r]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(b,null,{default:o((function(){return[Object(c["createVNode"])(g,{items:e.appActivities,numberOfColumns:2},{default:o((function(e){var t=e.entries;return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(t,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"his-card clickable",key:t,onClick:function(t){return e.selected=!e.selected}},[Object(c["createVNode"])(f,null,{default:o((function(){return[Object(c["createVNode"])(h,{size:"1"},{default:o((function(){return[Object(c["createVNode"])(m,{modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},onClick:function(t){return e.selected=!e.selected}},null,8,["modelValue","onUpdate:modelValue","onClick"])]})),_:2},1024),Object(c["createVNode"])(h,{class:"ion-text-center his-md-text"},{default:o((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)],8,["onClick"])})),128))]})),_:1},8,["items"])]})),_:1}),Object(c["createVNode"])(k,null,{default:o((function(){return[Object(c["createVNode"])(d,null,{default:o((function(){return[Object(c["createVNode"])(_,{onClick:e.postActivities,color:"success",disabled:0==e.selectedActivities.length,size:"large",style:{float:"right"}},{default:o((function(){return[i]})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1})],64)})),u=n("2909"),l=(n("ac1f"),n("841c"),n("a15b"),n("8a30")),d=n("b5e4"),p=n("1c74"),m=n("2ef0"),h=n("92c1"),f=Object(c["defineComponent"])({name:"Modal",props:{activities:{type:Object,required:!0},property:{type:String,default:"activities"}},watch:{activities:{handler:function(e){e&&(this.appActivities=Object(u["a"])(e),this.getActivities())},immediate:!0}},methods:{getActivities:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["e"].getJson("user_properties",{property:e.property});case 2:n=t.sent,Object(m["isEmpty"])(n)?Object(d["e"])("Activities not found"):e.appActivities=e.appActivities.map((function(e){return n.property_value.search(e.value)>=0&&(e.selected=!0),e}));case 4:case"end":return t.stop()}}),t)})))()},postActivities:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={property:e.property,property_value:e.selectedActivities},t.next=3,p["e"].postJson("user_properties",n);case 3:if(a=t.sent,a){t.next=8;break}Object(d["e"])("Could not save activities"),t.next=10;break;case 8:return t.next=10,l["X"].dismiss();case 10:case"end":return t.stop()}}),t)})))()}},computed:{selectedActivities:function(){return this.appActivities.filter((function(e){return 1==e.selected})).map((function(e){return e.value})).join(",")}},data:function(){return{content:"Content",appActivities:[]}},components:{IonButton:l["d"],IonContent:l["n"],IonHeader:l["q"],IonTitle:l["P"],IonToolbar:l["Q"],IonCheckbox:l["k"],MultiColumnView:h["a"]}}),g=(n("d77d"),n("6b0d")),b=n.n(g);const _=b()(f,[["render",s],["__scopeId","data-v-433be29f"]]);var k,v=_,O=n("50e7"),y=n("3e53");function j(e,t){sessionStorage.getItem(k.NextTask)||sessionStorage.setItem(k.NextTask,JSON.stringify({patientID:e,tasks:[]}));var n=JSON.parse(sessionStorage.getItem(k.NextTask));e===n.patientID?n.tasks.push(t):(n.patientID=e,n.tasks=[t]),sessionStorage.setItem(k.NextTask,JSON.stringify(n))}function I(e,t,n){var a=sessionStorage.getItem(k.NextTask);if(!a)return-1;var c=JSON.parse(a);if(e!=c.patientID)return-1;var o="",r=-1;return c.tasks.forEach((function(e,t){e.from===n.name&&(o=e.to,r=t)})),o?(c.tasks.splice(r,1),sessionStorage.setItem(k.NextTask,JSON.stringify(c)),t.push(o),1):-1}function T(e,t){return N.apply(this,arguments)}function N(){return N=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,c,o,r,i,s,u,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=l.length>2&&void 0!==l[2]?l[2]:{},e.prev=1,Object(m["isEmpty"])(a)){e.next=6;break}if(c=I(t,n,a),-1==c){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,O["a"].nextTask(t);case 8:if(o=e.sent,r=o.name,!r){e.next=19;break}if(i=r.toLowerCase(),s=y["a"].getActiveApp(),!s){e.next=17;break}if(u=s.primaryPatientActivites.filter((function(e){return e.name.toLowerCase()===i})),!u.length||"function"!==typeof u[0].action){e.next=17;break}return e.abrupt("return",u[0].action({patientID:t,router:n}));case 17:return n.push({name:i,params:{patient_id:t}}),e.abrupt("return");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](1),console.warn(e.t0);case 24:n.push("/patient/dashboard/".concat(t));case 25:case"end":return e.stop()}}),e,null,[[1,21]])}))),N.apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return w=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,c,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"activities",a=t.filter((function(e){return"boolean"===typeof e.availableOnActivitySelection&&e.availableOnActivitySelection||"boolean"!==typeof e.availableOnActivitySelection})).map((function(e){return{value:e.workflowID||e.name,selected:!1}})),e.next=4,l["X"].create({component:v,cssClass:"large-modal",backdropDismiss:!1,componentProps:{activities:a,property:n}});case 4:return c=e.sent,c.present(),e.next=8,c.onDidDismiss();case 8:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}(function(e){e["NextTask"]="next-task"})(k||(k={}))},"133d":function(e,t,n){"use strict";n("d6d4")},"156d":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("0ba8");(function(e){e["BEFORE_API_REQUEST"]="before_api_request",e["AFTER_API_REQUEST"]="after_api_request",e["ON_API_CRASH"]="un_reachable_api"})(a||(a={}));const o=(()=>{async function e(){const e=await fetch("/config.json");if(!e.ok)throw"Unable to retrieve configuration file/ Invalid config.json";try{const{apiURL:t,apiPort:n,apiProtocol:a,appConf:c,apps:o,thirdpartyApps:r}=await e.json();return sessionStorage.setItem("apiURL",t),sessionStorage.setItem("apiPort",n),sessionStorage.setItem("apiProtocol",a),sessionStorage.setItem("appConf",JSON.stringify(c)),sessionStorage.setItem("apps",JSON.stringify(o)),sessionStorage.setItem("thirdpartyApps",JSON.stringify(r)),{host:t,port:n,protocol:a,thirdpartyapps:r}}catch(t){throw console.error(t),'API Configuration file "/config.json" has errors. Please check console log for more details'}}function t(){const e=localStorage.apiURL,t=localStorage.apiPort,n=localStorage.apiProtocol,a=localStorage.thirdpartyApps;if(e&&t&&n)return{host:e,port:t,protocol:n,thirdpartyapps:a}}function n(){const e=sessionStorage.apiURL,t=sessionStorage.apiPort,n=sessionStorage.apiProtocol,a=sessionStorage.thirdpartyApps;if(e&&t&&n)return{host:e,port:t,protocol:n,thirdpartyapps:a}}function o(){const a=t(),c=n();return localStorage.useLocalStorage&&a?a:c||e()}async function r(e){const t=await o();return`${t.protocol}://${t.host}:${t.port}/api/v1/${e}`}function i(){return{Authorization:sessionStorage.apiKey,"Content-Type":"application/json"}}function s(e,t,n){localStorage.setItem("useLocalStorage","true"),localStorage.setItem("apiURL",t),localStorage.setItem("apiPort",n),localStorage.setItem("apiProtocol",e)}function u(e){e.forEach(t=>{e.includes(t)&&localStorage.removeItem(t)})}async function l(e,t){t={...t,mode:"cors"},"headers"in t||(t={...t,headers:i()});const n=await r(e);try{c["b"].emit(a.BEFORE_API_REQUEST,e);const o=await fetch(n,t);return c["b"].emit(a.AFTER_API_REQUEST,o),o}catch(o){console.error(o),(""+o).match(/NetworkError|Failed to fetch/i)?c["b"].emit(a.ON_API_CRASH,o):c["b"].emit(a.AFTER_API_REQUEST,{})}}const d=e=>l(e,{method:"GET"}),p=(e,t)=>l(e,{method:"POST",body:JSON.stringify(t)}),m=(e,t)=>l(e,{method:"DELETE",body:JSON.stringify(t)}),h=(e,t)=>l(e,{method:"PUT",body:JSON.stringify(t)}),f=()=>d("_health");return{get:d,post:p,put:h,remove:m,getConfig:o,setLocalStorage:s,removeOnly:u,expandPath:r,healthCheck:f,getFileConfig:e}})();t["b"]=o},1718:function(e,t,n){"use strict";function a(e){return"/assets/images/"+e}n.d(t,"a",(function(){return a}))},"177d":function(e,t,n){},"18ab":function(e,t,n){},"1a5e":function(e,t,n){},"1bb3":function(e,t,n){"use strict";n("c54c")},"1c74":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return g}));var a=n("156d"),c=n("bef6"),o=n("3e53"),r=n("5d6c"),i=n("89b4"),s=n("f768"),u=n("2ef0");class l extends Error{constructor(e,t){super("ENTITY Error: "+e),this.entity=t}}class d extends Error{constructor(e,t){super(e),this.errors=t}}class p extends Error{constructor(e){super("RECORD NOT FOUND: "+e)}}class m extends Error{constructor(e,t){super(e),this.errors=t}}class h extends Error{constructor(e){super("API SERVICE_ERROR: "+e)}}class f extends Error{constructor(e){super("API ERROR: "+e)}}class g{static ajxGet(e,t={}){return a["b"].get(`${e}?${c["a"].parameterizeObjToString(t)}`)}static async getText(e){const t=await a["b"].get(e);if(t&&t.ok)return null===t||void 0===t?void 0:t.text()}static getJsonSWR(e,t={}){const n=`${e}?${c["a"].parameterizeObjToString(t)}`,{data:a,error:o}=Object(r["a"])(n,e=>this.getJson(e));return a}static async getJson(e,t={}){const n=`${e}?${c["a"].parameterizeObjToString(t)}`;return this.jsonResponseHandler(a["b"].get(n))}static async postJson(e,t){return this.jsonResponseHandler(a["b"].post(e,t))}static putJson(e,t){return this.jsonResponseHandler(a["b"].put(e,t))}static async void(e,t){return this.jsonResponseHandler(a["b"].remove(e,t))}static async getThirdpartyApps(){return JSON.parse((await a["b"].getConfig()).thirdpartyapps)}static async jsonResponseHandler(e){const t=await e;if(t){if([200,201].includes(t.status))return null===t||void 0===t?void 0:t.json();if(400===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new m(t.statusText,e)}if(404===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new p(e)}if(422===t.status){const{errors:e,entity:n}=await(null===t||void 0===t?void 0:t.json());throw new l(e,n)}if(502===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new h(e||"Getway Error")}if(409===t.status){const{errors:e}=await(null===t||void 0===t?void 0:t.json());throw new d(t.statusText,e)}if(500===t.status)throw new f("An internal server errror has occured")}}static async getApiDate(){const e=await this.getJson("current_time");if(e)return e.date}static getApiVersion(){return sessionStorage.getItem("APIVersion")||"-"}static getActiveApp(){return o["a"].getActiveApp()||{}}static getUserID(){const e=sessionStorage.getItem("userID");return e?parseInt(e):null}static getUserLocation(){return sessionStorage.getItem("userLocation")}static getLocationName(){return sessionStorage.getItem("locationName")}static getSessionDate(){return sessionStorage.getItem("sessionDate")||""}static getCachedApiDate(){return sessionStorage.getItem("apiDate")}static async setSessionDate(e){const t=await this.getApiDate();if(t)return sessionStorage.setItem("apiDate",t),void sessionStorage.setItem("sessionDate",e);throw"Unable to set api date"}static async resetSessionDate(){const e=await this.getApiDate();if(e)return sessionStorage.removeItem("apiDate"),void sessionStorage.setItem("sessionDate",e);throw"Unable to reset session date"}static isBDE(){const e=sessionStorage.getItem("apiDate"),t=sessionStorage.getItem("sessionDate");return e&&e!=t}static getSiteUUID(){return sessionStorage.siteUUID||""}static getProgramName(){const e=this.getActiveApp();return"applicationName"in e?e.applicationName:""}static getSuspendedProgram(){return sessionStorage.getItem("suspendedApp")||""}static getProgramID(){const e=this.getActiveApp();return"programID"in e?e.programID:0}static getUserRoles(){const e=sessionStorage.getItem("userRoles");return e?JSON.parse(e):[]}static getUserName(){return sessionStorage.username}static getCoreVersion(){return localStorage.getItem(i["b"].CORE_VERSION)||"-"}static getAppVersion(){return localStorage.getItem(i["b"].CORE_VERSION)||"-"}static getFullVersion(){return`${this.getCoreVersion()} / ${this.getApiVersion()}`}static getAvailableApps(){const e=JSON.parse(sessionStorage.getItem("userPrograms")||"[]").map(e=>e["program_id"]),t=[];for(const n of JSON.parse(sessionStorage.getItem("apps")||"[]")){const a=Object(u["find"])(s["b"],{applicationName:n.name})||{},c=Object(u["isEmpty"])(e)||e.includes(a.programID);n.available&&!Object(u["isEmpty"])(a)&&t.push({...a,hasPriviledge:c})}return t}}g.delay=e=>new Promise(t=>setTimeout(t,e))},"1eb2":function(e,t,n){},"23e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n("13d5");var a=n("7941");const c=(e,t)=>{const n=e.filter(e=>e.type.patient_identifier_type_id===t);return n.length>0?n[0].identifier:""};var o=n("7957"),r=n("8158"),i=n("1c74"),s=n("9283"),u=n("aee2"),l=n("2ef0"),d=n("0011"),p=n("d4ec"),m=n("bee2"),h=n("45eb"),f=n("7e84"),g=n("262e"),b=n("2caf"),_=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(p["a"])(this,n),t.call(this)}return Object(m["a"])(n,null,[{key:"create",value:function(e,t,a){return Object(h["a"])(Object(f["a"])(n),"postJson",this).call(this,"patient_identifiers",{identifier:a,identifier_type:t,patient_id:e})}}]),n}(i["e"]),k=n("4db7"),v=n("5a0c"),O=n.n(v);class y extends i["e"]{constructor(e){super(),this.patient=e}static mergePatients(e){return e["program_id"]=super.getProgramID(),super.postJson("dde/patients/merge",e)}static voidPatient(e,t=""){return super.void("patients/"+e,{reason:t})}static async search(e){return super.getJson("/search/patients",e)}static findByNpid(e,t={}){return super.getJson("search/patients/by_npid",{npid:e,...t})}static findByOtherID(e,t){return super.getJson("search/patients/by_identifier",{type_id:e,identifier:t})}static async findByID(e){return super.getJson("/patients/"+e)}static async assignNHID(e,t){return super.postJson(`/patients/${e}/npid`,{program_id:t})}static reassignARVNumber(e,t){return super.putJson("patient_identifiers/"+e,t)}static toPatient(e){return JSON.parse(e)}static patientToJson(e){return JSON.stringify(e)}static async getPatientVisits(e,t){const n=await super.getJson(`patients/${e}/visits`,{program_id:super.getProgramID(),include_defaulter_dates:1==t});return n?n.sort((e,t)=>new Date(e)<new Date(t)?1:0):[]}getWeightLossPercentageFromTrail(e){const[t,n]=e.map(e=>e.weight);if(!t||!n)return!1;const a=parseFloat(n)-parseFloat(t),c=a/n*100;return Math.round(c)}getGuardian(){return y.getJson(`people/${this.getID()}/relationships`)}assignNpid(){return y.assignNHID(this.getID(),i["e"].getProgramID())}createArvNumber(e){return _.create(this.getID(),4,e)}updateARVNumber(e){var t;const n=(null===(t=this.getIdentifiers().find(e=>"ARV Number"===e.type.name))||void 0===t?void 0:t.patient_identifier_id)||"";return y.reassignARVNumber(n,{identifier:e})}updateMWNationalId(e){return _.create(this.getID(),28,e)}isMale(){return["Male","M"].includes(this.getGender())}isFemale(){return["Female","F"].includes(this.getGender())}async isPregnant(){const e=await o["a"].getFirstObs(this.getID(),"Is patient pregnant");return e&&!!e.value_coded.match(/Yes/i)&&o["a"].obsInValidPeriod(e)}async hasPregnancyObsToday(){const e=await o["a"].getFirstObsDatetime(this.getID(),"Is patient pregnant");return e&&s["b"].toStandardHisFormat(e)===i["e"].getSessionDate()&&this.isFemale()}isChildBearing(){const e=this.getAge();return this.isFemale()&&e>=12&&e<=50}async getInitialObs(e){try{const t=await o["a"].getAll(this.getID(),e),n=t.length-1;return t[n].value_numeric}catch(t){console.error(t)}}async getInitialWeight(){return this.getInitialObs("weight")}async getRecentWeight(){const e=await r["a"].getConceptID("weight",!0),t=await o["a"].getObs({person_id:this.getID(),concept_id:e,page_size:1});return t.length>=1?t[0].value_numeric:-1}async getInitialHeight(){return this.getInitialObs("Height")}getRecentHeightObs(){return o["a"].getFirstObs(this.getID(),"Height")}async getRecentHeight(){const e=await r["a"].getConceptID("Height",!0),t=await o["a"].getObs({person_id:this.getID(),concept_id:e,page_size:1});return t.length>=1?t[0].value_numeric:-1}async getWeightHistory(){try{const e=await o["a"].getAll(this.getID(),"weight");return e.map(e=>({weight:e.value_numeric,date:e.obs_datetime}))}catch(e){return console.warn(e),[]}}async getCompleteTBTherapyHistory(){const e=await o["a"].getAll(this.getID(),"TB treatment history");return e.filter(e=>e.value_text.match(/Complete/i))}async getInitialBMI(){return this.getInitialObs("BMI")}async getBMI(){const e=await this.getRecentWeight(),t=await this.getRecentHeight();if(!e||!t)return 0;const n=this.isMale()?"M":"F",a=await u["a"].getBMI(e,t,n,this.getAge());return a}async calculateWeightPercentile(){const e=await this.getRecentWeight(),t=await this.getMedianWeightHeight();try{return parseFloat(e)/parseFloat(t["weight"])*100}catch(n){return 0}}async getMedianWeightHeight(){return i["e"].getJson(`patients/${this.getID()}/median_weight_height`,{date:i["e"].getSessionDate()})}getObj(){return this.patient}getID(){return this.patient.patient_id}getPatientInfoString(){const e=[this.getFullName(),`(${this.getGender()})`,this.getBirthdate(),", "+this.getCurrentDistrict()];return e.join(" ")}getCurrentDistrict(){return this.getAddresses().currentDistrict}getGender(){return this.patient.person.gender}getAge(){return O()(i["e"].getSessionDate()).diff(this.patient.person.birthdate,"years")}getAgeInMonths(){return 12*this.getAge()}getBirthdate(){return this.patient.person.birthdate}getGivenName(){return this.patient.person.names[0].given_name}getFamilyName(){return this.patient.person.names[0].family_name}normaliseName(e){return e.replace(/n\/a|unknown|null|undefined/gi,"").trim()}async printNationalID(){return new k["a"](this.getID()).printNidLbl()}getFullName(){try{const e=this.patient.person.names[0],t=e.given_name,n=e.family_name,a=e.middle_name;return this.normaliseName(`${t} ${a} ${n}`)}catch(e){return console.error(e),"Unknown"}}getDocID(){const e=this.findIdentifierByType("DDE person document ID");return e.match(/unknown/i)?null:e}getNationalID(){return this.findIdentifierByType("National id")}getMWNationalID(){return this.findIdentifierByType("Malawi National ID")}getArvNumber(){return this.findIdentifierByType("ARV Number")}hasActiveFilingNumber(){return this.hasIdentifierType("Filing number")}hasDormantFilingNumber(){return this.hasIdentifierType("Archived filing number")}hasIdentifierType(e){const t=Object(l["find"])(this.patient.patient_identifiers,{type:{name:e}});return!!t}getFilingNumber(){const e=this.patient.patient_identifiers.filter(e=>"Filing number"===e.type.name||"Archived filing number"===e.type.name);return Object(l["isEmpty"])(e)?"N/A":e[0].identifier}findIdentifierByType(e){return this.patient.patient_identifiers.filter(t=>t.type.name===e).sort((e,t)=>e["date_created"]<t["date_created"]?1:0).reduce((e,t)=>"Unknown"===e?t.identifier:e,"Unknown")}getIdentifiers(){return this.patient.patient_identifiers}getHomeDistrict(){return this.getAddresses().ancestryDistrict}getHomeTA(){return this.getAddresses().ancestryTA}getHomeVillage(){return this.getAddresses().ancestryVillage}getCurrentVillage(){return this.getAddresses().currentVillage}getCurrentTA(){return this.getAddresses().currentTA}getClosestLandmark(){return this.getAttribute(19)}getPhoneNumber(){return this.getAttribute(12)}getAttribute(e){return Object(a["a"])(this.patient.person.person_attributes,e)}getPatientIdentifier(e){return c(this.patient.patient_identifiers,e)}patientIsComplete(){return[this.getGender(),this.getBirthdate(),this.getGivenName(),this.getFamilyName(),...Object.values(this.getAddresses())].every(e=>!Object(d["d"])(e))}getAddresses(){const e={ancestryDistrict:"",ancestryTA:"",ancestryVillage:"",currentDistrict:"",currentTA:"",currentVillage:""};if(this.patient.person.addresses.length>0){const t=this.patient.person.addresses[0];e.ancestryDistrict=t.address2,e.ancestryTA=t.county_district,e.ancestryVillage=t.neighborhood_cell,e.currentDistrict=t.state_province,e.currentTA=t.township_division,e.currentVillage=t.city_village}return e}}},2706:function(e,t,n){"use strict";var a=n("2ef0");function c(e){try{for(const t in e){const n=e[t]();if(n)return n}}catch(t){return[t]}}function o(e){return Object(a["isEmpty"])(e)?["Value is required"]:null}function r(e){const t=/^(\+?265|0)(((88|9[89])\d{7})|(1\d{6})|(2\d{8})|(31\d{8}))$/;return e&&e.value.match(t)?null:["Not a valid phone number"]}function i(e){const t=/^(?=[a-zA-Z0-9]*$)(?=\d+[a-zA-Z]|[a-zA-Z]+\d)([a-zA-Z\d]){8}$/;return Object(a["isEmpty"])(e)||!e.value.toString().match(t)?["Not a valid Malawi National ID number"]:null}function s(e){const t=/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/;return e&&e.value.match(t)?null:["Not a valid IP address"]}function u(e){const t=/^(?=.{2,100}$)[a-z!A-Z]+(?:['_.\-!\][a-z]+[a-z!A-Z])*$/;return e&&e.label.match(t)?null:["Invalid name Input"]}function l(e){return isNaN(parseInt(e.value))?["Value must be a number"]:null}function d(e,t,n){const a=e?e.label.length:0;return a>=t&&a<=n?null:[`Value length not within range of ${t} - ${n}`]}function p(e,t,n){const a=parseInt(e.label);return a>=t&&a<=n?null:[`${a} not within range of ${t} - ${n}`]}function m(e){const t=e.filter(e=>{const t=e.value||e.other.value;return"No"===t});return t.length==e.length?["All values can not be no"]:null}function h(e){const t=["all must be selected"];if(!e)return t;const n=e.filter(e=>""===e.value);return n.length>0?t:null}function f(e,t){return e===t?["Values can not be the same"]:null}t["a"]={validateSeries:c,required:o,isMWPhoneNumber:r,isName:u,isNumber:l,hasLengthRangeOf:d,rangeOf:p,neitherOr:m,anyEmpty:h,notTheSame:f,isIPAddress:s,isMWNationalID:i}},"276d":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n("74f4"),c=n("c1e4"),o=n("23e6"),r=n("89b4"),i=n("2ef0"),s=n("cc74"),u=n("5713"),l=n("9b7c");function d(){return(new r["a"]).cachingIsEnabled()}const p={CURRENT_LOCATION:{get:async()=>u["a"].getLocation(await s["b"].healthCenterID()),canReloadCache:e=>!d()||Object(i["isEmpty"])(e.state)},ACTIVE_HOME_TAB:{get:()=>1,canReloadCache:e=>"number"!=typeof e.state},ACTIVE_HOME_SUB_TAB_NAME:{get:()=>"",canReloadCache:e=>"string"!=typeof e.state||""===e.state},ACTIVE_PATIENT:{get:async e=>{const t=await o["a"].findByID(e.patientID);return t?new o["a"](t):{}},canReloadCache:({state:e,params:t})=>!d()||!(!Object(i["isEmpty"])(e)&&"number"===typeof t.patientID&&"function"===typeof(null===e||void 0===e?void 0:e.getID)&&e.getID()===t.patientID)},PATIENT_PROGRAM:{get:async e=>new a["a"](e.patientID).getProgram(),canReloadCache:({state:e,params:t})=>!d()||!(!Object(i["isEmpty"])(e)&&(null===e||void 0===e?void 0:e.programID)===a["a"].getProgramID()&&e.patientID===t.patientID)},PROVIDERS:{get:()=>c["a"].getUsers(),canReloadCache:e=>!d()||Object(i["isEmpty"])(e.state)},SITE_PREFIX:{get:()=>s["b"].sitePrefix(),canReloadCache:e=>!d()||"string"!==typeof e.state},IS_MILITARY_SITE:{get:()=>s["b"].militarySiteEnabled(),canReloadCache:e=>!d()||"boolean"!=typeof e.state},IS_DDE_ENABLED:{get:()=>s["b"].ddeEnabled(),canReloadCache:e=>!d()||"boolean"!=typeof e.state},PATIENT_LAB_ORDERS:{get:e=>"number"===typeof e.patientID?l["a"].getOrders(e.patientID):[],canReloadCache:({params:e,state:t})=>!d()||!(e.patientID&&Array.isArray(t)&&t.length&&t[0].patient_id===e.patientID)}};t["a"]=p},2989:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("d4ec"),c=n("bee2"),o=n("262e"),r=n("2caf"),i=(n("99af"),n("cc6f")),s=n("b89f"),u=function(e){Object(o["a"])(n,e);var t=Object(r["a"])(n);function n(e,c){return Object(a["a"])(this,n),t.call(this,e,84,c)}return Object(c["a"])(n,[{key:"printSocialHistory",value:function(){return(new s["a"]).printLbl("/programs/".concat(this.programID,"/patients/").concat(this.patientID,"/labels/history"))}}]),n}(i["a"])},"2a52":function(e,t,n){},"2b3a":function(e,t,n){"use strict";var a=n("7a23");const c=Object(a["withScopeId"])("data-v-150d2bf2");Object(a["pushScopeId"])("data-v-150d2bf2");const o=Object(a["createTextVNode"])("Select Module"),r=Object(a["createTextVNode"])(" Close ");Object(a["popScopeId"])();const i=c((function(e,t,n,i,s,u){const l=Object(a["resolveComponent"])("ion-title"),d=Object(a["resolveComponent"])("ion-label"),p=Object(a["resolveComponent"])("ion-toolbar"),m=Object(a["resolveComponent"])("ion-header"),h=Object(a["resolveComponent"])("application-card"),f=Object(a["resolveComponent"])("ion-col"),g=Object(a["resolveComponent"])("ion-row"),b=Object(a["resolveComponent"])("ion-content"),_=Object(a["resolveComponent"])("ion-button"),k=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(m,null,{default:c(()=>[Object(a["createVNode"])(p,null,{default:c(()=>[Object(a["createVNode"])(l,null,{default:c(()=>[o]),_:1}),Object(a["createVNode"])(d,{style:{"font-weight":"bold",padding:"0.5em"},slot:"end"},{default:c(()=>[Object(a["createTextVNode"])(" Version: "+Object(a["toDisplayString"])(e.appVersion),1)]),_:1})]),_:1})]),_:1}),Object(a["createVNode"])(b,null,{default:c(()=>[Object(a["createVNode"])(g,null,{default:c(()=>[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.apps,(t,n)=>(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:n,"size-md":"4","size-sm":"12"},{default:c(()=>[Object(a["createVNode"])(h,{class:{inactive:!t.hasPriviledge,clickable:t.hasPriviledge},onClick:n=>e.setApplication(t),name:t.applicationName,details:t.applicationDescription,programID:t.programID,iconURL:e.img(t.applicationIcon)},null,8,["class","onClick","name","details","programID","iconURL"])]),_:2},1024))),128))]),_:1})]),_:1}),Object(a["createVNode"])(k,null,{default:c(()=>[Object(a["createVNode"])(p,null,{default:c(()=>[e.noAppPriviledges||e.canClose?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:0,color:"danger",size:"large",onClick:e.closeModal},{default:c(()=>[r]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1})],64)})),s=Object(a["withScopeId"])("data-v-1e3d0694");Object(a["pushScopeId"])("data-v-1e3d0694");const u={class:"his-md-text"};Object(a["popScopeId"])();const l=s((function(e,t,n,c,o,r){const i=Object(a["resolveComponent"])("ion-img"),l=Object(a["resolveComponent"])("ion-card-title"),d=Object(a["resolveComponent"])("ion-card-header"),p=Object(a["resolveComponent"])("ion-card-content"),m=Object(a["resolveComponent"])("center"),h=Object(a["resolveComponent"])("ion-card");return Object(a["openBlock"])(),Object(a["createBlock"])(h,{class:"his-card"},{default:s(()=>[Object(a["createVNode"])(m,null,{default:s(()=>[Object(a["createVNode"])(i,{src:e.iconURL},null,8,["src"]),Object(a["createVNode"])(d,null,{default:s(()=>[Object(a["createVNode"])(l,null,{default:s(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]),_:1})]),_:1}),Object(a["createVNode"])(p,null,{default:s(()=>[Object(a["createVNode"])("b",u,Object(a["toDisplayString"])(e.details),1)]),_:1})]),_:1})]),_:1})}));var d=n("8a30"),p=Object(a["defineComponent"])({props:["name","details","programID","iconURL"],components:{IonCard:d["f"],IonCardContent:d["g"],IonCardTitle:d["j"],IonCardHeader:d["h"],IonImg:d["s"]}}),m=(n("1bb3"),n("6b0d")),h=n.n(m);const f=h()(p,[["render",l],["__scopeId","data-v-1e3d0694"]]);var g=f,b=n("1718"),_=Object(a["defineComponent"])({name:"Modal",props:{title:{type:String,default:""},apps:{type:Array,default:()=>[]},appVersion:{type:String},canClose:{type:Boolean,default:()=>!1}},computed:{noAppPriviledges(){return this.apps.every(e=>!e.hasPriviledge)}},methods:{closeModal(){this.noAppPriviledges?this.$router.push("/login"):d["X"].dismiss()},img(e){return Object(b["a"])(e)},setApplication(e){e.hasPriviledge&&d["X"].dismiss(e)}},components:{IonFooter:d["o"],IonContent:d["n"],IonHeader:d["q"],IonTitle:d["P"],IonToolbar:d["Q"],ApplicationCard:g,IonButton:d["d"],IonCol:d["m"],IonRow:d["H"]}});n("7cfc");const k=h()(_,[["render",i],["__scopeId","data-v-150d2bf2"]]);t["a"]=k},"2be2":function(e,t,n){},"2ed9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,c=n("8a30"),o=n("7a23");(function(e){e["ACTIVE_PLATFORM"]="cur_platform"})(a||(a={}));const r=["ios","iphone","android","tablet","mobileweb","ipad"],i=["desktop","electron"];function s(){const e=e=>Object(c["U"])().map(t=>e.includes(t)).some(Boolean),t=()=>e(r)||!e(i),n=()=>e(i)||!t(),s=localStorage.getItem(a.ACTIVE_PLATFORM),u=Object(o["ref"])(null!=s?s:n()?"desktop":"mobile"),l=Object(o["computed"])(()=>"mobile"===u.value),d=e=>{u.value=e,localStorage.setItem(a.ACTIVE_PLATFORM,e)};return{platformType:u,useVirtualInput:l,isMobile:t,isDesktop:n,setPlatformType:d}}},"2fdd":function(e,t,n){},"37ca":function(e,t,n){"use strict";n("4324")},"3d6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1c74");const c=[{drugID:105,shortName:"Acyclovir 200mg",fullName:"Acyclovir 200mg",packSizes:[30]},{drugID:1044,shortName:"ABC 120 /3TC 60mg",fullName:"Abacavir and Lamivudine 120mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:969,shortName:"ABC 600 / 3TC 300mg",fullName:"Abacavir sulfate 600mg / Lamivudine 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:932,shortName:"ATV 300 / r 100mg",fullName:"Atazanavir / Ritonavir 300 / 100mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:39,shortName:"AZT 300 /3TC 150mg",fullName:"Zidovudine / lamivudine 300 / 150mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:731,shortName:"AZT 300 / 3TC 150 / NVP 200mg",fullName:"Zidovudine / lamivudine /Nevirapine 300 / 150 / 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:732,shortName:"AZT 60 / 3TC 30 / NVP 50mg",fullName:"Zidovudine / lamivudine /Nevirapine 60 / 30 / 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:736,shortName:"AZT 60 / 3TC 30mg",fullName:"Zidovudine / lamivudine 60 / 30mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:963,shortName:"CPT 120mg",fullName:"Cotrimoxazole 120mg, blister pack of 1000 dispersible tablets",packSizes:[1e3],categories:["p"]},{drugID:297,shortName:"CPT 480mg",fullName:"Cotrimoxazole 480mg, tin of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:576,shortName:"CPT 960mg",fullName:"Cotrimoxazole 960mg, blister pack of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:976,shortName:"DRV 600mg",fullName:"Darunavir 600mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:980,shortName:"DTG 10mg",fullName:"Dolutegravir 10mg pack of 90 tablets",packSizes:[90]},{drugID:982,shortName:"DTG 50mg",fullName:"Dolutegravir 50mg pack of 30 tablets",packSizes:[30],categories:["a"]},{drugID:30,shortName:"EFV 200mg",fullName:"Efavirenz 200mg, tin of 90 tablets",packSizes:[90],categories:["p"]},{drugID:11,shortName:"EFV 600mg",fullName:"Efavirenz 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:978,shortName:"ETV 100mg",fullName:"Etravirine 100mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:24,shortName:"Isoniazid 100mg",fullName:"Isoniazid (H) 100mg, blist packs of 100 tablets",packSizes:[100],categories:["p"]},{drugID:991,shortName:"Isoniazid 300mg",fullName:"Isoniazid (H) 300mg, blist packs of 1000 tablets",packSizes:[1e3,672]},{drugID:74,shortName:"LPV 100 / r 25mg",fullName:"Lopinavir / Ritonavir 100 / 25mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:73,shortName:"LPV 200 / r 50mg",fullName:"Lopinavir / Ritonavir 200 / 50mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:1045,shortName:"LPV 40 / r 10mg granules",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 sachets",packSizes:[120]},{drugID:979,shortName:"LPV 40 / r 10mg pellets",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 pellets",packSizes:[120],categories:["p"]},{drugID:22,shortName:"NVP 200mg",fullName:"Nevirapine 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:968,shortName:"NVP 50mg",fullName:"Nevirapine 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:1039,shortName:"Pyridoxine 25mg",fullName:"Pyridoxine (25mg)",packSizes:[1e3],categories:["a"]},{drugID:977,shortName:"r 100mg",fullName:"Ritonavir 100mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1043,shortName:"RAL 25mg",fullName:"Raltegravir 25mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:954,shortName:"RAL 400mg",fullName:"Raltegravir 400mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1056,shortName:"Rifapentine 150mg",fullName:"Rifapentine 150mg pack of 24 tablets",packSizes:[24],categories:["a"]},{drugID:734,shortName:"TDF 300 / 3TC 300mg ",fullName:"Lamivudine / Tenofovir disoproxil fumarate 300 / 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:735,shortName:"TDF 300 / 3TC 300 / EFV 600mg",fullName:"Tenofovir disoproxil fumarate / Lamivudine / Efavirenz 300 / 300 / 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:983,shortName:"TDF 300 / 3TC 300 / DTG 50mg",fullName:"Tenofovir Disoproxil Fumarate/Lamivudine/Dolutegravir (TDF/3TC /DTG), 300/300/50mg, pack of 90 tablets",packSizes:[90],categories:["a"]}];class o extends a["e"]{constructor(){super()}postItems(e){return a["e"].postJson("/pharmacy/batches",e)}getItems(){return a["e"].getJson("pharmacy/items",{paginate:!1})}getItem(e){return a["e"].getJson("pharmacy/items",{drug_id:e})}updateItem(e,t){return a["e"].putJson("pharmacy/items/"+e,t)}relocateItems(e,t){return a["e"].postJson(`pharmacy/items/${e}/reallocate`,t)}disposeItems(e,t){return a["e"].postJson(`pharmacy/items/${e}/dispose`,t)}getConsumptionRate(e){return a["e"].getJson("pharmacy/drug_consumption",{drug_id:e})}drugList(){return c}static getShortName(e){const t=c.filter(t=>t.drugID===e);return t.length>0?t[0].shortName:""}static getPackSize(e){const t=c.filter(t=>t.drugID===e);return t.length>0?t[0].packSizes[0]:30}static getPaedeatricDrugs(){return console.log(c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")})),c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")})}static getAdultDrugs(){return c.filter(e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("a")})}}},"3e53":function(e,t,n){"use strict";var a=n("f768"),c=n("2b3a"),o=n("8a30"),r=n("2ef0"),i=n("4db7"),s=n("c1e4"),u=n("cc74"),l=n("7a23"),d=Object(l["createTextVNode"])(" Refresh "),p=Object(l["createTextVNode"])(" Close ");function m(e,t,n,a,c,o){var r=Object(l["resolveComponent"])("ion-title"),i=Object(l["resolveComponent"])("ion-toolbar"),s=Object(l["resolveComponent"])("ion-header"),u=Object(l["resolveComponent"])("text-skeleton"),m=Object(l["resolveComponent"])("ion-label"),h=Object(l["resolveComponent"])("ion-item"),f=Object(l["resolveComponent"])("ion-list"),g=Object(l["resolveComponent"])("ion-content"),b=Object(l["resolveComponent"])("ion-button"),_=Object(l["resolveComponent"])("ion-footer"),k=Object(l["resolveComponent"])("ion-page");return Object(l["openBlock"])(),Object(l["createBlock"])(k,null,{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(s,null,{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(i,null,{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(r,{class:"his-lg-text"},{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.dialogTitle),1)]})),_:1})]})),_:1})]})),_:1}),Object(l["createVNode"])(g,null,{default:Object(l["withCtx"])((function(){return[e.isLoading?(Object(l["openBlock"])(),Object(l["createBlock"])(u,{key:0,itemCount:5})):Object(l["createCommentVNode"])("",!0),e.isLoading?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createBlock"])(f,{key:1},{default:Object(l["withCtx"])((function(){return[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(e.items,(function(e,t){return Object(l["openBlock"])(),Object(l["createBlock"])(h,{class:"his-md-text",key:t},{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(m,null,{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.label),1)]})),_:2},1024),Object(l["createVNode"])("b",{style:{backgroundColor:e.color||"",padding:"0.4em"},innerHTML:e.value},null,12,["innerHTML"])]})),_:2},1024)})),128))]})),_:1}))]})),_:1}),Object(l["createVNode"])(_,null,{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(i,null,{default:Object(l["withCtx"])((function(){return[Object(l["createVNode"])(b,{disabled:e.isLoading,onClick:e.updateData,color:"success",size:"large",slot:"end"},{default:Object(l["withCtx"])((function(){return[d]})),_:1},8,["disabled","onClick"]),Object(l["createVNode"])(b,{disabled:e.isLoading,onClick:e.onClose,size:"large",slot:"end"},{default:Object(l["withCtx"])((function(){return[p]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1})}var h=n("1da1"),f=(n("96cf"),n("b5e4")),g=n("ded6"),b=Object(l["defineComponent"])({setup:function(e){var t=Object(l["ref"])(e.title),n=Object(l["ref"])(!1),a=Object(l["ref"])([]);function c(){return o.apply(this,arguments)}function o(){return o=Object(h["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(n.value=!0,"function"!==typeof e.loadData){c.next=11;break}return c.prev=2,c.next=5,e.loadData(t);case 5:a.value=c.sent,c.next=11;break;case 8:c.prev=8,c.t0=c["catch"](2),Object(f["c"])("".concat(c.t0));case 11:n.value=!1;case 12:case"end":return c.stop()}}),c,null,[[2,8]])}))),o.apply(this,arguments)}return Object(l["onMounted"])((function(){c()})),{items:a,dialogTitle:t,isLoading:n,updateData:c}},props:{title:{type:String,default:""},loadData:{type:Function,required:!0},onClose:{type:Function,required:!0}},components:{TextSkeleton:g["a"],IonPage:o["D"],IonTitle:o["P"],IonHeader:o["q"],IonContent:o["n"],IonFooter:o["o"],IonToolbar:o["Q"],IonButton:o["d"],IonItem:o["w"],IonList:o["y"]}}),_=n("6b0d"),k=n.n(_);const v=k()(b,[["render",m]]);var O,y=v,j=n("fa73"),I=n("5a0c"),T=n.n(I),N=n("8734"),E=n("276d"),w={GlobalStore:E["a"],GlobalAppSettings:[{name:"Session Management",icon:"time.png",pathUrl:"/session/date",files:[]},{name:"Portal Settings",icon:"portal.png",condition:()=>s["a"].isAdmin(),pathUrl:"/portal/config",files:[]},{name:"Network",icon:"portal.png",condition:()=>s["a"].isAdmin(),pathUrl:"/settings/host",files:[]},{name:"Location",icon:"location.png",files:[{name:"Print Location",pathUrl:"/print/location"},{name:"Set Site Location",condition:()=>s["a"].isAdmin(),pathUrl:"/location/update/site"},{name:"Set Site Code",condition:()=>s["a"].isAdmin(),pathUrl:"/location/update/code"}]},{name:"User management",icon:"edit-user.png",files:[{name:"New user",condition:()=>s["a"].isAdmin(),pathUrl:"/user?activity=add"},{name:"Edit Users",condition:()=>s["a"].isAdmin(),pathUrl:"/user?activity=edit"},{name:"Change Password",pathUrl:"/user?activity=edit&update_password=true"},{name:"System usage report",pathUrl:"/users/usage",condition:()=>s["a"].isAdmin()}]},{name:"Data Management",icon:"list.png",condition:()=>s["a"].isAdmin(),files:[{name:"View Duplicates",pathUrl:"/view_duplicates"},{name:"Manage Drug Sets",pathUrl:"/anc/drugset",condition:()=>{var e;return!!B.getActiveApp()&&"ANC"===(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Data Cleaning",pathUrl:"/anc/datacleaning",condition:()=>{var e;return!!B.getActiveApp()&&"ANC"===(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Data Cleaning",pathUrl:"/data_cleaning",condition:()=>{var e;return!!B.getActiveApp()&&"ART"===(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Merge patients",pathUrl:"/patients/merge",condition:()=>{var e;return!!B.getActiveApp()&&"ART"===(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Patient visit stats",pathUrl:"/art/patient_visits",condition:()=>{var e;return!!B.getActiveApp()&&"ART"===(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Data cleaning verification",pathUrl:"/art/data_cleaning_verification",condition:()=>{var e;return!!B.getActiveApp()&&"ART"===(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}}]},{name:"DDE Settings",icon:"programs.png",condition:()=>s["a"].isAdmin(),files:[{name:"DDE Activation",pathUrl:"/preferences?label=Activate DDE&property="+u["a"].DDE_ENABLED},{name:"DDE NPID Status",action:async()=>{(await o["X"].create({component:y,backdropDismiss:!1,componentProps:{title:"DDE NPID Status",loadData:async e=>{await Object(N["a"])(400);const t=await j["a"].getRemainingNpids();if(t){const n=t["npid_status"][0],a=n["location_id"],c=n["avg_consumption_rate_per_day"]||1,o=n["unassigned"],r=n["assigned"],i=Math.floor(o/c),s=T()(n["date_last_updated"]).format("DD/MMM/YYYY HH:mm:ss");return e.value=n["location_name"]+" DDE NPID Status",[{label:"Location ID",value:a},{label:"Estimated days left",value:i,color:(()=>{let e="";return i<=30&&(e="#FFFF00"),i<=20&&(e="#FFA500"),i<=15&&(e="#ff0000"),e})()},{label:"Unassigned",value:o},{label:"Assigned",value:r},{label:"Average consumption per day",value:c},{label:"Last update",value:s}]}return[]},onClose:()=>o["X"].dismiss()}})).present()}}]},{name:"Malawi National ID Settings",icon:"card.png",condition:()=>s["a"].isAdmin(),files:[{name:"Malawi National ID Scanner Activation",pathUrl:"/preferences?label=Activate Scanning of Malawi National ID&property="+u["a"].MALAWI_NATIONAL_ID_SCANNER_ENABLED}]}],GlobalProgramActivities:[{id:"npid",name:"National Health ID (Print)",description:"Print Patient National Health ID",action({patient:e}){return new i["a"](e.patient_id).printNidLbl()},icon:"barcode.svg"},{id:"lab activities",name:"Lab activities",description:"Do lab orders",icon:"lab.png",condition:()=>{var e;return"RADIOLOGY"!==(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"demographics",name:"Demographics (Print)",description:"Print Patient Demographics",action:({patient:e})=>{const t=new i["a"](e.patient_id);return t.printDemographicsLbl()},icon:"print.png",condition:()=>{var e;return"CxCa"!==(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"demographics_edit",name:"Demographics (Edit)",description:"Edit Patient Demographics",action:({patient:e},t)=>{t.push({path:"/patient/registration",query:{edit_person:e.patient_id}})},icon:"print.png"},{id:"guardian_edit",name:"Edit Guardians",description:"Edit guardian information",action:({patient:e},t)=>{t.push({path:"/guardian/registration/"+e.patient_id,query:{edit_guardian:!0}})},icon:"print.png"},{id:"change_session_Date",name:"Change session date",action:({patient:e},t)=>{t.push({path:"/session/date",query:{patient_id:e.patient_id}})},description:"Change session date (for retrospective entry)",icon:"time.png"},{id:"program_management",name:"Program(s)",description:"View / update patient's programs",action:({patient:e},t)=>{t.push({path:"/patient/programs/"+e.patient_id})},icon:"programs.png"},{id:"visit_summary",name:"Visit Summary (Print)",description:"Print Patient Visit Summary",action({patient:e,visitDate:t}){const n=new i["a"](e.patient_id);return n.printVisitSummaryLbl(t)},icon:"folder.png",condition:()=>{var e;return"CxCa"!==(null===(e=B.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"enter_lab_result",name:"Enter Lab Result",description:"Enter Lab Test Result",action:({patient:e},t)=>{t.push({path:"/lab/results/"+e.patient_id})},icon:"enter.png"}]},D=n("1c74"),C=n("0fa1");function S(e){const t={...e};return t.secondaryPatientActivites=[...w.GlobalProgramActivities,...t.secondaryPatientActivites],t.appStore={...w.GlobalStore,...t.appStore||{}},t.globalPropertySettings=[...w.GlobalAppSettings,...t.globalPropertySettings||[]],t}function A(){const e=sessionStorage.getItem(O.APPLICATION_NAME);if(e){const t=Object(r["find"])(a["b"],{applicationName:e});if(t)return S(t)}}function P(){const e=A();e&&sessionStorage.setItem(O.SUSPENDED_APP,e.applicationName)}async function F(e,t="",n=!1){sessionStorage.setItem(O.APPLICATION_NAME,e.applicationName);const a=S(e);return"function"!==typeof e.init||n||await e.init(t),a}function R(){const e=sessionStorage.getItem(O.SUSPENDED_APP);if(e){const t=Object(r["find"])(a["b"],{applicationName:e});t&&(sessionStorage.removeItem(O.SUSPENDED_APP),F(t,"",!0))}}async function x(e,t,n,c){const o=Object(r["find"])(a["b"],{applicationName:e});o&&(P(),await F(o),"function"===typeof c&&await c(),Object(C["b"])(t,n))}async function V(e="",t=!1){const n=await o["X"].create({component:c["a"],cssClass:"large-modal",backdropDismiss:!1,componentProps:{appVersion:D["e"].getFullVersion(),apps:D["e"].getAvailableApps(),canClose:t}});n.present();const{data:a}=await n.onDidDismiss();if(a&&!Object(r["isEmpty"])(a))return sessionStorage.getItem(O.SUSPENDED_APP)&&sessionStorage.removeItem(O.SUSPENDED_APP),F(a,e)}async function L(){const e=sessionStorage.getItem(O.SUSPENDED_APP);if(e){const t=await Object(f["a"])("Do you want to resume "+e+" application?");if(t)return R()}}(function(e){e["SUSPENDED_APP"]="suspendedApp",e["APPLICATION_NAME"]="applicationName"})(O||(O={}));var B=t["a"]={doAppManagementTasks:L,resumeSuspendedApp:R,startApplication:F,switchAppWorkflow:x,selectApplication:V,getActiveApp:A}},"3f31":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("5530"),c=n("1da1"),o=(n("96cf"),n("4de4"),n("d3b7"),n("4e82"),n("d81d"),n("ac1f"),n("466d"),n("99af"),n("7a23")),r=n("d4ec"),i=n("bee2"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,null,[{key:"read",value:function(e){return this.putJson("notifications/update",{alerts:e})}},{key:"unread",value:function(){return this.getJson("notifications")}}]),n}(l["e"]),p=n("9283"),m=n("afbc"),h=n("2ef0"),f=n("b5e4"),g=Object(o["ref"])([]);function b(){var e=Object(o["computed"])((function(){return g.value.filter((function(e){return!e.read}))})),t=Object(o["computed"])((function(){return g.value.length>0})),n=Object(o["computed"])((function(){return e.value.length>0})),r=Object(o["computed"])((function(){return e.value.length})),i=Object(o["computed"])((function(){return g.value.sort((function(e,t){return new Date(e.date)>new Date(t.date)?-1:1}))}));function s(){return u.apply(this,arguments)}function u(){return u=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.unread();case 2:t=e.sent,Object(h["isEmpty"])(t)||(g.value=t.map((function(e){var t="General",n=e.text,a=null;try{var c=JSON.parse(e.text);c["Type"].match(/lims/i)&&(t="".concat(c["Test type"]," results for ").concat(c["ARV-Number"]||c["Accession number"]),n="Ordered by <b>".concat(c["Ordered By"]||"N/A","</b>"),a=function(){return m["a"].push("/art/encounters/lab/".concat(c["PatientID"]))})}catch(o){console.warn(o)}return{handler:a,message:n,title:t,id:e.alert_id,date:p["b"].toStandardHisDisplayFormat(e.date_created)}})),Object(f["e"])("You have ".concat(t.length," unread notification(s)")));case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return b.apply(this,arguments)}function b(){return b=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=g.value.filter((function(e){return!e.read})),Object(h["isEmpty"])(t)){e.next=6;break}return e.next=4,d.read(t.map((function(e){return e.id})));case 4:if(!e.sent){e.next=6;break}g.value=g.value.map((function(e){return Object(a["a"])(Object(a["a"])({},e),{},{read:!0})}));case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function _(e){"function"===typeof e.handler&&e.handler()}return{markAllAsRead:l,openNotification:_,loadNotifications:s,sortedNotifications:i,hasUnreadNotifications:n,notificationCount:r,hasNotifications:t,notificationData:g}}},4324:function(e,t,n){},"482c":function(e,t,n){},"4db7":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("b89f"),c=n("bef6");class o extends a["a"]{constructor(e){super(),this.patient=e,this.baseUrl=`patients/${this.patient}/labels/`,this.useQrPrinting=["RADIOLOGY","Registration"].includes(a["a"].getProgramName())}getLblUrl(e,t={}){const n=c["a"].parameterizeObjToString(t);return`${this.baseUrl}${e}${n?"?"+n:""}`}printPatientLbl(e,t={}){return this.printLbl(this.getLblUrl(e,t))}printFilingNumberLbl(){return this.printPatientLbl("filing_number")}printNidLbl(e=this.useQrPrinting){return this.printPatientLbl("national_health_id?qr_code="+e)}printVisitSummaryLbl(e=a["a"].getSessionDate()){const t=`programs/${a["a"].getProgramID()}/${this.baseUrl}/visits?date=${e}`;return this.printLbl(t)}printDemographicsLbl(){const e=`programs/${a["a"].getProgramID()}/${this.baseUrl}/patient_history`;return this.printLbl(e)}printTransferOutLbl(){return this.printPatientLbl("transfer_out")}printLabOrderLbl(e){return this.printLbl("lab/labels/order?order_id="+e)}}},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static nextTask(e){return super.getJson(`/workflows/${super.getProgramID()}/${e}`,{date:super.getSessionDate()})}static async getNextTaskParams(e,t=""){let n=t;try{if(!n){const{name:t}=await c.nextTask(e);n=t}}catch(a){n=""}return{name:n.toLowerCase(),params:{patient_id:e}}}}},5713:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1c74"),c=n("8158");class o extends a["e"]{constructor(){super()}static getLocation(e){return this.getJson("locations/"+e)}static createAddress(e,t,n){return this.postJson("addresses",{address_type:e,addresses_name:t,parent_location:n})}static getLabs(e={}){return super.getJson(`/programs/${a["e"].getProgramID()}/lab_tests/labs`,e)}static getFacilities(e={}){return super.getJson("/locations",e)}static async getSpecialistClinics(){const e=await c["a"].getConceptID("Specialist clinic");return super.getJson("/concept_set",{id:e})}static getRegions(){return super.getJson("/regions")}static getDistricts(e){return super.getJson("/districts",{region_id:e,page_size:1e3})}static getVillages(e,t=""){return super.getJson("/villages",{traditional_authority_id:e,name:t})}static getTraditionalAuthorities(e,t=""){return super.getJson("/traditional_authorities",{district_id:e,name:t})}}},6460:function(e,t,n){},"656d":function(e,t,n){"use strict";n("6eae")},"66fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");function o(e){return c["a"].set(a.PACS_ENABLED,"".concat(e))}function r(){return c["a"].isProp("".concat(a.PACS_ENABLED,"=true"))}(function(e){e["PACS_ENABLED"]="enable_pacs"})(a||(a={})),t["b"]={enablePACs:o,isPACsEnabled:r}},"6eae":function(e,t,n){},"74f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ad60"),c=n("cc6f"),o=n("b89f"),r=n("2ef0");class i extends a["a"]{constructor(e){super(),this.patientId=e,this.patientProgramId=-1,this.programId=a["a"].getProgramID(),this.stateId=-1,this.programDate=a["a"].getSessionDate(),this.stateDate=""}getProgramId(){return this.programId}getStateDate(){return this.stateDate}getProgramDate(){return this.programDate}getPatientProgramId(){return this.patientProgramId}getPrograms(){return a["a"].getPatientPrograms(this.patientId)}async getProgram(){const e={patientID:-1,programID:-1,program:"N/A",outcome:"N/A",startDate:"",endDate:""},t=await this.getPrograms();if(Object(r["isEmpty"])(t))return e;const n=t.filter(e=>e.program.program_id===a["a"].getProgramID()).map(e=>{const t=e.patient_states;let n="",a="",c="N/A";if(!Object(r["isEmpty"])(t)){const e=t.length-1;n=t[e].start_date,a=t[e].end_date,c=t[e].name}return{patientID:e.patient_id,programID:e.program_id,program:e.program.name,outcome:c,startDate:n,endDate:a}});return Object(r["isEmpty"])(n)?e:n[0]}getProgramStates(){return a["a"].getPatientStates(this.patientId,this.programId)}voidProgram(e){return a["a"].voidProgram(this.patientProgramId,e)}voidState(e){return a["a"].voidState(this.patientId,this.programId,this.stateId,e)}enrollProgram(){return a["a"].enrollProgram(this.patientId,this.programId,this.programDate)}printTransferout(e){const t=new o["a"];return t.printLbl(`/programs/${this.programId}/patients/${this.patientId}/labels/transfer_out?date=${e}`)}async transferOutEncounter(e){const t=new c["a"](this.patientId,119);t.setDate(this.stateDate);const n=await t.createEncounter();if(!n)throw"Unable to transfer out encounter";return t.saveValueTextObs("Transfer to",e.name)}updateState(){return a["a"].createState(this.patientId,this.programId,{state:this.stateId,date:this.stateDate})}setProgramDate(e){this.programDate=e}setStateDate(e){this.stateDate=e}setPatientProgramId(e){this.patientProgramId=e}setProgramId(e){this.programId=e}setStateId(e){this.stateId=e}}},7708:function(e,t,n){},7941:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=e.filter(e=>e.person_attribute_type_id==t);return n.length>0?n[0].value:""}},7957:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("8158"),c=n("9283"),o=n("2ef0");class r extends a["a"]{constructor(){super()}static get(e){return super.getJson("/observations/"+e)}static create(e){return super.postJson("/observations",e)}static voidObs(e){return super.void("observations/"+e,{})}static saveObs(e,t){return this.create({encounter_id:e,observations:[t]})}static saveObsArray(e,t){return this.create({encounter_id:e,observations:t})}static async buildValueCoded(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0),o="number"===typeof t?t:await a["a"].getConceptID(t,!0);return{concept_id:c,value_coded:o,obs_datetime:n}}static async buildValueCodedFromConceptId(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0);return{concept_id:c,value_coded:t,obs_datetime:n}}static async buildValueText(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0);return{concept_id:c,value_text:t,obs_datetime:n}}static async buildValueNumber(e,t,n=null,c=null,o=this.getSessionDate()){const r=await a["a"].getConceptID(e,!0),i={concept_id:r,value_numeric:t,obs_datetime:o};return n&&Object.assign(i,{value_modifier:n}),c&&Object.assign(i,{order_id:c}),i}static async buildValueDate(e,t,n=this.getSessionDate()){const c=await a["a"].getConceptID(e,!0);return{concept_id:c,value_datetime:t,obs_datetime:n}}static getObservations(e,t){return super.getJson(`/observations?person_id=${e}&concept_id=${t}`)}static getObs(e){return super.getJson("/observations",e)}static async getFirstObs(e,t,n=this.getSessionDate(),c=!0){const i=await a["a"].getConceptID(t,c),s=await r.getObs({person_id:e,concept_id:i,date:n,page_size:1});if(!Object(o["isEmpty"])(s)){const[e]=s;return"number"===typeof e["value_coded"]&&(e["value_coded"]=await a["a"].getConceptName(e["value_coded"])),e}}static obsInValidPeriod(e){return e&&a["a"].getSessionDate()>=c["b"].toStandardHisFormat(e.obs_datetime)}static async getFirstObsValue(e,t,n,a=this.getSessionDate(),c=!0){const r=await this.getFirstObs(e,t,a,c);if(!Object(o["isEmpty"])(r))return r[n]}static async getAll(e,t,n=this.getSessionDate(),c=!0){const r=await a["a"].getConceptID(t,c),i=await this.getObs({person_id:e,concept_id:r,date:n});if(!Object(o["isEmpty"])(i))return i}static async getAllValueCoded(e,t,n=this.getSessionDate(),c=!0){const r=await this.getAll(e,t,n,c);return Object(o["isEmpty"])(r)?[]:Promise.all(r.map(e=>a["a"].getConceptName(e["value_coded"])))}static getFirstValueText(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_text",n,a)}static getFirstValueCoded(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_coded",n,a)}static getFirstValueNumber(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_numeric",n,a)}static getFirstValueDatetime(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"value_datetime",n,a)}static getFirstObsDatetime(e,t,n=this.getSessionDate(),a=!0){return this.getFirstObsValue(e,t,"obs_datetime",n,a)}static async resolvePrimaryValue(e){let t="";return null!=e.value_datetime&&(t=c["b"].toStandardHisDisplayFormat(e.value_datetime)),null!=e.value_text&&(t=e.value_text),null!=e.value_numeric&&(t=e.value_numeric),null!=e.value_coded&&(t=await super.getConceptName(e.value_coded)),null!=e.value_modifier&&(t=`${t} ${e.value_modifier}`),t}}},"79fe":function(e,t,n){},"7cfc":function(e,t,n){"use strict";n("2a52")},"7def":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("1da1"),c=n("d4ec"),o=n("bee2"),r=n("45eb"),i=n("7e84"),s=n("262e"),u=n("2caf"),l=(n("96cf"),n("d81d"),n("1c74"));const d=e=>{const t=e.given_name,n=e.family_name,a=e.middle_name?e.middle_name:"";return`${t} ${a} ${n}`};var p=n("7941"),m=n("2ef0"),h=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"getRelationships",value:function(e){return Object(r["a"])(Object(i["a"])(n),"getJson",this).call(this,"/people/".concat(e,"/relationships"))}},{key:"getGuardianDetails",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRelationships(t).then((function(e){return e.map((function(e){var t=Object(m["get"])(e,"relation.names[0]");return{name:t?d(t):"",relationshipType:Object(m["get"])(e,"type.b_is_to_a",""),phoneNumber:Object(p["a"])(Object(m["get"])(e,"relation.person_attributes",[]),12)}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(l["e"])},8081:function(e,t,n){"use strict";n("da71")},"80e3":function(e,t,n){"use strict";var a=n("7a23");const c=Object(a["withScopeId"])("data-v-00aec542");Object(a["pushScopeId"])("data-v-00aec542");const o={key:0,class:"stick-report-header"},r={key:1},i={key:2},s={key:0},u={key:1},l={key:0,class:"no-data-section vertically-align"},d={key:0},p={key:1};Object(a["popScopeId"])();const m=c((function(e,t,n,m,h,f){const g=Object(a["resolveComponent"])("ion-icon"),b=Object(a["resolveComponent"])("ion-skeleton-text"),_=Object(a["resolveComponent"])("ion-button");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])("table",{class:["report-table",e.config.tableCssTheme||""]},[e.tableColumns?(Object(a["openBlock"])(),Object(a["createBlock"])("thead",o,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.tableColumns,(t,n)=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:n},[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])("th",{key:c,colspan:t.colspan||0,onClick:n=>e.sort(c,t),style:t.style,class:t.cssClass},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.th)+" ",1),e.sortedIndex===c&&t.sortable&&n+1===e.tableColumns.length?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:0,icon:"ascSort"===e.sortOrder?e.arrowUp:e.arrowDown},null,8,["icon"])):Object(a["createCommentVNode"])("",!0)],14,["colspan","onClick"]))),128))]))),128))])):Object(a["createCommentVNode"])("",!0),e.isLoading?(Object(a["openBlock"])(),Object(a["createBlock"])("tbody",r,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.skeletonRows,(t,n)=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:n},[Object(a["createVNode"])("td",{colspan:e.columnLength},[Object(a["createVNode"])(b,{animated:"",style:{width:"100%",height:"30px"}})],8,["colspan"])]))),128))])):Object(a["createCommentVNode"])("",!0),e.noData?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("tbody",i,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.activeRows,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t},[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e,(e,t)=>{var n,o,r;return Object(a["openBlock"])(),Object(a["createBlock"])("td",{key:t,colspan:e.colspan||0,class:e.cssClass,style:e.style},[e.event?(Object(a["openBlock"])(),Object(a["createBlock"])("div",s,["link"===(null===e||void 0===e||null===(n=e.event)||void 0===n?void 0:n.obj)?(Object(a["openBlock"])(),Object(a["createBlock"])("a",{key:0,href:"#",class:["his-sm-text",e.cssClass],style:e.style,onClick:Object(a["withModifiers"])(t=>e.event.click(),["prevent"])},Object(a["toDisplayString"])(e.td),15,["onClick"])):Object(a["createCommentVNode"])("",!0),"button"===e.event.obj?(Object(a["openBlock"])(),Object(a["createBlock"])(_,{key:1,color:(null===e||void 0===e||null===(o=e.event)||void 0===o?void 0:o.color)||"",class:e.cssClass,style:e.style,disabled:void 0!=(null===e||void 0===e||null===(r=e.event)||void 0===r?void 0:r.disabled)&&!0===e.event.disabled,onClick:t=>e.event.click()},{default:c(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.td),1)]),_:2},1032,["color","class","style","disabled","onClick"])):Object(a["createCommentVNode"])("",!0)])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",u,[Object(a["createVNode"])("span",{class:"his-sm-text",innerHTML:e.td},null,8,["innerHTML"])]))],14,["colspan"])}),128))]))),128))]))],2),e.noData?(Object(a["openBlock"])(),Object(a["createBlock"])("h1",l,[e.errorMessage?(Object(a["openBlock"])(),Object(a["createBlock"])("span",d,Object(a["toDisplayString"])(e.errorMessage),1)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",p," No data available in table "))])):Object(a["createCommentVNode"])("",!0)],64)}));var h=n("ff79"),f=n("9ceb"),g=n("2ef0"),b=n("8734"),_=n("b5e4"),k=n("8a30"),v=Object(a["defineComponent"])({emits:["onActiveRows","onActiveColumns","onPagination","onIsLoading","onTableRows"],components:{IonButton:k["d"],IonIcon:k["r"],IonSkeletonText:k["K"]},props:{config:{type:Object,default:{}},columns:{type:Object,required:!0},rows:{type:Object,default:()=>[]},newPage:{type:Number},rowsPerPage:{type:Number},asyncRows:{type:Function},asyncRowParser:{type:Function},rowParser:{type:Function},searchFilter:{type:String},showFilters:{type:Boolean,default:!1},paginated:{type:Boolean,default:!1}},data:()=>({arrowUp:h["h"],arrowDown:h["g"],caretBack:h["k"],caretForward:h["m"],sortedIndex:-1,sortOrder:"descSort",tableColumns:[],tableRows:[],paginatedRows:[],activeRows:[],currentPage:0,itemsPerPage:20,isLoading:!1,errorMessage:""}),watch:{isLoading:{handler(e){"boolean"===typeof e&&this.$emit("onIsLoading",e)},immediate:!0},newPage:{handler(e){"number"===typeof e&&this.onChangePage(e)},immediate:!0},rowsPerPage:{handler(e){"number"===typeof e&&(this.itemsPerPage=e)},immediate:!0},async itemsPerPage(e){Object(g["isEmpty"])(this.tableRows)||(this.currentPage=0,await Object(b["a"])(100),this.paginateTableRows(e),await this.setPage(this.currentPage))},tableRows:{handler(e){Object(g["isEmpty"])(e)||this.$emit("onTableRows",e)},immediate:!0,deep:!0},searchFilter(e){e?this.activeRows=this.searchDataSet(e,this.tableRows):this.paginated?this.setPage(this.currentPage):this.activeRows=this.tableRows},activeRows:{handler(e){this.$emit("onActiveRows",e)},immediate:!0,deep:!0},columns:{handler(e){if(!Object(g["isEmpty"])(e)){if(this.showIndex()){const e=[...this.columns],t=this.columns.length-1;e[t]=[f["a"].thNum("#"),...e[t]],this.tableColumns=e}else this.tableColumns=e;this.$emit("onActiveColumns",this.tableColumns)}},immediate:!0,deep:!0},asyncRows:{async handler(e){if(this.errorMessage="","function"===typeof e){this.isLoading=!0;try{this.tableRows=this.addColumnIndexes(await e()),this.paginated?(this.paginateTableRows(),await this.setPage(0)):this.activeRows=this.tableRows}catch(t){this.errorMessage=""+t,Object(_["c"])(t),console.error(t)}this.isLoading=!1}},immediate:!0,deep:!0},rows:{async handler(e){if(this.errorMessage="",!e||Object(g["isEmpty"])(e))return this.activeRows=[],void(this.tableRows=[]);this.tableRows=this.addColumnIndexes(e),this.paginated?(this.paginateTableRows(),await this.setPage(0)):this.activeRows=this.tableRows},immediate:!0,deep:!0}},methods:{showIndex(){return!(!this.config||!("showIndex"in this.config))&&this.config.showIndex},addColumnIndexes(e){return this.showIndex()?e.map((e,t)=>{const n=[f["a"].td(t+1)];return Array.isArray(e)?n.concat(e):[...n,e]}):e},paginateTableRows(e=0){this.paginatedRows=Object(g["chunk"])(this.tableRows,e||this.itemsPerPage),this.$emit("onPagination",this.paginatedRows)},async setPage(e){this.activeRows=[];const t=this.paginatedRows[e];if(t){try{if("function"===typeof this.asyncRowParser){this.activeRows=t;for(const e in t)this.activeRows[e]=await this.asyncRowParser(t[e])}else this.isLoading=!0,this.activeRows="function"===typeof this.rowParser?await this.rowParser(t):t}catch(n){Object(_["c"])(n),this.errorMessage=""+n,console.error(n)}this.isLoading=!1}},async sort(e,t){this.showIndex()&&"function"===typeof this.rowParser&&0!=e||(e===this.sortedIndex?this.sortOrder="ascSort"===this.sortOrder?"descSort":"ascSort":this.sortOrder="ascSort",this.sortedIndex=e,this.sortOrder in t&&(this.paginated?(this.tableRows=t[this.sortOrder](e,this.tableRows),this.paginateTableRows(),await this.setPage(this.currentPage)):this.activeRows=t[this.sortOrder](e,this.tableRows)))},searchDataSet(e,t){return t.filter(t=>{var n;const a=null===(n=JSON.stringify(t).match(/"td":"(.*?)"/g))||void 0===n?void 0:n.join(" ").replace(/"td":|"/g,"");return(null===a||void 0===a?void 0:a.match(new RegExp(e,"i")))||!1})},async onChangePage(e){this.currentPage=e,await this.setPage(e)}},computed:{noData(){return!this.isLoading&&Object(g["isEmpty"])(this.activeRows)},columnLength(){try{return this.tableColumns[0].length}catch(e){return console.warn(e),5}},skeletonRows(){const e=[],t=this.config.skeletonTextRows?this.config.skeletonTextRows:10;for(let n=0;n<t;++n)e.push(n);return e}}}),O=(n("97c1"),n("6b0d")),y=n.n(O);const j=y()(v,[["render",m],["__scopeId","data-v-00aec542"]]);t["a"]=j},8158:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1c74"),c=[{categories:[],concept_id:8259,name:"Routine TB Screening"},{categories:[],concept_id:6195,name:"Why does the woman not use birth control"},{categories:[],concept_id:6328,name:"New"},{categories:[],concept_id:7977,name:"Hemorrhage"},{categories:[],concept_id:7156,name:"Eclampsia"},{categories:[],concept_id:8758,name:"Episiotomy"},{categories:[],concept_id:228,name:"APH"},{categories:[],concept_id:230,name:"PPH"},{categories:[],concept_id:2895,name:"Alive"},{categories:[],concept_id:9656,name:"Previous HIV Test Results"},{categories:[],concept_id:2473,name:"B-HCG"},{categories:[],concept_id:9655,name:"Previous HIV Test Done"},{categories:[],concept_id:9657,name:"Previous HIV Test Date"},{categories:[],concept_id:3340,name:"Currently taking alcohol"},{categories:[],concept_id:1057,name:"Never Married"},{categories:[],concept_id:5555,name:"Married"},{categories:[],concept_id:1056,name:"Seperated"},{categories:[],concept_id:1058,name:"Divorced"},{categories:[],concept_id:6686,name:"Ultrasound"},{categories:[],concept_id:7433,name:"Presentation"},{categories:[],concept_id:7979,name:"Fetal Heart Beat"},{categories:[],concept_id:9637,name:"Fetal movement heard"},{categories:[],concept_id:9562,name:"Fetal movement felt"},{categories:[],concept_id:7835,name:"Fundus"},{categories:[],concept_id:7837,name:"Position"},{categories:[],concept_id:7142,name:"Multiple gestation"},{categories:[],concept_id:7919,name:"LIQUOR"},{categories:[],concept_id:9563,name:"Last Fetal movement felt"},{categories:[],concept_id:7836,name:"Lie"},{categories:[],concept_id:9654,name:"Fetal heart movement seen"},{categories:[],concept_id:7839,name:"Fetal heart rate"},{categories:["anc_medical_history"],concept_id:5,name:"Asthma"},{categories:["anc_medical_history"],concept_id:155,name:"Epilepsy"},{categories:["anc_medical_history"],concept_id:174,name:"Sexually transmitted infection"},{categories:["anc_medical_history"],concept_id:1063,name:"Blood transfusion"},{categories:["anc_medical_history"],concept_id:6033,name:"Renal disease"},{categories:["anc_medical_history"],concept_id:7978,name:"Spine/Leg Deformity"},{categories:["anc_medical_history"],concept_id:8809,name:"Hypertension"},{categories:[],concept_id:7439,name:"Procedure done"},{categories:["anc_surgical_history"],concept_id:1171,name:"Caesarean section"},{categories:["anc_surgical_history"],concept_id:1719,name:"Tubal ligation"},{categories:["anc_surgical_history"],concept_id:3593,name:"Biopsy"},{categories:["anc_surgical_history","reason_for_no_cxca"],concept_id:5276,name:"Hysterectomy"},{categories:["anc_surgical_history"],concept_id:7440,name:"Uterine evacuation"},{categories:["anc_surgical_history"],concept_id:7441,name:"Exam under anaesthesia"},{categories:["anc_surgical_history"],concept_id:7443,name:"Total abdominal hysterectomy +/- adnexectomy"},{categories:["anc_surgical_history"],concept_id:7444,name:"Subtotal abdominal hysterectomy +/- adnexectomy"},{categories:["anc_surgical_history"],concept_id:7462,name:"Suturing of cervical or vaginal injury under anaesthesia"},{categories:["anc_surgical_history"],concept_id:7469,name:"Vaginal Reconstruction"},{categories:["anc_surgical_history"],concept_id:7470,name:"Exploratory laparatomy +/- adnexectomy"},{categories:["anc_surgical_history"],concept_id:7471,name:"Cauterization of vulva or perineal warts"},{categories:["anc_surgical_history"],concept_id:7472,name:"Marsupilisation"},{categories:["anc_surgical_history"],concept_id:7474,name:"Salpingectomy"},{categories:["anc_surgical_history"],concept_id:7475,name:"Dilation and curettage"},{categories:["anc_medical_history","anc_surgical_history"],concept_id:7477,name:"Fistula repair"},{categories:["anc_surgical_history"],concept_id:7478,name:"Myomectomy"},{categories:["anc_surgical_history"],concept_id:7480,name:"Hysterescopy"},{categories:["anc_surgical_history"],concept_id:7481,name:"Cystoscopy"},{categories:["anc_surgical_history"],concept_id:7482,name:"Vulvectomy"},{categories:["anc_surgical_history"],concept_id:8380,name:"Suturing of perineum"},{categories:["anc_surgical_history"],concept_id:8381,name:"Repair of uterus"},{categories:["anc_surgical_history"],concept_id:8765,name:"Cystectomy"},{categories:["anc_surgical_history"],concept_id:8766,name:"Ceclage"},{categories:["anc_surgical_history"],concept_id:8767,name:"Bilateral tubal ligation"},{categories:["anc_surgical_history"],concept_id:8773,name:"Excision"},{categories:["anc_surgical_history"],concept_id:9058,name:"Evacuation/Manual Vacuum Aspiration"},{categories:["anc_surgical_history"],concept_id:9304,name:"Polypectomy"},{categories:["anc_surgical_history"],concept_id:9305,name:"Decapitation"},{categories:["anc_surgical_history"],concept_id:9306,name:"Abdominal Washout"},{categories:["anc_surgical_history"],concept_id:9307,name:"Vaginal hysterectomy"},{categories:["anc_surgical_history"],concept_id:9308,name:"Gaped episiotomy repair"},{categories:["anc_surgical_history"],concept_id:9309,name:"Macdonald suture"},{categories:["anc_surgical_history"],concept_id:9314,name:"Oophorectomy"},{categories:[],concept_id:7124,name:"Tetanus toxoid vaccine"},{categories:[],concept_id:6408,name:"Other conditions"},{categories:[],concept_id:10546,name:"Punch Biopsy"},{categories:[],concept_id:10547,name:"LLETZ sample"},{categories:[],concept_id:1115,name:"Normal"},{categories:[],concept_id:10551,name:"CIN 1"},{categories:[],concept_id:10552,name:"CIN 2"},{categories:[],concept_id:10553,name:"CIN 3"},{categories:[],concept_id:10554,name:"Carcinoma in Situ"},{categories:[],concept_id:2588,name:"Invasive cancer of cervix"},{categories:[],concept_id:10550,name:"Benign cervical warts"},{categories:[],concept_id:1107,name:"Not available"},{categories:[],concept_id:7918,name:"Bleeding"},{categories:[],concept_id:5276,name:"Hysterectomy"},{categories:[],concept_id:10521,name:"Cryotherapy"},{categories:[],concept_id:10002,name:"Leep"},{categories:[],concept_id:9053,name:"Palliative Care"},{categories:[],concept_id:10560,name:"LLETZ"},{categories:[],concept_id:10557,name:"Conisation"},{categories:[],concept_id:9996,name:"Thermocoagulation"},{categories:[],concept_id:10549,name:"Chronic cervicitis"},{categories:[],concept_id:3580,name:"Patient refused"},{categories:[],concept_id:10556,name:"Hysyrectomy"},{categories:[],concept_id:10558,name:"Trachelectomy"},{categories:[],concept_id:3626,name:"Discharged"},{categories:[],concept_id:8882,name:"Continue follow-up"},{categories:[],concept_id:10559,name:"No Dysplasia/Cancer"},{categories:[],concept_id:1742,name:"Patient died"},{categories:[],concept_id:8739,name:"Cervical cancer stage 1"},{categories:[],concept_id:8787,name:"Cervical cancer stage 2"},{categories:[],concept_id:8788,name:"Cervical cancer stage 3"},{categories:[],concept_id:8740,name:"Cervical cancer stage 4"},{categories:[],concept_id:10041,name:"VIA Negative"},{categories:[],concept_id:10032,name:"Suspect Cancer"},{categories:[],concept_id:10023,name:"PAP Smear Normal"},{categories:[],concept_id:10025,name:"HPV negative"},{categories:[],concept_id:10028,name:"No visible Lesion"},{categories:[],concept_id:6537,name:"Other Gynae"},{categories:[],concept_id:10042,name:"VIA Positive"},{categories:[],concept_id:10024,name:"PAP Smear Abnormal"},{categories:[],concept_id:10026,name:"HPV Positive"},{categories:[],concept_id:10027,name:"Visible Lesion"},{categories:[],concept_id:174,name:"STI"},{categories:[],concept_id:149,name:"Cervicitis"},{categories:[],name:"Result Given to Client",concept_id:9764},{categories:["art_extra_medication_order"],name:"INH 300 / RFP 300 (3HP)",concept_id:10565},{categories:[],concept_id:10563,name:"Drug received from previous facility"},{categories:[],concept_id:10564,name:"Date drug received from previous facility"},{categories:[],concept_id:6397,name:"Height for age percent of median"},{categories:[],concept_id:6969,name:"Refer to clinician"},{categories:[],concept_id:10031,name:"Further Investigation and Management"},{categories:[],concept_id:9066,name:"Cancer of cervix"},{categories:[],concept_id:10030,name:"Large Lesion (Greater than 75 percent)"},{categories:[],concept_id:1739,name:"Referral reason"},{categories:[],concept_id:9514,name:"VIA Results"},{categories:[],concept_id:9522,name:"Patient went for VIA?"},{concept_id:2690,name:"TB treatment"},{categories:[],concept_id:7458,name:"Confirmed TB on treatment"},{categories:[],concept_id:7456,name:"Confirmed TB NOT on treatment"},{categories:[],concept_id:9195,name:"Discuss with spouse"},{categories:[],concept_id:7951,name:"Other side effect"},{categories:[],concept_id:7755,name:"Malawi ART side effects"},{categories:[],concept_id:9994,name:"CxCa test date"},{categories:[],concept_id:10008,name:"Reason for NOT offering CxCa"},{categories:[],concept_id:9992,name:"Offer CxCa"},{categories:["reason_for_no_cxca"],concept_id:8387,name:"Not due for screening"},{categories:["reason_for_no_cxca"],concept_id:10007,name:"Client preferred counseling"},{categories:["reason_for_no_cxca"],concept_id:1175,name:"Not applicable"},{categories:["reason_for_no_cxca"],concept_id:3580,name:"Patient refused"},{categories:["reason_for_no_cxca"],concept_id:10001,name:"Chemotherapy"},{categories:["reason_for_no_cxca"],concept_id:10543,name:"Services not available"},{categories:["reason_for_no_cxca"],concept_id:10544,name:"Provider not available"},{categories:[],concept_id:7215,name:"Other (Specify)"},{categories:[],concept_id:1618,name:"Family planning"},{categories:[],concept_id:374,name:"Method of family planning"},{categories:[],concept_id:2431,name:"Other reason for not seeking services"},{categories:[],concept_id:2592,name:"Clinician notes"},{categories:[],concept_id:6986,name:"Transferred"},{categories:[],concept_id:1588,name:"Previous TB treatment history"},{categories:["bp_measures"],concept_id:5085,name:"Systolic blood pressure"},{categories:["bp_measures"],concept_id:5086,name:"Diastolic blood pressure"},{categories:[],concept_id:7054,name:"Art clinic location"},{categories:[],concept_id:8677,name:"Specific presenting complaint"},{categories:[],concept_id:8578,name:"Presenting complaint"},{categories:[],concept_id:10319,name:"Presenting complaint group"},{categories:[],concept_id:6266,name:"Trauma"},{categories:[],concept_id:7027,name:"General"},{categories:[],concept_id:7411,name:"ILI"},{categories:[],concept_id:7644,name:"Respiratory"},{categories:[],concept_id:7661,name:"Gastrointestinal"},{categories:[],concept_id:9546,name:"Haema"},{categories:[],concept_id:9551,name:"Nephro"},{categories:[],concept_id:9560,name:"Cardiovascular"},{categories:["art_patient_type"],order:1,concept_id:7572,name:"New patient"},{categories:["art_patient_type"],order:2,concept_id:10522,name:"Drug Refill"},{categories:["risk factors","anc_medical_history"],concept_id:3720,name:"Diabetes"},{categories:["risk factors"],concept_id:7623,name:"CKD"},{categories:["risk factors"],concept_id:9499,name:"history of CVD"},{categories:["risk factors"],concept_id:9501,name:"relative with CVD"},{categories:["risk factors"],concept_id:3339,name:"patient smokes"},{categories:["risk factors"],concept_id:2318,name:"Patient drinks alcohol"},{categories:[],concept_id:9675,name:"Referral"},{categories:[],concept_id:1054,name:"Marital status"},{categories:[],concept_id:8366,name:"Religion"},{categories:[],concept_id:6541,name:"Referred"},{categories:[],concept_id:8717,name:"Specialist clinic"},{categories:[],concept_id:6734,name:"Admit to ward"},{categories:[],concept_id:9674,name:"Re-visiting"},{categories:[],concept_id:3753,name:"HIV status"},{categories:[],concept_id:7878,name:"HIV test location"},{categories:[],concept_id:7409,name:"Qech outpatient diagnosis list"},{categories:["anc_diagnosis"],concept_id:123,name:"Malaria"},{categories:["anc_diagnosis"],concept_id:3,name:"Anaemia"},{categories:["anc_diagnosis"],concept_id:7941,name:"Pre-eclampsia"},{categories:["anc_diagnosis"],concept_id:9665,name:"Vaginal bleeding"},{categories:["anc_diagnosis"],concept_id:9664,name:"Early rupture of membranes"},{categories:["anc_diagnosis"],concept_id:7883,name:"Premature labour"},{categories:["anc_diagnosis"],concept_id:43,name:"Pneumonia"},{categories:[],concept_id:9227,name:"Malaria Test Result"},{categories:[],concept_id:703,name:"Positive"},{categories:[],concept_id:9436,name:"Inconclusive"},{categories:[],concept_id:6698,name:"Trace"},{categories:[],concept_id:664,name:"Negative"},{categories:[],concept_id:6542,name:"Primary diagnosis"},{categories:[],concept_id:6543,name:"Secondary diagnosis"},{categories:[],concept_id:2688,name:"Clinical notes construct"},{categories:[],concept_id:1837,name:"HIV test date"},{categories:[],concept_id:6189,name:"Type of visit"},{categories:[],concept_id:3003,name:"Transfer to"},{categories:[],concept_id:7414,name:"Transfer from"},{categories:[],concept_id:1744,name:"Patient transferred out"},{categories:[],concept_id:9144,name:"Repeat / Missing"},{categories:[],concept_id:3280,name:"Targeted"},{categories:[],concept_id:1345,name:"Confirmatory"},{categories:[],concept_id:6368,name:"Stat"},{categories:[],concept_id:432,name:"Routine"},{categories:[],concept_id:730,name:"CD4 percent"},{categories:[],concept_id:2552,name:"Agrees to followup"},{categories:[],concept_id:7882,name:"Confirmatory HIV test date"},{categories:[],concept_id:2516,name:"Date ART started"},{categories:[],concept_id:1499,name:"Drug start date"},{categories:[],concept_id:7750,name:"Location of ART initiation"},{categories:[],concept_id:6394,name:"Has the patient taken ART in the last two weeks"},{categories:[],concept_id:7752,name:"Has the patient taken ART in the last two months"},{categories:[],concept_id:7751,name:"Date ART last taken"},{categories:[],concept_id:6981,name:"ART number at previous location"},{categories:[],concept_id:7881,name:"Confirmatory HIV test location"},{categories:[],concept_id:7754,name:"Ever received ART"},{categories:[],concept_id:7937,name:"Ever registered at ART clinic"},{categories:[],concept_id:6393,name:"Has transfer letter"},{categories:[],concept_id:9685,name:"Phone"},{categories:[],concept_id:9686,name:"Home visit"},{categories:["art_extra_medication_order"],concept_id:9974,name:"3HP (RFP + INH)"},{categories:[],concept_id:656,name:"IPT"},{categories:["side_effect"],sortIndex:{side_effect:10},concept_id:1773,name:"Heavy alcohol use"},{categories:["tb_symptom","side_effect"],sortIndex:{side_effect:4,tb_symptom:4},concept_id:8260,name:"Weight loss / Failure to thrive / malnutrition"},{categories:[],concept_id:9661,name:"Contraindications"},{categories:[],concept_id:7567,name:"Drug induced"},{categories:["tb_symptom","side_effect","adverse_effect"],sortIndex:{side_effect:9,tb_symptom:3},concept_id:6029,name:"Night sweats"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:1,tb_symptom:2},concept_id:5945,name:"Fever"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:3},concept_id:5980,name:"Vomiting"},{categories:["5_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:5},concept_id:877,name:"Dizziness"},{categories:["9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:7},concept_id:620,name:"Headache"},{categories:["13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:2},concept_id:5978,name:"Nausea"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","5_art_regimen_side_effect","6_art_regimen_side_effect","7_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","adverse_effect"],concept_id:843,name:"Treatment failure"},{categories:["2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:6},concept_id:1458,name:"Lactic acidosis"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","15_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:8,tb_symptom:1},concept_id:107,name:"Cough"},{categories:["11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:1},concept_id:821,name:"Peripheral neuropathy"},{categories:["0_art_regimen_contraindication","2_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","8_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:3},concept_id:215,name:"Jaundice"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:5},concept_id:2148,name:"Lipodystrophy"},{categories:["5_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","10_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:7},concept_id:9242,name:"Kidney Failure"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:2},concept_id:219,name:"Psychosis"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:4},concept_id:9440,name:"Gynaecomastia"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:6},concept_id:3,name:"Anemia"},{categories:["0_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:9},concept_id:512,name:"Skin rash"},{categories:["contraindication","adverse_effect"],sortIndex:{contraindication:8},concept_id:867,name:"Insomnia"},{categories:[],concept_id:1588,name:"TB treatment history"},{categories:["fast_track"],concept_id:9533,name:"Adult 18 years +"},{categories:["fast_track"],concept_id:9534,name:"On ART for 12 months "},{categories:["fast_track"],concept_id:9535,name:"On 1st line ART"},{categories:["fast_track"],concept_id:9537,name:"Good current adherence"},{categories:["fast_track"],concept_id:9536,name:"Last VL <1000"},{categories:["fast_track"],concept_id:9538,name:"Pregnant / Breastfeeding"},{categories:["fast_track"],concept_id:9539,name:"Side effects / HIV-rel. diseases"},{categories:["fast_track"],concept_id:9540,name:"Needs BP / diabetes treatment"},{categories:["fast_track"],concept_id:9527,name:"Started IPT <12m ago"},{categories:["fast_track"],concept_id:2186,name:"Any sign for TB"},{categories:["reasons_for_art","stage_1_conditions_adults_who_reason"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason","stage_1_conditions_adults_who_reason"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["reasons_for_art","stage_2_conditions_adults_who_reason"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason","stage_2_conditions_adults_who_reason"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["reasons_for_art","stage_3_conditions_adults_who_reason"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason","stage_3_conditions_adults_who_reason"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["reasons_for_art","stage_4_conditions_adults_who_reason"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason","stage_4_conditions_adults_who_reason"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:[],concept_id:1805,name:"Patient present"},{categories:[],concept_id:2122,name:"Guardian present"},{categories:[],concept_id:5092,name:"SP02"},{categories:[],concept_id:5087,name:"Pulse"},{categories:[],concept_id:5088,name:"Temp"},{categories:[],concept_id:1484,name:"Treatment status"},{categories:[],concept_id:3140,name:"Reason for poor treatment adherence"},{categories:[],concept_id:6987,name:"Drug adherence"},{categories:[],concept_id:2540,name:"Number of tablets brought to clinic"},{categories:[],concept_id:7880,name:"Confirmatory hiv test type"},{categories:["hiv_test_types"],concept_id:1040,name:"HIV rapid test"},{categories:["hiv_test_types"],concept_id:844,name:"HIV DNA polymerase chain reaction"},{categories:["hiv_test_types"],concept_id:1118,name:"Not done"},{categories:["hiv_test_types"],concept_id:1067,name:"Unknown"},{categories:["reason_for_art"],concept_id:8263,name:"PRESUMED SEVERE HIV"},{categories:["reason_for_art"],concept_id:844,name:"HIV DNA POLYMERASE CHAIN REACTION"},{categories:["reason_for_art"],concept_id:1169,name:"HIV infected"},{categories:["reason_for_art"],concept_id:1755,name:"PATIENT PREGNANT"},{categories:["reason_for_art"],concept_id:5632,name:"BREASTFEEDING"},{categories:["reason_for_art"],concept_id:5006,name:"Asymptomatic"},{categories:["reason_for_art"],concept_id:8376,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 1"},{categories:["reason_for_art"],concept_id:7559,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 2"},{categories:[""],concept_id:2743,name:"Who stages criteria present"},{categories:[""],concept_id:7965,name:"Is patient breast feeding"},{categories:[""],concept_id:6131,name:"Is patient pregnant"},{categories:[""],concept_id:7563,name:"Reason for ART eligibility"},{categories:[""],concept_id:7562,name:"Who stage"},{categories:[""],concept_id:2540,name:"Pills brought"},{categories:[""],concept_id:5089,name:"weight"},{categories:[],concept_id:5090,name:"Height"},{categories:["art_medication_order"],concept_id:9974,name:"Rifapentine"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:916,name:"CPT"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:656,name:"INH"},{categories:[""],concept_id:6784,name:"Appointment type"},{categories:[""],concept_id:1779,name:"Reason for ARV switch"},{categories:[""],concept_id:9561,name:"Assess for fast track"},{categories:[""],concept_id:1282,name:"Medication orders"},{categories:[""],concept_id:8471,name:"Fast track"},{categories:[""],concept_id:7755,name:"Art Side effects"},{categories:["art_medication_order"],concept_id:1085,name:"Antiretroviral drugs"},{categories:[""],concept_id:1066,name:"No"},{categories:[""],concept_id:1065,name:"Yes"},{categories:[""],concept_id:5096,name:"Appointment date"},{categories:[""],concept_id:3289,name:"Type of patient"},{categories:["art_patient_type"],concept_id:9684,order:3,name:"External consultation"},{categories:[""],concept_id:6830,name:"Cd4 count location"},{categories:[""],concept_id:6831,name:"Cd4 count datetime"},{categories:[""],concept_id:5497,name:"CD4 count"},{categories:["cd4_count"],concept_id:8208,name:"cd4 less than or equal to 750"},{categories:["cd4_count"],concept_id:8262,name:"cd4 less than or equal to 250"},{categories:["cd4_count"],concept_id:8207,name:"cd4 less than or equal to 350"},{categories:["cd4_count"],concept_id:9389,name:"cd4 less than or equal to 500"},{categories:["whole_staging_numbers"],concept_id:9145,name:"WHO STAGE 1"},{categories:["whole_staging_numbers"],concept_id:9146,name:"WHO STAGE 2"},{categories:["whole_staging_numbers"],concept_id:2932,name:"WHO STAGE 3"},{categories:["whole_staging_numbers"],concept_id:2933,name:"WHO STAGE 4"},{categories:["whole_staging_numbers"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["whole_staging_numbers"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["whole_staging_numbers"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["whole_staging_numbers"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["whole_staging_numbers"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["whole_staging_numbers"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["whole_staging_numbers"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["whole_staging_numbers"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7548,name:"Cryptococcal meningitis or other extrapulmonary cryptococcosis"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5340,name:"Candidiasis of oseophagus, trachea and bronchi or lungs"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1547,name:"Extrapulmonary tuberculosis (EPTB)"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:507,name:"Kaposis sarcoma"},{categories:["stage_3_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1215,name:"Bacterial pneumonia, severe recurrent"},{categories:["stage_4_conditions_adults","staging_4_conditions","who_staging_conditions"],concept_id:7959,name:"Non-typhoidal Salmonella bacteraemia, recurrent"},{categories:["stage_4_conditions_adults","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:7957,name:"Symptomatic HIV-associated nephropathy or cardiomyopathy"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2587,name:"Cerebral or B-cell non Hodgkin lymphoma"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:882,name:"Pneumocystis pneumonia"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5344,name:"Chronic herpes simplex infection (orolabial, gential / anorectal >1 month or visceral at any site)"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7551,name:"Cytomegalovirus infection (retinitis or infection or other organs)"},{categories:["pshd_condition","stage_4_conditions_adults","who_staging_conditions"],concept_id:2583,name:"Toxoplasmosis of the brain"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2588,name:"Invasive cancer of cervix"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7040,name:"Unspecified stage 4 condition"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:6408,name:"Other"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:1362,name:"HIV encephalopathy"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:2585,name:"Disseminated non-tuberculosis mycobacterial infection"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7549,name:"Cryptosporidiosis, chronic with diarroea"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7956,name:"Isosporiasis >1 month"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7550,name:"Disseminated mycosis (coccidiomycosis or histoplasmosis)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:5046,name:"Progressive multifocal leukoencephalopathy"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions"],concept_id:3068,name:"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"},{categories:["who_staging_conditions"],concept_id:2894,name:"Bacterial infections, severe recurrent  (empyema, pyomyositis, meningitis, bone/joint infections but EXCLUDING pneumonia)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7960,name:"Chronic herpes simplex infection (orolabial or cutaneous >1 month or visceral at any site)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7552,name:"Cytomegalovirus infection: rentinitis or other organ (from age 1 month)"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:5048,name:"Toxoplasmosis of the brain (from age 1 month)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7961,name:"Recto-vaginal fistula, HIV-associated"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:7540,name:"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:5018,name:"Diarrhoea, chronic (>1 month) unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5027,name:"Fever, persistent unexplained, intermittent or constant, >1 month"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:8206,name:"Pulmonary tuberculosis (current)"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7539,name:"Tuberculosis (PTB or EPTB) within the last 2 years"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:5334,name:"Oral candidiasis"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7546,name:"Acute necrotizing ulcerative gingivitis or periodontitis"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:2582,name:"Anaemia, unexplained < 8 g/dl"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7954,name:"Neutropaenia, unexplained < 500 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7541,name:"Severe bacterial infections (pneumonia, empyema, pyomyositis, bone/joint, meningitis, bacteraemia)"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7955,name:"Thrombocytopaenia, chronic < 50,000 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:8205,name:"Hepatitis B or C infection"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:5337,name:"Oral hairy leukoplakia"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7039,name:"Unspecified stage 3 condition"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7543,name:"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7544,name:"Diarrhoea, persistent unexplained (14 days or more)"},{categories:["pshd_condition","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7545,name:"Oral candidiasis (from age 2 months)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7547,name:"Lymph node tuberculosis"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5024,name:"Symptomatic lymphoid interstitial pneumonia"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:2889,name:"Chronic HIV-associated lung disease, including bronchiectasis"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:5332,name:"Moderate weight loss less than or equal to 10 percent, unexplained"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:5012,name:"Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:2578,name:"Seborrhoeic dermatitis"},{categories:["stage_2_conditions_adults","stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7536,name:"Papular pruritic eruptions / Fungal nail infections"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:836,name:"Herpes zoster"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2575,name:"Angular cheilitis"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2576,name:"Oral ulcerations, recurrent"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:7038,name:"Unspecified stage 2 condition"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7537,name:"Hepatosplenomegaly, persistent unexplained"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:2891,name:"Lineal gingival erythema"},{categories:["anc_diagnosis","stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6775,name:"Wart virus infection, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6776,name:"Molluscum contagiosum, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:1210,name:"Parotid enlargement, persistent unexplained"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5327,name:"Asymptomatic HIV infection"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5328,name:"Persistent generalized lymphadenopathy"},{categories:[],concept_id:8426,name:"Radiology Orders"},{name:"Hand x-ray",concept_id:10337},{name:"Foot x-ray",concept_id:10334},{name:"Leg x-ray",concept_id:10342},{name:"Pelvis x-ray",concept_id:10343},{name:"Shoulder x-ray",concept_id:10344},{concept_id:10539,name:"History of COVID-19 contact"}];class o extends a["e"]{constructor(){super()}static getConceptsByCategory(e,t=!1){const n=c.filter(t=>{try{return t.categories.includes(e)}catch(n){return!1}});return t?n.sort((t,n)=>{try{return t.sortIndex[e]>n.sortIndex[e]?1:0}catch(a){return 0}}):n}static async getConceptSet(e,t=""){const n=await this.getConceptID(e),a=super.getJson("concept_set",{id:n,name:t});if(a)return a}static async getConceptName(e){const t=this.getCachedConceptName(e);return t||this.getConceptNameFromApi(e)}static getConceptID(e,t=!1){try{return this.getCachedConceptID(e,t)}catch(n){return this.getConceptIDFromApi(e)}}static getCachedConceptID(e,t=!1){const n=c.filter(n=>t?n.name.toLowerCase()===e.toLowerCase():n.name.match(new RegExp(e,"i")));return this.resolveConcept(n,e)}static async getConceptIDFromApi(e){const t=await super.getJson("concepts",{name:e});return this.resolveConcept(t,e)}static async getConceptNameFromApi(e){const t=await super.getJson("concepts/"+e);if(t)return t.concept_names[0].name}static getCachedConceptName(e){const t=c.filter(t=>t.concept_id===e);if(t.length>=1)return t[0].name}static resolveConcept(e,t){if(1===e.length)return e[0].concept_id;throw`Concept name ${t} was not found or has a duplicates`}}},"866d":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("5530"),c=n("d4ec"),o=n("bee2"),r=n("262e"),i=n("2caf"),s=(n("b0c0"),n("99af"),n("1c74")),u=n("9283"),l=function(e){Object(r["a"])(n,e);var t=Object(i["a"])(n);function n(e,a,o){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s["e"].getSessionDate(),u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s["e"].getProgramID();return Object(c["a"])(this,n),r=t.call(this),r.startDate=a,r.endDate=o,r.date=i,r.name=e,r.programID=u,r}return Object(o["a"])(n,[{key:"requestReport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s["e"].getJson("radiology_reports",Object(a["a"])({program_id:this.programID,report_name:this.name,start_date:this.startDate,end_date:this.endDate,date:this.date},e))}},{key:"periodStr",value:function(){var e=function(e){return u["b"].toStandardHisDisplayFormat(e)};return"".concat(e(this.startDate)," - ").concat(e(this.endDate))}}]),n}(s["e"])},8734:function(e,t,n){"use strict";function a(e){return new Promise(t=>{setTimeout(()=>{t("")},e)})}n.d(t,"a",(function(){return a}))},"89b4":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var a=n("156d"),c=n("9283");const o="4.16.0";class r extends Error{constructor(e){super(),this.message=`Your current API Version of "${e}" does not meet "${o}". Contact administrator to update your API Version`}}class i extends Error{constructor(){super(),this.message="Invalid username/password"}}var s;(function(e){e["CORE_VERSION"]="core_version"})(s||(s={}));class u{constructor(){this.token="",this.username="",this.roles=[],this.programs=[],this.userID=-1,this.sessionDate="",this.systemVersion="",this.coreVersion=""}setUsername(e){this.username=e}async loadConfig(){a["b"].getFileConfig()}async login(e){const t=await this.requestLogin(e);if(!t)throw"Unable to login";{const{authorization:{token:e,user:n}}=t;this.token=e,this.roles=n.roles,this.programs=n.programs,this.userID=n.user_id,this.sessionDate=await this.getSystemDate(),this.systemVersion=await this.getApiVersion(),this.coreVersion=await this.getHeadVersion()}}startSession(){sessionStorage.setItem("apiKey",this.token),sessionStorage.setItem("username",this.username),sessionStorage.setItem("userID",this.userID.toString()),sessionStorage.setItem("userRoles",JSON.stringify(this.roles)),sessionStorage.setItem("userPrograms",JSON.stringify(this.programs)),sessionStorage.setItem("sessionDate",this.sessionDate),sessionStorage.setItem("APIVersion",this.systemVersion),localStorage.setItem(s.CORE_VERSION,this.coreVersion)}clearSession(){sessionStorage.clear()}requestLogin(e){return this.postLogin("auth/login",{username:this.username,password:e})}async validateIfCorrectAPIVersion(){const e=await this.getApiVersion(),t=e=>e.replace("v","").split("-")[0].split(".").map(e=>parseInt(e||"0")),[n,a,c]=t(e),[i,s,u]=t(o);if(n>=i&&a>=s&&c>=u)return!0;throw new r(e)}async checkTimeIntegrity(){const e=await this.getSystemDate(),t=c["b"].currentDate();if(!e)throw"Unable to fetch server date";return t===e}initDateSync(e=1e3){setInterval(async()=>{const e=await this.getSystemDate();sessionStorage.getItem("apiDate")?sessionStorage.setItem("apiDate",e):sessionStorage.setItem("sessionDate",e)},e)}setActiveVersion(e){return localStorage.setItem(s.CORE_VERSION,e)}getActiveCoreVersion(){return localStorage.getItem(s.CORE_VERSION)}async getHeadVersion(){const e=await fetch("HEAD",{method:"GET"}),t=await(null===e||void 0===e?void 0:e.text());return t&&t.length<=25?t:"-"}cachingIsEnabled(){const e=this.getAppConf("dataCaching");return"boolean"!==typeof e||e}versionLockingIsEnabled(){const e=this.getAppConf("enableVersionLocking");return"boolean"!==typeof e||e}getAppConf(e){const t=sessionStorage.getItem("appConf");if(t)try{const n=JSON.parse(t);return n[e]}catch(n){console.error(n)}return null}async getApiVersion(){const e=await this.getJson("version");return e&&e["System version"]?e["System version"]:"-"}async getSystemDate(){const{date:e}=await this.getJson("current_time");return e}async getJson(e){const t=await a["b"].get(e);if(t&&t.ok)return null===t||void 0===t?void 0:t.json()}async postLogin(e,t){const n=await a["b"].post(e,t);if(n){if(n.ok)return n.json();if(401===n.status)throw new i}}}},"8c28":function(e,t,n){},"8df6":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("1da1"),c=n("d4ec"),o=n("bee2"),r=n("262e"),i=n("2caf"),s=(n("caad"),n("d81d"),n("b0c0"),n("96cf"),n("cc6f")),u=n("8158"),l=function(e){Object(r["a"])(n,e);var t=Object(i["a"])(n);function n(e,a){var o;return Object(c["a"])(this,n),o=t.call(this,e,5,a),o.patientType="N/A",o.locationName="",o}return Object(o["a"])(n,[{key:"setLocationName",value:function(e){this.locationName=e}},{key:"setPatientType",value:function(e){this.patientType=e}},{key:"getType",value:function(){return this.patientType}},{key:"loadPatientType",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFirstValueCoded("Type of patient");case 2:t=e.sent,t&&(this.patientType=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.savePatientType(this.patientType);case 2:if(!this.locationName||!["External consultation","Drug Refill"].includes(this.patientType)){e.next=5;break}return e.next=5,this.saveLocationClinic(this.locationName);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveLocationClinic",value:function(e){return this.saveValueTextObs("Art clinic location",e)}},{key:"savePatientType",value:function(e){return this.saveValueCodedObs("Type of patient",e)}}],[{key:"getPatientTypes",value:function(){return u["a"].getConceptsByCategory("art_patient_type").map((function(e){var t=e.name;return{label:t,value:t}}))}},{key:"isDrugRefillPatient",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getFirstValueCoded(t,"Type of patient");case 2:return n=e.sent,e.abrupt("return",n&&"Drug Refill"===n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(s["a"])},"8e8b":function(e,t,n){"use strict";var a=n("7a23"),c=n("276d"),o=n("3e53");const r=Object(a["ref"])({}),i=Object(a["ref"])({});t["a"]={async get(e,t={}){var n;const a=(null===(n=o["a"].getActiveApp())||void 0===n?void 0:n.appStore)||c["a"];if(e in a){var s,u;const n=t||{};if("function"===typeof(null===(s=a[e])||void 0===s?void 0:s.canReloadCache)&&null!==(u=a[e])&&void 0!==u&&u.canReloadCache({params:n,state:r.value[e]})){var l;if(!i.value[e])i.value[e]=null===(l=a[e])||void 0===l?void 0:l.get(n);r.value[e]=await i.value[e],i.value[e]=void 0}return r.value[e]}throw`Store ${e} not found`},set(e,t){return r.value[e]=t,r.value[e]},invalidate(e){r.value[e]=void 0},invalidateAll(){Object.keys(r.value).forEach(e=>{r.value[e]=void 0})}}},"8efc":function(e,t,n){"use strict";var a=n("7a23"),c=Object(a["withScopeId"])("data-v-069a3628");Object(a["pushScopeId"])("data-v-069a3628");var o={key:0};Object(a["popScopeId"])();var r=c((function(e,t,n,r,i,s){var u=Object(a["resolveComponent"])("ion-title"),l=Object(a["resolveComponent"])("ion-toolbar"),d=Object(a["resolveComponent"])("ion-header");return Object(a["openBlock"])(),Object(a["createBlock"])(d,null,{default:c((function(){return[Object(a["createVNode"])(l,null,{default:c((function(){return[Object(a["createVNode"])(u,{class:"ion-text-center"},{default:c((function(){return[Object(a["createVNode"])("span",{class:["his-lg-text",e.color]},Object(a["toDisplayString"])(e.title),3),e.subtitle?(Object(a["openBlock"])(),Object(a["createBlock"])("h1",o,Object(a["toDisplayString"])(e.subtitle),1)):Object(a["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),i=n("8a30"),s=Object(a["defineComponent"])({components:{IonToolbar:i["Q"],IonTitle:i["P"],IonHeader:i["q"]},props:{title:{type:String,required:!0},subtitle:{type:String},color:{type:String}}}),u=(n("b744"),n("6b0d")),l=n.n(u);const d=l()(s,[["render",r],["__scopeId","data-v-069a3628"]]);var p=d;const m={style:{padding:"10px"}};function h(e,t,n,c,o,r){const i=Object(a["resolveComponent"])("dynamic-nav");return Object(a["openBlock"])(),Object(a["createBlock"])("div",m,[Object(a["createVNode"])(i,{color:"light",btns:e.btns},null,8,["btns"])])}var f=n("0f25"),g=Object(a["defineComponent"])({components:{DynamicNav:f["a"]},props:{buttons:{type:Object,default:()=>[]}},computed:{btns(){return this.buttons.map(e=>(e.size="large",e.color=e.color||"primary",e.visible=!0,e.styleClass="full-width-ion-btn",e.onClick||(e.onClick=async()=>{await i["X"].dismiss({action:e.name})}),e))}}});const b=l()(g,[["render",h]]);var _=b,k=Object(a["defineComponent"])({components:{ActionHeader:p,ActionFooter:_},props:{title:{type:String,required:!0},subtitle:{type:String},actionButtons:{type:Object,required:!0},color:{type:String}}});const v=k;t["a"]=v},9283:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("5a0c"),c=n.n(a);const o="YYYY-MM-DD",r="DD/MMM/YYYY";function i(){return sessionStorage.getItem("sessionDate")||c()().format(o)}function s(){return c()().format(r)}function u(){return c()().format(o)}function l(e,t){return c()(e).diff(t,"days")}function d(e){return c()().diff(e,"years")}function p(e){return c()(e).format("HH:mm")}function m(e){const t=c()(e).format(r);return t.match(/invalid/i)?"":t}function h(e){const t=c()(e).format(o);return t.match(/invalid/i)?"":t}function f(e){const t=c()(i()).subtract(e,"years");return t.format(o)}function g(e){return c()(i()).subtract(e,"years").year()}function b(e){return c()(e).year()}function _(e){return c()(e).format("MMM")}function k(e){return c()(e).date()}function v(e,t,n){return c()(e).add(n,t)}function O(e,t,n){return c()(e).subtract(n,t)}function y(){return c()().year()}function j(e,t){const n=new Date(e);return n.setDate(n.getDate()-t),h(n)}function I(e){const[t]=f(e).split("-");return parseInt(t)}function T(e,t=-1,n=-1){let a=t.toString(),c=n.toString(),o=e;const r=e=>e.toString().match(/Unknown/i);return parseInt(o.toString())<1900&&(o="1900"),t&&!r(t)||(a="07"),n&&!r(n)||(c="15"),h(`${o}-${a}-${c}`)}t["b"]={currentDate:u,getYearOfAge:I,getYear:b,dateDiffInDays:l,getAgeInYears:d,toStandardHisTimeFormat:p,toStandardHisDisplayFormat:m,currentDisplayDate:s,stitchDate:T,toStandardHisFormat:h,estimateDateFromAge:f,getYearFromAge:g,getCurrentYear:y,getDateBeforeByDays:j,getMonth:_,getDay:k,add:v,subtract:O}},"92c1":function(e,t,n){"use strict";var a=n("7a23");function c(e,t,n,c,o,r){var i=Object(a["resolveComponent"])("ion-col"),s=Object(a["resolveComponent"])("ion-row"),u=Object(a["resolveComponent"])("ion-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.computedItems,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:n,size:e.grid[e.numberOfColumns]},{default:Object(a["withCtx"])((function(){return[Object(a["renderSlot"])(e.$slots,"default",{entries:t})]})),_:2},1032,["size"])})),128))]})),_:1})]})),_:1})}n("a9e3");var o=n("8a30"),r=n("2ef0"),i=Object(a["defineComponent"])({name:"MultiColumnView",components:{IonGrid:o["p"],IonRow:o["H"],IonCol:o["m"]},props:{items:{type:Object,required:!0},numberOfColumns:{type:Number,default:1}},setup:function(e){var t={1:12,2:6,3:4,4:3,6:2},n=Object(a["computed"])((function(){return Object(r["chunk"])(e.items,Math.ceil(e.items.length/e.numberOfColumns))}));return{computedItems:n,grid:t}}}),s=n("6b0d"),u=n.n(s);const l=u()(i,[["render",c]]);t["a"]=l},"95a0":function(e,t,n){"use strict";n("cf71")},"97c1":function(e,t,n){"use strict";n("482c")},"985a":function(e,t,n){"use strict";n("177d")},"9b7c":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("b85c"),c=n("2909"),o=n("1da1"),r=n("5530"),i=n("d4ec"),s=n("bee2"),u=n("45eb"),l=n("7e84"),d=n("262e"),p=n("2caf"),m=(n("96cf"),n("d81d"),n("d3b7"),n("4de4"),n("99af"),n("3ca3"),n("ddb0"),n("ac1f"),n("466d"),n("b0c0"),n("25f0"),n("5319"),n("1c74")),h=n("9283"),f=n("8158"),g=n("7957"),b=n("2ef0"),_=n("5a0c"),k=n.n(_),v=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(i["a"])(this,n),t.call(this)}return Object(s["a"])(n,null,[{key:"create",value:function(e){return Object(u["a"])(Object(l["a"])(n),"postJson",this).call(this,"/lab/orders",e)}},{key:"getOrders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u["a"])(Object(l["a"])(n),"getJson",this).call(this,"/lab/orders",Object(r["a"])({patient_id:e},t))}},{key:"getOrdersIncludingGivenResultStatus",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.getOrders(t,n);case 3:return a=e.sent.map(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(r["a"])(Object(r["a"])({},t),{},{result_given:!1}),a=t.tests.filter((function(e){return null!=e.result})).map((function(e){return e.result})).reduce((function(e,t){return[].concat(Object(c["a"])(e),Object(c["a"])(t))}),[]).reduce((function(e,t){return t.id}),null),e.prev=2,a){e.next=7;break}e.t0="N/A",e.next=12;break;case 7:return e.next=9,g["a"].get(a);case 9:return e.next=11,e.sent.children.reduce(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].getConceptID("Result Given to Client");case 2:if(e.t1=e.sent,e.t2=n.concept_id,e.t0=e.t1===e.t2,!e.t0){e.next=10;break}return e.next=8,f["a"].getConceptName(n.value_coded);case 8:e.t3=e.sent,e.t0="Yes"===e.t3;case 10:if(!e.t0){e.next=14;break}e.t4="Yes",e.next=15;break;case 14:e.t4=t;case 15:return e.abrupt("return",e.t4);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),"No");case 11:e.t0=e.sent;case 12:n["result_given"]=e.t0,e.next=18;break;case 15:e.prev=15,e.t1=e["catch"](2),console.error(e.t1);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTestTypes",value:function(){return Object(u["a"])(Object(l["a"])(n),"getJson",this).call(this,"/lab/test_types")}},{key:"getTestTypesBySpecimen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(u["a"])(Object(l["a"])(n),"getJson",this).call(this,"/lab/test_types",{specimen_type:e})}},{key:"getSpecimens",value:function(e){return Object(u["a"])(Object(l["a"])(n),"getJson",this).call(this,"/lab/specimen_types",{test_type:e})}},{key:"getViralLoadOrders",value:function(e){return e.filter((function(e){try{var t=e.tests[0].result;return!!Array.isArray(t)&&(e.tests.length>0&&e.tests[0].result.length>0)}catch(n){console.log(n)}}))}},{key:"getLatestMalariaTestResult",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,c,o,r,i,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:this.getSessionDate(),e.next=3,this.getOrders(t);case 3:if(c=e.sent,o=k()(n).subtract(7,"day"),r=c.filter((function(e){var t,n=Object(a["a"])(e.tests);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(!Object(b["isEmpty"])(c.result)&&c.name.match(/Malaria/i)&&k()(e.order_date).isAfter(o))return!0}}catch(r){n.e(r)}finally{n.f()}return!1})),!(r.length>0)){e.next=9;break}return i=r[0].tests.some((function(e){return e.result.some((function(e){return e.value.toString().match(/negative|no/i)}))})),e.abrupt("return",i?"Negative":"Positive");case 9:return e.abrupt("return","No");case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isDBSResult",value:function(e){return e.match(/DBS/i)}},{key:"isValidVLResult",value:function(e,t,n){return this.isDBSResult(e)?t.match(/</)&&n.match(/ldl|400|550|839/i)||t.match(/=/)&&parseFloat(n)>=400||">"!==t:t.match(/</)&&n.match(/ldl|20|40|150/i)||t.match(/=/)&&parseFloat(n)>=20}},{key:"isHighViralLoadResult",value:function(e){return"="===e.value_modifier&&parseFloat(e.value)>=1e3||(("<"===e.value_modifier||"&lt"===e.value_modifier)&&parseFloat(e.value)>1e3||(">"===e.value_modifier||"&gt"===e.value_modifier)&&(parseFloat(e.value)>=1e3||"LDL"=="".concat(e.value).toUpperCase().replace(/\s+/g,"")))}},{key:"formatLabs",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var a=e[n].accession_number,c="Unknown"==e[n].specimen.name?"N/A":e[n].specimen.name,o=e[n].order_date,r=e[n].tests,i=0;i<r.length;i++){for(var s=r[i].result?r[i].result:[],u=[],l=[],d="",p=0;p<s.length;p++){d=null===s[p].date?"":"".concat(s[p].date);var m=s[p].indicator.name,f=s[p].value,g=s[p].value_modifier.replace("&lt;","<").replace("&gt;",">");u.push(m+"   "+g+f),l.push(s[p].id)}t.push({encounter_id:e[n].encounter_id,order_id:e[n].order_id,result_given:e[n]["result_given"]||"N/A",accession_number:a,test_name:r[i].name,specimen:c,ordered:o?h["b"].toStandardHisFormat(o):"",result:u,resultIds:l,released:d?h["b"].toStandardHisFormat(d):""})}return t}},{key:"buildLabOrders",value:function(e,t){var a=this;return t.map((function(t){var c=f["a"].getCachedConceptID(t.reason,!0),o={encounter_id:e.encounter_id,tests:[{concept_id:t.concept_id}],reason_for_test_id:c,target_lab:Object(u["a"])(Object(l["a"])(n),"getLocationName",a).call(a),date:h["b"].toStandardHisFormat(Object(u["a"])(Object(l["a"])(n),"getSessionDate",a).call(a)),requesting_clinician:Object(u["a"])(Object(l["a"])(n),"getUserName",a).call(a)};return t.specimenConcept&&(o["specimen"]={concept_id:t.specimenConcept}),o}))}},{key:"saveOrdersArray",value:function(e,t){return this.create({encounter_id:e,orders:t})}}]),n}(m["e"])},"9c73":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("15fd"),c=n("5530"),o=n("1da1"),r=n("d4ec"),i=n("bee2"),s=n("262e"),u=n("2caf"),l=(n("96cf"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("159b"),n("cc6f")),d=n("9b7c"),p=n("b89f"),m=["name"],h=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e){return Object(r["a"])(this,n),t.call(this,e,57)}return Object(i["a"])(n,[{key:"getOrders",value:function(e){return d["a"].getOrders(this.patientID,{status:e})}},{key:"voidOrder",value:function(e,t){return d["a"].void("lab/orders/".concat(e),{reason:t})}},{key:"updateOrderSpecimen",value:function(e,t){return d["a"].putJson("lab/orders/".concat(e),{specimen:{concept_id:t}})}},{key:"printSpecimenLabel",value:function(e){return(new p["a"]).printLbl("lab/labels/order?order_id=".concat(e))}},{key:"placeOrder",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.createEncounter();case 3:if(a=e.sent,a){e.next=6;break}throw"Unable to create encounter";case 6:return o=Object(c["a"])({encounter_id:a.encounter_id,date:this.date},t),o.requesting_clinician||(o["requesting_clinician"]=d["a"].getUserName()),n=t.combine_tests?[o]:o.tests.map((function(e){var t=Object(c["a"])({},o);return t.tests=[e],t})),e.abrupt("return",d["a"].postJson("lab/orders",{orders:n}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"getSpecimensForTests",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return d["a"].getSpecimens(e.name)})));case 2:return n=e.sent,e.abrupt("return",this.getCommonSpecimens(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCommonSpecimens",value:function(e){var t={},n=[];for(var o in e.forEach((function(e){e.forEach((function(e){var n=e.name,o=Object(a["a"])(e,m),r=Object(c["a"])({name:n},o);t[n]?t[n].push(r):t[n]=[r]}))})),t)t[o].length>=e.length&&n.push(t[o][0]);return n}}]),n}(l["a"])},"9ceb":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n("9283"),c=n("0011"),o=n("25da"),r=n("2ef0");function i(e){return"string"!==typeof e?e:e.replace(/,/gi," ").trim()}function s(e,t){const n=[],a=[];for(const c in t){const a=[];t[c].forEach((t,n)=>{const c=e[e.length-1][n];"exportable"in c&&c.exportable&&a.push(t.value?i(t.value):i(t.td))}),n.push(a)}for(const c in e){const t=[];e[c].forEach(e=>{e.exportable&&t.push(e.value?i(e.value):i(e.th))}),Object(r["isEmpty"])(t)||a.push(t)}return{columns:a,rows:n}}function u(e){const t={th:()=>e.th?e.th:"",td:()=>e.td?e.td:"",value:()=>e.value?e.value:"",sortValue:()=>e.sortValue?e.sortValue:0,type(){return e.type?e.type:"string"},exportable(){return!("exportable"in e)||e.exportable},sortable(){return!("sortable"in e)||e.sortable},colspan(){return e.colspan?e.colspan:0},cssClass(){return e.cssClass?e.cssClass:0},style(){return e.style?e.style:0},ascSort(){return e.ascSort?e.ascSort:(e,t)=>Object(o["a"])(t).asc(t=>{var n,a;return(null===(n=t[e])||void 0===n?void 0:n.sortValue)||(null===(a=t[e])||void 0===a?void 0:a.td)})},descSort(){return e.descSort?e.descSort:(e,t)=>Object(o["a"])(t).desc(t=>{var n,a;return(null===(n=t[e])||void 0===n?void 0:n.sortValue)||(null===(a=t[e])||void 0===a?void 0:a.td)})}},n={};for(const a in t)n[a]=t[a]();return n}function l(e,t={}){const n=t;return n.th=e,n.type="string",u(n)}function d(e,t={}){const n=t;return n.th=e,n.type="date",u(n)}function p(e,t={}){const n=t;return n.th=e,n.type="number",u(n)}function m(e,t={}){const n={...t};return n.td=Object(c["f"])(e),n.sortValue=parseInt(""+e),u(n)}function h(e,t={}){const n=t;return n.td=e?a["b"].toStandardHisDisplayFormat(e):"",u(n)}function f(e,t={}){return{td:e,...t}}function g(e,t,n={}){return{td:e,event:{click:t,obj:"link"},...n}}function b(e,t,n={},a=""){const c={td:e,event:{click:t,color:a,obj:"button"}};return n.event&&(c.event={...c.event,...n.event},delete n.event),Object.assign(c,n)}t["a"]={thTxt:l,thNum:p,thDate:d,tdNum:m,td:f,tdBtn:b,tdDate:h,tdLink:g}},"9e49":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("1da1"),c=n("d4ec"),o=n("bee2"),r=n("262e"),i=n("2caf"),s=(n("96cf"),n("ac1f"),n("466d"),n("99af"),n("cc6f")),u=n("1c74"),l=n("b89f"),d=function(e){Object(r["a"])(n,e);var t=Object(i["a"])(n);function n(e,a){var o;return Object(c["a"])(this,n),o=t.call(this,e,32,a),o.hivStatus="",o.artStatus="",o.arvNumber="",o.arvStartDate="",o.isPregnancyTestDone=!1,o.isSubsequentVisit=!1,o}return Object(o["a"])(n,[{key:"getHivStatus",value:function(){return this.hivStatus}},{key:"getArtStatus",value:function(){return this.artStatus}},{key:"getArvNumber",value:function(){return this.arvNumber}},{key:"getArvStartDate",value:function(){return this.arvStartDate}},{key:"isHivPositive",value:function(){return!!this.hivStatus.match(/positive/i)}},{key:"isAtRiskOfPreEclampsia",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getFirstValueNumber(this.patientID,"Systolic blood pressure");case 2:return t=e.sent,e.next=5,s["a"].getFirstValueNumber(this.patientID,"Diastolic blood pressure");case 5:return n=e.sent,e.abrupt("return",t&&n&&t>=140&&n>=90);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadSubsequentVisit",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["e"].getJson("programs/".concat(this.programID,"/patients/").concat(this.patientID,"/subsequent_visit"));case 2:if(t=e.sent,!t){e.next=12;break}if(this.hivStatus=t["hiv_status"],this.hivStatus){e.next=10;break}return e.next=8,this.getFirstValueCoded("HIV status");case 8:n=e.sent,this.hivStatus="".concat(n).match(/positive/i)?"Positive":"";case 10:this.isSubsequentVisit=t["subsequent_visit"],this.isPregnancyTestDone=t["pregnancy_test"];case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"printLabResults",value:function(){return(new l["a"]).printLbl("/programs/".concat(this.programID,"/patients/").concat(this.patientID,"/labels/lab_results?date=").concat(this.date))}},{key:"loadArtStatus",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["e"].getJson("programs/".concat(this.programID,"/patients/").concat(this.patientID,"/art_hiv_status"));case 2:t=e.sent,t&&(this.hivStatus=t["hiv_status"]||this.hivStatus,this.artStatus=t["art_status"]||"",this.arvNumber=t["arv_number"]||"",this.arvStartDate=t["arv_start_date"]||"");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(s["a"])},a3a5:function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),c={key:0},o={key:0},r={key:1},i={key:1},s={key:2};function u(e,t,n,u,l,d){var p=Object(a["resolveComponent"])("ion-button");return Object(a["openBlock"])(),Object(a["createBlock"])("table",{class:["his-md-text",e.classStyles]},[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.columns,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("th",{key:t},Object(a["toDisplayString"])(e),1)})),128))]),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.rows,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:n},[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(function(u,l){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{class:e.getColorCodeClass(n,l),key:l},[e.isLink(u)?(Object(a["openBlock"])(),Object(a["createBlock"])("div",c,[u.isActive?(Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("a",{href:"#",onClick:Object(a["withModifiers"])((function(e){return u.action(t)}),["prevent"])},Object(a["toDisplayString"])(u.value),9,["onClick"])])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",r,Object(a["toDisplayString"])(u.value),1))])):e.isActionButton(u)?(Object(a["openBlock"])(),Object(a["createBlock"])("div",i,[Object(a["createVNode"])(p,{color:(null===u||void 0===u?void 0:u.color)||"primary",style:u.style,onClick:function(e){return u.action(t)}},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(u.name),1)]})),_:2},1032,["color","style","onClick"])])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[Object(a["createVNode"])("span",{innerHTML:u},null,8,["innerHTML"])]))],2)})),128))])})),128))],2)}var l=n("53ca"),d=(n("a15b"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("2ef0")),p=n("8a30"),m=Object(a["defineComponent"])({components:{IonButton:p["d"]},props:{styles:{type:Array},rowColors:{type:Array,default:function(){return[]}},cellColors:{type:Array,default:function(){return[]}},columns:{type:Object,required:!0},rows:{type:Object}},computed:{classStyles:function(){var e=this.styles?this.styles.join(" "):"";return"his-table ".concat(e)}},methods:{isLink:function(e){try{return"object"===Object(l["a"])(e)&&"link"===e.type}catch(t){return e}},isActionButton:function(e){try{return"object"===Object(l["a"])(e)&&"button"===e.type}catch(t){return e}},getColorCodeClass:function(e,t){var n="";if(!Object(d["isEmpty"])(this.rowColors)){var a=this.rowColors.filter((function(t){return t.indexes.includes(e)}));Object(d["isEmpty"])(a)||(n+=" "+a[0].class)}if(!Object(d["isEmpty"])(this.cellColors)){var c=this.cellColors.filter((function(n){return n.index===t&&n.row===e}));Object(d["isEmpty"])(c)||(n+=" "+c[0].class)}return n}}}),h=n("6b0d"),f=n.n(h);const g=f()(m,[["render",u]]);t["a"]=g},aa55:function(e,t,n){var a={"./ion-action-sheet.entry.js":["6618","chunk-504c4825"],"./ion-alert.entry.js":["f06c","chunk-008cd3d6"],"./ion-app_8.entry.js":["c215","chunk-34f7327c"],"./ion-avatar_3.entry.js":["cf12","chunk-59d4c87c"],"./ion-back-button.entry.js":["4b35","chunk-69eb8776"],"./ion-backdrop.entry.js":["429d","chunk-2d0c073f"],"./ion-button_2.entry.js":["4453","chunk-25d83ca8"],"./ion-card_5.entry.js":["070b","chunk-541ea42d"],"./ion-checkbox.entry.js":["dfd8","chunk-09162720"],"./ion-chip.entry.js":["430d","chunk-09155df3"],"./ion-col_3.entry.js":["6a8a","chunk-2d0da04a"],"./ion-datetime_3.entry.js":["c15b","chunk-21a76241"],"./ion-fab_3.entry.js":["dd47","chunk-3ed29de3"],"./ion-img.entry.js":["9588","chunk-2d0e5812"],"./ion-infinite-scroll_2.entry.js":["d1e5","chunk-2d21da73"],"./ion-input.entry.js":["d111","chunk-37f2300e"],"./ion-item-option_3.entry.js":["1bb3d","chunk-b14c2520"],"./ion-item_8.entry.js":["69da","chunk-5a8ac886"],"./ion-loading.entry.js":["53a5","chunk-6d375f34"],"./ion-menu_3.entry.js":["cb00","chunk-097e0872"],"./ion-modal.entry.js":["1ad0","chunk-f858ef4e"],"./ion-nav_2.entry.js":["e44f","chunk-c53d26f0"],"./ion-popover.entry.js":["4285","chunk-1f3fa45a"],"./ion-progress-bar.entry.js":["9b72","chunk-1dbc15a2"],"./ion-radio_2.entry.js":["beb3","chunk-0e93a01c"],"./ion-range.entry.js":["719f","chunk-54bbd082"],"./ion-refresher_2.entry.js":["0a47","chunk-d8413eac"],"./ion-reorder_2.entry.js":["6672","chunk-d0e8aa0a"],"./ion-ripple-effect.entry.js":["c8da","chunk-2d218068"],"./ion-route_4.entry.js":["10e8","chunk-858cd918"],"./ion-searchbar.entry.js":["8625","chunk-a9395c36"],"./ion-segment_2.entry.js":["0c02","chunk-462c869e"],"./ion-select_3.entry.js":["d25f","chunk-79f1dac7"],"./ion-slide_2.entry.js":["05dd","chunk-2d0a463b"],"./ion-spinner.entry.js":["e11b","chunk-8bb7f81e"],"./ion-split-pane.entry.js":["aae8","chunk-2d213189"],"./ion-tab-bar_2.entry.js":["a2bb","chunk-02c995b5"],"./ion-tab_2.entry.js":["6725","chunk-c567cc2a"],"./ion-text.entry.js":["ed3b","chunk-30dd9750"],"./ion-textarea.entry.js":["8798","chunk-eaa2b130"],"./ion-toast.entry.js":["c1a5","chunk-41c0f7a4"],"./ion-toggle.entry.js":["bef2","chunk-7548ca2d"],"./ion-virtual-scroll.entry.js":["5fd7","chunk-2d0d43da"]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id="aa55",e.exports=c},ad49:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static async get(e){try{const t=await super.getJson("global_properties",{property:e});if(t&&e in t)return t[e]}catch(t){console.error(t)}}static async isProp(e){try{const[t,n]=e.split("="),a=await this.get(t);if(a)return n===a}catch(t){console.error(t)}return!1}static set(e,t){return super.postJson("global_properties",{property:e,property_value:t})}}},ad60:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("1c74"),c=n("2b3a"),o=n("8a30");class r extends a["e"]{constructor(){super()}static getAllPrograms(){return super.getJson("programs",{page_size:1e3})}static getPatientPrograms(e){return super.getJson(`patients/${e}/programs`)}static getPatientVLInfo(e){const t=super.getProgramID();return super.getJson(`programs/${t}/patients/${e}/vl_info`,{date:this.getSessionDate()})}static getProgramWorkflows(e){return super.getJson(`programs/${e}/workflows`)}static getPatientStates(e,t){return super.getJson(`programs/${t}/patients/${e}/states`)}static voidProgram(e,t=""){return super.void(`patient_programs/${e}/`,{reason:t})}static createState(e,t,n){return super.postJson(`programs/${t}/patients/${e}/states`,n)}static voidState(e,t,n,a=""){return super.void(`programs/${t}/patients/${e}/states/${n}`,{reason:a})}static async getProgramInformation(e){try{const t=await super.getJson(`/programs/${super.getProgramID()}/patients/${e}`);return t}catch(t){return{}}}static getCurrentProgramInformation(e,t){return super.getJson(`/programs/${super.getProgramID()}/patients/${e}/visit?date=${t}`)}static getMastercardDrugInformation(e,t){return super.getJson(`/programs/${super.getProgramID()}/patients/${e}/mastercard_data?date=${t}`)}static getNextTask(e){return super.getJson(`/workflows/${super.getProgramID()}/${e}`,{date:super.getSessionDate()})}static getNextSuggestedARVNumber(){return super.getJson("/programs/1/next_available_arv_number")}static getFastTrackStatus(e){return super.getJson("/on_fast_track",{person_id:e,date:super.getSessionDate()})}static createPatient(e){return super.postJson("/patients/",{program_id:super.getProgramID(),person_id:e})}static enrollPatient(e){return super.postJson(`/patients/${e}/programs`,{program_id:super.getProgramID(),date_enrolled:super.getSessionDate()})}static enrollProgram(e,t,n){return super.postJson(`/patients/${e}/programs`,{program_id:t,date_enrolled:n})}static getWeightForHeightValues(){return super.getJson("/patient_weight_for_height_values")}static async selectApplication(){const e=await o["X"].create({component:c["a"],cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{appVersion:a["e"].getFullVersion()}});return e.present(),e}}},aee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("1da1"),c=n("d4ec"),o=n("bee2"),r=(n("96cf"),n("d3b7"),n("b64b"),n("159b"),n("ac1f"),n("1276"),n("5319"),function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getBMIData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/bmi.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBMIResult",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var c,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c={result:"",color:"",index:a},!(a<=0)){e.next=4;break}return c.index=0,e.abrupt("return",c);case 4:if(!(n<5&&n>0)){e.next=9;break}c.result="Use MUAC to calculate nutrition status",c.color="red",e.next=15;break;case 9:return n>18&&(n=19),e.next=12,this.getBMIData();case 12:o=e.sent,r=o[t][n],r&&(c=this.buildBounds(Object.keys(r),r,a,o.colors));case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"buildBounds",value:function(e,t,n,a){var c={result:"",color:"",index:n};return e.forEach((function(e){if(e.indexOf("-")>=0){var o=e.split("-");n>=parseFloat(o[0])&&n<=parseFloat(o[1])&&(c.result=t[e],c.color=a[t[e]])}else if(e.indexOf("<")>=0){var r=e.replace("<","");n<parseFloat(r)&&(c.result=t[e],c.color=a[t[e]])}else if(e.indexOf(">=")>=0){var i=e.replace(">=","");n>=parseFloat(i)&&(c.result=t[e],c.color=a[t[e]])}})),c}},{key:"getBMI",value:function(e,t,n,a){var c=this.calculateBMI(e,t);return this.getBMIResult(n,a,c)}},{key:"calculateBMI",value:function(e,t){if(0==t||0==e)return 0;var n=e/t/t*1e4;return Math.round(10*n)/10}}]),e}())},afbc:function(e,t,n){"use strict";var a=n("9f0e"),c=n("7a23");const o=Object(c["withScopeId"])("data-v-67f45f59");Object(c["pushScopeId"])("data-v-67f45f59");const r=Object(c["createVNode"])("p",null,"Click Here",-1),i=Object(c["createVNode"])("p",null,"To Scan QR code Or Barcode",-1),s=Object(c["createVNode"])("p",null," using Camera",-1),u={class:"tool-bar-medium-card"},l={class:"his-sm-text tool-bar-medium-content"},d=Object(c["createTextVNode"])("Facility name: "),p=Object(c["createTextVNode"])(),m=Object(c["createVNode"])("br",null,null,-1),h=Object(c["createTextVNode"])("Location: "),f=Object(c["createVNode"])("br",null,null,-1),g=Object(c["createTextVNode"])("User: "),b=Object(c["createTextVNode"])(" | Date: "),_=Object(c["createVNode"])("br",null,null,-1),k=Object(c["createTextVNode"])(" Overview "),v=Object(c["createTextVNode"])(" Reports "),O=Object(c["createTextVNode"])(" Administration "),y=Object(c["createTextVNode"])(" Alerts "),j={key:0},I={key:0,id:"container",class:"his-card overview"},T={key:0},N=Object(c["createTextVNode"])(" Logout "),E=Object(c["createTextVNode"])(" Find By "),w=Object(c["createTextVNode"])(" Find or Register "),D=Object(c["createTextVNode"])(" Applications ");Object(c["popScopeId"])();const C=o((function(e,t,n,a,C,S){const A=Object(c["resolveComponent"])("ion-title"),P=Object(c["resolveComponent"])("ion-thumbnail"),F=Object(c["resolveComponent"])("ion-buttons"),R=Object(c["resolveComponent"])("ion-toolbar"),x=Object(c["resolveComponent"])("ion-col"),V=Object(c["resolveComponent"])("ion-row"),L=Object(c["resolveComponent"])("ion-label"),B=Object(c["resolveComponent"])("program-icon"),H=Object(c["resolveComponent"])("ion-header"),M=Object(c["resolveComponent"])("ion-icon"),U=Object(c["resolveComponent"])("ion-segment-button"),G=Object(c["resolveComponent"])("ion-segment"),$=Object(c["resolveComponent"])("home-folder"),J=Object(c["resolveComponent"])("home-notification"),z=Object(c["resolveComponent"])("ion-content"),Y=Object(c["resolveComponent"])("ion-button"),W=Object(c["resolveComponent"])("ion-footer"),q=Object(c["resolveComponent"])("ion-page");return Object(c["openBlock"])(),Object(c["createBlock"])(q,null,{default:o(()=>[Object(c["createVNode"])(H,{translucent:!0},{default:o(()=>[Object(c["createVNode"])(R,{class:"mobile-component-view"},{default:o(()=>[Object(c["createVNode"])(A,null,{default:o(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.facilityName),1)]),_:1}),Object(c["createVNode"])(F,{slot:"end"},{default:o(()=>[Object(c["createVNode"])(P,null,{default:o(()=>[Object(c["createVNode"])("img",{src:e.appLogo,class:"logo",alt:"App Logo"},null,8,["src"])]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(R,{class:"full-component-view"},{default:o(()=>[Object(c["createVNode"])(V,null,{default:o(()=>[Object(c["createVNode"])(x,null,{default:o(()=>[Object(c["createVNode"])("div",{class:"tool-bar-medium-card",onClick:t[2]||(t[2]=(...t)=>e.openCamera(...t))},[Object(c["createVNode"])(V,null,{default:o(()=>[Object(c["createVNode"])(x,{"size-lg":"5","size-sm":"4"},{default:o(()=>[Object(c["createVNode"])("img",{style:{width:"230px",height:"90px",margin:"0"},src:e.barcodeLogo},null,8,["src"])]),_:1}),e.useVirtualInput?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(x,{key:0,"size-lg":"7","size-sm":"8"},{default:o(()=>[Object(c["withDirectives"])(Object(c["createVNode"])("input",{readonly:e.useVirtualInput,"onUpdate:modelValue":t[1]||(t[1]=t=>e.patientBarcode=t),class:"barcode-input",ref:"scanBarcode"},null,8,["readonly"]),[[c["vModelText"],e.patientBarcode]])]),_:1})),e.useVirtualInput?(Object(c["openBlock"])(),Object(c["createBlock"])(x,{key:1,"size-lg":"6","size-sm":"6",style:{"text-align":"center",margin:"auto","line-height":"1.2"}},{default:o(()=>[r,i,s]),_:1})):Object(c["createCommentVNode"])("",!0)]),_:1})])]),_:1}),Object(c["createVNode"])(x,{size:"5"},{default:o(()=>[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",l,[Object(c["createVNode"])("span",null,[d,Object(c["createVNode"])("b",null,Object(c["toDisplayString"])(e.facilityName),1)]),p,m,Object(c["createVNode"])("span",null,[h,Object(c["createVNode"])("b",null,Object(c["toDisplayString"])(e.userLocation),1)]),f,Object(c["createVNode"])("span",null,[g,Object(c["createVNode"])("b",null,Object(c["toDisplayString"])(e.userName),1),b,Object(c["createVNode"])(L,{color:e.isBDE?"danger":"success"},{default:o(()=>[Object(c["createVNode"])("b",null,Object(c["toDisplayString"])(e.sessionDate),1)]),_:1},8,["color"])]),_])])]),_:1}),Object(c["createVNode"])(x,{size:"3"},{default:o(()=>[Object(c["createVNode"])(B,{icon:e.appLogo,version:e.appVersion},null,8,["icon","version"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(R,null,{default:o(()=>[Object(c["createVNode"])(G,{scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:o(()=>[Object(c["createVNode"])(U,{value:1,onClick:t[3]||(t[3]=t=>e.onSegmentClick(1))},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.statsChart},null,8,["icon"]),Object(c["createVNode"])(L,{class:"his-sm-text"},{default:o(()=>[k]),_:1})]),_:1}),e.canReport?(Object(c["openBlock"])(),Object(c["createBlock"])(U,{key:0,value:2,onClick:t[4]||(t[4]=t=>e.onSegmentClick(2))},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.pieChart},null,8,["icon"]),Object(c["createVNode"])(L,{class:"his-sm-text"},{default:o(()=>[e.showSegmentBackArrow&&2===e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])(M,{key:0,icon:e.arrowBack},null,8,["icon"])):Object(c["createCommentVNode"])("",!0),v]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(U,{value:3,onClick:t[5]||(t[5]=t=>e.onSegmentClick(3))},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.settings},null,8,["icon"]),Object(c["createVNode"])(L,{class:"his-sm-text"},{default:o(()=>[e.showSegmentBackArrow&&3===e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])(M,{key:0,icon:e.arrowBack},null,8,["icon"])):Object(c["createCommentVNode"])("",!0),O]),_:1})]),_:1}),Object(c["createVNode"])(U,{value:4,onClick:t[6]||(t[6]=t=>e.onSegmentClick(4))},{default:o(()=>[Object(c["createVNode"])(M,{color:e.hasUnreadNotifications?"danger":"",icon:e.notifications},null,8,["color","icon"]),Object(c["createVNode"])(L,{color:e.hasUnreadNotifications?"danger":"",class:"his-sm-text"},{default:o(()=>[y,e.hasUnreadNotifications?(Object(c["openBlock"])(),Object(c["createBlock"])("b",j,"("+Object(c["toDisplayString"])(e.notificationCount)+")",1)):Object(c["createCommentVNode"])("",!0)]),_:1},8,["color"])]),_:1})]),_:1},8,["value"])]),_:1}),Object(c["createVNode"])(z,{fullscreen:!0},{default:o(()=>[e.ready?(Object(c["openBlock"])(),Object(c["createBlock"])("div",I,[Object(c["withDirectives"])(Object(c["createVNode"])("div",null,[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(e.appOverview)))],512),[[c["vShow"],1==e.activeTab]]),Object(c["withDirectives"])(Object(c["createVNode"])("div",null,[Object(c["createVNode"])($,{onOnSublist:t[7]||(t[7]=t=>e.showSegmentBackArrow=!0),items:e.appReports,resetList:e.resetReport},null,8,["items","resetList"])],512),[[c["vShow"],2==e.activeTab]]),Object(c["withDirectives"])(Object(c["createVNode"])("div",null,[Object(c["createVNode"])($,{onOnSublist:t[8]||(t[8]=t=>e.showSegmentBackArrow=!0),items:e.app.globalPropertySettings,resetList:e.resetAdmin},null,8,["items","resetList"])],512),[[c["vShow"],3==e.activeTab]]),4==e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])("div",T,[Object(c["createVNode"])(J)])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(W,null,{default:o(()=>[Object(c["createVNode"])(R,null,{default:o(()=>[Object(c["createVNode"])(V,null,{default:o(()=>[Object(c["createVNode"])(x,null,{default:o(()=>[Object(c["createVNode"])(Y,{class:"xl-button mobile-component-view",color:"danger",onClick:e.signOut},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.logOut},null,8,["icon"])]),_:1},8,["onClick"]),Object(c["createVNode"])(Y,{class:"xl-button full-component-view",color:"danger",size:"large",onClick:e.signOut},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.logOut},null,8,["icon"]),Object(c["createVNode"])(L,null,{default:o(()=>[N]),_:1})]),_:1},8,["onClick"])]),_:1}),Object(c["createVNode"])(x,null,{default:o(()=>[e.canFindByIdentifier?(Object(c["openBlock"])(),Object(c["createBlock"])(Y,{key:0,class:"xl-button mobile-component-view",color:"primary","router-link":"/patients/search/id"},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.search},null,8,["icon"])]),_:1})):Object(c["createCommentVNode"])("",!0),e.canFindByIdentifier?(Object(c["openBlock"])(),Object(c["createBlock"])(Y,{key:1,class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patients/search/id"},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.search},null,8,["icon"]),Object(c["createVNode"])(L,null,{default:o(()=>[E]),_:1})]),_:1})):Object(c["createCommentVNode"])("",!0)]),_:1}),Object(c["createVNode"])(x,null,{default:o(()=>[Object(c["createVNode"])(Y,{class:"xl-button mobile-component-view",color:"success","router-link":"/patient/registration"},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.person},null,8,["icon"])]),_:1}),Object(c["createVNode"])(Y,{class:"xl-button full-component-view",color:"success",size:"large","router-link":"/patient/registration"},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.person},null,8,["icon"]),Object(c["createVNode"])(L,null,{default:o(()=>[w]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(x,null,{default:o(()=>[Object(c["createVNode"])(Y,{class:"xl-button mobile-component-view",color:"primary",onClick:e.openModal},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.apps},null,8,["icon"])]),_:1},8,["onClick"]),Object(c["createVNode"])(Y,{class:"xl-button full-component-view",color:"primary",size:"large",onClick:e.openModal},{default:o(()=>[Object(c["createVNode"])(M,{icon:e.apps},null,8,["icon"]),Object(c["createVNode"])(L,null,{default:o(()=>[D]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}));n("5b81");var S=n("3e53"),A=n("ff79"),P=n("9283"),F=n("1c74"),R=n("89b4"),x=n("cc74"),V=n("3f31"),L=n("1718"),B=n("8a30"),H=n("2ed9"),M=n("b5e4"),U=n("8e8b"),G=Object(c["defineComponent"])({name:"Home",components:{IonTitle:B["P"],IonThumbnail:B["O"],IonIcon:B["r"],IonContent:B["n"],IonHeader:B["q"],IonPage:B["D"],IonButtons:B["e"],IonToolbar:B["Q"],IonRow:B["H"],IonCol:B["m"],IonButton:B["d"],IonFooter:B["o"],IonSegment:B["I"],IonSegmentButton:B["J"],IonLabel:B["x"],ProgramIcon:Object(c["defineAsyncComponent"])(()=>n.e("chunk-26c753d6").then(n.bind(null,"111c"))),HomeFolder:Object(c["defineAsyncComponent"])(()=>n.e("chunk-c92178e0").then(n.bind(null,"ce5d"))),HomeNotification:Object(c["defineAsyncComponent"])(()=>n.e("chunk-4bb39ca0").then(n.bind(null,"b61c")))},setup(){const{useVirtualInput:e}=Object(H["a"])(),{notificationData:t,notificationCount:n,hasUnreadNotifications:a}=Object(V["a"])();return{hasUnreadNotifications:a,notificationData:t,notificationCount:n,notifications:A["C"],barcode:A["i"],apps:A["c"],person:A["D"],search:A["I"],logOut:A["w"],statsChart:A["M"],pieChart:A["E"],arrowBack:A["e"],settings:A["L"],useVirtualInput:e}},data(){return{app:{},facilityName:"",userLocation:"",sessionDate:"",userName:"",appVersion:"",activeTab:1,ready:!1,patientBarcode:"",overviewComponent:{},isBDE:!1,showSegmentBackArrow:!1,resetReport:0,resetAdmin:0}},computed:{barcodeLogo(){return Object(L["a"])("barcode.svg")},appOverview(){return this.app.homeOverviewComponent},appLogo(){return Object(L["a"])(this.app.applicationIcon)},appReports(){return this.app.programReports?this.app.programReports:[]},appAdministration(){return this.app.globalPropertySettings?this.app.globalPropertySettings:[]},canFindByIdentifier(){return!!this.app.programPatientIdentifiers},canReport(){return!!this.app.programReports}},methods:{onSegmentClick(e){this.activeTab=e,2===this.activeTab?this.resetReport+=1:3===this.activeTab&&(this.resetAdmin+=1),this.showSegmentBackArrow=!1,U["a"].set("ACTIVE_HOME_TAB",this.activeTab)},async setLocation(){const e=await U["a"].get("CURRENT_LOCATION");this.facilityName=e.name,this.createSessionLocationName(e)},createSessionLocationName(e){sessionStorage.location=e.name,sessionStorage.locationName=e.name,sessionStorage.siteUUID=e.uuid},loadApplicationData(){this.ready=!0,this.isBDE=!0===F["e"].isBDE(),this.userLocation=sessionStorage.userLocation,this.userName=sessionStorage.username,this.setLocation(),this.sessionDate=P["b"].toStandardHisDisplayFormat(F["e"].getSessionDate()),this.appVersion=F["e"].getFullVersion()},async openModal(){const e=await S["a"].selectApplication("HomePage");e&&(this.app=e,this.activeTab=1,this.loadApplicationData())},checkForbarcode(){if(null!=this.patientBarcode.match(/.+\$$/i)){const e=this.patientBarcode.replaceAll(/\$/gi,"");this.patientBarcode="",this.$router.push("/patients/confirm?patient_barcode="+e)}},async signOut(){const e=await Object(M["a"])("Are you sure you want to logout ?");if(!e)return;const t=new R["a"];try{if(U["a"].invalidateAll(),await x["b"].portalEnabled()){const e=await x["b"].portalProperties();window.location=e}else this.$router.push("/login")}catch(n){console.warn(""+n)}t.clearSession()},openCamera(){this.useVirtualInput&&this.$router.push("/camera_scanner")}},async created(){this.activeTab=await U["a"].get("ACTIVE_HOME_TAB");const{loadNotifications:e}=Object(V["a"])();await e(),setInterval(()=>{const e=this.$refs.scanBarcode;e&&e.focus()},1500)},async mounted(){await S["a"].doAppManagementTasks();const e=S["a"].getActiveApp();e?(this.app=e,this.loadApplicationData()):this.openModal()},watch:{patientBarcode:function(){this.checkForbarcode()}}}),$=(n("656d"),n("6b0d")),J=n.n($);const z=J()(G,[["render",C],["__scopeId","data-v-67f45f59"]]);var Y=z,W=n("f768");const q=[...Object(W["a"])(),{path:"/",name:"Home",component:Y},{path:"/npid/duplicates/:npid",name:"NPID Duplicates",component:()=>n.e("chunk-2d0b66fc").then(n.bind(null,"1cc7"))},{name:"Merge rollback",path:"/merge/rollback/:id",component:()=>n.e("chunk-a279802a").then(n.bind(null,"8eed"))},{name:"View Duplicates",path:"/view_duplicates",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-2f0f0cc6")]).then(n.bind(null,"7bdc"))},{name:"Update site location",path:"/location/update/site",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-4620f548")]).then(n.bind(null,"07a9"))},{name:"Update site code",path:"/location/update/code",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-4621dc90")]).then(n.bind(null,"2867"))},{path:"/login",name:"Login",component:()=>n.e("chunk-1fc232e5").then(n.bind(null,"7101"))},{path:"/session/date",name:"Session Date",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-1c4f94a2")]).then(n.bind(null,"e8ff"))},{path:"/users/usage",name:"User system usage",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-612b2260")]).then(n.bind(null,"0964"))},{path:"/print/location",name:"Print Location",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-46239ead")]).then(n.bind(null,"6439"))},{path:"/select_hc_location",name:"HC Location",component:()=>n.e("chunk-dd0512cc").then(n.bind(null,"c85f"))},{path:"/patient/dashboard/:id",name:"Patient Dashboard",component:()=>Promise.all([n.e("chunk-c0d73ea8"),n.e("chunk-825b3146")]).then(n.bind(null,"5906"))},{path:"/patient/registration",name:"Patient Registration",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-625971b9"),n.e("chunk-2a009ab5")]).then(n.bind(null,"8d15"))},{path:"/guardian/registration/:patient_id",name:"Guardian Registration",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-625971b9"),n.e("chunk-03bca019")]).then(n.bind(null,"0a4b"))},{path:"/example",name:"Example",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-2d22ca72")]).then(n.bind(null,"f3c2"))},{path:"/patients/search/id",name:"ID Search",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-3c93bec2")]).then(n.bind(null,"4d5a"))},{path:"/patients/confirm",name:"Patient confirmation",component:()=>Promise.all([n.e("chunk-c0d73ea8"),n.e("chunk-48a72ea3")]).then(n.bind(null,"3171"))},{path:"/patients/merge",name:"Patient Merging",component:()=>n.e("chunk-4fce5913").then(n.bind(null,"7fcd"))},{path:"/patient/programs/:patient_id",name:"Program(s)",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-2a595470")]).then(n.bind(null,"357c"))},{path:"/preferences",name:"Preferences",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-462480cb")]).then(n.bind(null,"829a"))},{path:"/user",name:"User",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-7ca49a5f")]).then(n.bind(null,"5e8a"))},{path:"/settings/host",name:"API host settings",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-2d9a09c1")]).then(n.bind(null,"f49b"))},{path:"/lab/results/:patient_id",name:"Lab Results",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-021b8aa8")]).then(n.bind(null,"188c"))},{path:"/portal/config",name:"Portal settings",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-9baa1fa4")]).then(n.bind(null,"027b"))},{path:"/camera_scanner",name:"Camera scanner",component:()=>n.e("chunk-9692f8e6").then(n.bind(null,"ada4"))}],X=Object(a["a"])({history:Object(a["b"])("/"),routes:q});X.beforeEach((e,t,n)=>{B["V"].getTop().then(e=>e?B["V"].dismiss():null),B["X"].getTop().then(e=>e?B["X"].dismiss():null),B["T"].getTop().then(e=>e?B["T"].dismiss():null),B["Y"].getTop().then(e=>e?B["Y"].dismiss():null);const a=["/login","/settings/host"];sessionStorage.getItem("apiKey")||a.includes(e.path)||n("/login"),n()});t["a"]=X},b5e4:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n("1da1"),c=(n("96cf"),n("8a30")),o=n("7a23"),r={class:"vertically-align ion-padding-horizontal"};function i(e,t,n,a,c,i){var s=Object(o["resolveComponent"])("action-header"),u=Object(o["resolveComponent"])("ion-content"),l=Object(o["resolveComponent"])("action-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["withDirectives"])(Object(o["createVNode"])(s,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),[[o["vShow"],e.title||e.subtitle]]),Object(o["createVNode"])(u,{style:{"text-align":"center"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("h2",r,Object(o["toDisplayString"])(e.body),1)]})),_:1}),Object(o["createVNode"])(l,{buttons:e.actionButtons},null,8,["buttons"])],64)}var s=n("8efc"),u=Object(o["defineComponent"])({mixins:[s["a"]],props:{body:{type:String,require:!0}}}),l=n("6b0d"),d=n.n(l);const p=d()(u,[["render",i]]);var m=p;function h(e){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"primary",a=r.length>2&&void 0!==r[2]?r[2]:2e3,e.next=4,c["Y"].create({message:t,position:"top",animated:!0,duration:a,color:n,cssClass:"his-md-text",keyboardClose:!0,buttons:[{side:"end",icon:"close",role:"cancel"}]});case 4:return o=e.sent,e.abrupt("return",o.present());case 6:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return h(e,"warning",t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return h(e,"success",t)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return h(e,"danger",t)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return c["X"].create({component:m,backdropDismiss:!1,cssClass:"small-modal custom-modal-backdrop",componentProps:{subtitle:t,body:e,actionButtons:n}})}function v(e){return O.apply(this,arguments)}function O(){return O=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,k(t,n.header||"Confirmation",[{name:n.cancelBtnLabel||"No",size:"large",slot:"start",color:"danger",visible:!0,role:"Cancel",onClick:function(e){var t=e.role;return c["X"].dismiss(t)}},{name:n.confirmBtnLabel||"Yes",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:function(e){var t=e.role;return c["X"].dismiss(t)}}]);case 3:return a=e.sent,a.present(),e.next=7,a.onDidDismiss();case 7:return o=e.sent,r=o.data,e.abrupt("return","Confirm"===r);case 10:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return j=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"Information",e.next=3,k(t,n,[{name:"OK",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:function(){return c["X"].dismiss()}}]);case 3:a=e.sent,a.present();case 5:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}},b744:function(e,t,n){"use strict";n("bfda")},b89f:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("1c74"),c=n("156d"),o=n("2ed9"),r=n("b5e4"),i=n("0ba8");class s extends a["e"]{constructor(){super()}async execPrint(e){const t=await a["e"].getText(e);if(!t)throw"Unable to print Label. Try again later";document.location=await c["b"].expandPath(e)}async batchPrintLbls(e,t=!0){const{platformType:n}=Object(o["a"])();if("desktop"===n.value){const n=[];t&&i["b"].emit(i["a"].SHOW_MODAL,"zebra-modal");for(const t of e)try{await this.execPrint(t)}catch(a){n.push(a)}t&&await s.delay(2e3),n.length>0&&await Object(r["e"])(n.filter((e,t,n)=>n.indexOf(e)===t).join(),3e3)}else Object(r["e"])("Sorry, your Platform does not support Label printing. Bye!")}async printLbl(e,t=!0){const{platformType:n}=Object(o["a"])();if("desktop"===n.value)try{t&&i["b"].emit(i["a"].SHOW_MODAL,"zebra-modal"),await this.execPrint(e)}catch(a){Object(r["e"])(a,3e3)}else Object(r["e"])("Sorry, your Platform does not support Label printing. Bye!")}async printLocation(e){await this.printLbl("labels/location?location_id="+e)}async printDrug(e,t){await this.printLbl(`drugs/${e}/barcode?quantity=${t}`)}}},bef6:function(e,t,n){"use strict";function a(e){let t="";for(const[n,a]of Object.entries(e))t+=`${n}=${a}&`;return t}t["a"]={parameterizeObjToString:a}},bfda:function(e,t,n){},c1e4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1c74");class c extends a["e"]{constructor(){super()}static getCurrentUser(){const e=a["e"].getUserID();if(e)return this.getUserByID(e)}static getUserByID(e){return this.getJson("users/"+e)}static createUser(e){return this.postJson("users",e)}static updateUser(e,t){return this.putJson("users/"+e,t)}static activateUser(e){return this.postJson(`users/${e}/activate`,{})}static deactivateUser(e){return this.postJson(`users/${e}/deactivate`,{})}static isAdmin(){const e=super.getUserRoles().filter(e=>e.role.match(/Program Manager|Superuser|System Developer/i));return e.length>0}static isNurse(){const e=super.getUserRoles().filter(e=>e.role.match(/Nurse/i));return e.length>0}static isDoctor(){const e=super.getUserRoles().filter(e=>e.role.match(/Doctor/i));return e.length>0}static isClinician(){const e=super.getUserRoles().filter(e=>e.role.match(/Clinician/i));return e.length>0}static getAllUsers(){return this.getJson("users",{page_size:100})}static getAllRoles(){return this.getJson("roles",{page_size:100})}static getUsers(){return super.getJson("users",{role:"Provider"})}static getSystemUsageByUsers(e,t){return super.getJson("user_system_usage",{start_date:e,end_date:t,program_id:super.getProgramID(),date:super.getSessionDate()})}}},c419:function(e,t,n){},c54c:function(e,t,n){},cc6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("7957"),c=n("ec2a"),o=n("8158");class r extends a["a"]{constructor(e,t,n=-1){super(),this.encounterTypeID=t,this.patientID=e,this.encounterID=0,this.date=a["a"].getSessionDate(),this.providerID=n,this.programID=a["a"].getProgramID()}getDate(){return this.date}setDate(e){this.date=e}setEncounterID(e){this.encounterID=e}getEncounterID(){return this.encounterID}getFirstValueCoded(e){return r.getFirstValueCoded(this.patientID,e,this.date)}getFirstValueNumber(e){return r.getFirstValueNumber(this.patientID,e,this.date)}async buildObs(e,t){const n={...t,person_id:this.patientID,obs_datetime:this.date};return n["concept_id"]=await o["a"].getConceptID(e),t.value_coded&&(n["value_coded"]=await o["a"].getConceptID(t.value_coded)),n}buildValueText(e,t){return r.buildValueText(e,t,this.date)}buildValueCoded(e,t){return r.buildValueCoded(e,t,this.date)}buildValueCodedFromConceptId(e,t){return r.buildValueCodedFromConceptId(e,t,this.date)}buildValueNumber(e,t,n=null,a=null){return r.buildValueNumber(e,t,n,a,this.date)}buildValueDate(e,t){return r.buildValueDate(e,t,this.date)}buildValueDateEstimated(e,t){return this.buildObs(e,{value_datetime:t,value_text:"Estimated"})}async saveObservationList(e){return a["a"].saveObsArray(this.encounterID,e)}async saveValueTextObs(e,t){const n=await a["a"].buildValueText(e,t);return this.saveObs(n)}async saveValueCodedObs(e,t){const n=await a["a"].buildValueCoded(e,t);return this.saveObs(n)}async saveValueNumericObs(e,t,n=null){const c=await a["a"].buildValueNumber(e,t,n);return this.saveObs(c)}async saveValueDatetimeObs(e,t){const n=await a["a"].buildValueDate(e,t,a["a"].getSessionDate());return this.saveObs(n)}async createEncounter(){const e={encounter_type_id:this.encounterTypeID,patient_id:this.patientID,encounter_datetime:this.date};-1!=this.providerID&&(e["provider_id"]=this.providerID);const t=await c["a"].create(e);if(t)return this.encounterID=t.encounter_id,t}saveObs(e){return r.saveObs(this.encounterID,e)}}},cc74:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");function o(){return c["a"].isProp(a.DDE_ENABLED+"=true")}function r(){return c["a"].isProp(a.MALAWI_NATIONAL_ID_SCANNER_ENABLED+"=true")}function i(){return c["a"].isProp(a.MILITARY_SITE+"=true")}function s(){return c["a"].isProp(a.PORTAL_ENABLED+"=true")}function u(){return c["a"].get(a.SITE_UUID)}function l(){return c["a"].get(a.SITE_PREFIX)}function d(){return c["a"].get(a.PORTAL_PROPERTIES)}function p(){return c["a"].get(a.HEALTH_CENTER_ID)}function m(e){return c["a"].set(a.HEALTH_CENTER_ID,e)}function h(){return c["a"].get(a.SITE_PREFIX)}function f(e){return c["a"].set(a.SITE_PREFIX,e)}function g(e){return c["a"].set(a.PORTAL_PROPERTIES,e)}function b(e){return c["a"].set(a.PORTAL_ENABLED,""+e)}(function(e){e["MILITARY_SITE"]="military_site",e["HEALTH_CENTER_ID"]="current_health_center_id",e["SITE_PREFIX"]="site_prefix",e["SITE_UUID"]="site_uuid",e["PORTAL_ENABLED"]="portal.enabled",e["PORTAL_PROPERTIES"]="portal.properties",e["DDE_ENABLED"]="dde_enabled",e["MALAWI_NATIONAL_ID_SCANNER_ENABLED"]="malawi.nationalID.scanner.enabled"})(a||(a={})),t["b"]={setHealthCenterID:m,sitePrefix:l,siteUUID:u,portalProperties:d,ddeEnabled:o,militarySiteEnabled:i,healthCenterID:p,siteCode:h,portalEnabled:s,setSitePrefix:f,setPortalIP:g,setPortalEnabled:b,malawiNationalIDScannerEnabled:r}},cd49:function(e,t,n){"use strict";n.r(t);var a=n("7a23");function c(e,t,n,c,o,r){const i=Object(a["resolveComponent"])("modal-container"),s=Object(a["resolveComponent"])("full-screen-notice"),u=Object(a["resolveComponent"])("update-notification"),l=Object(a["resolveComponent"])("ion-router-outlet"),d=Object(a["resolveComponent"])("connection-error"),p=Object(a["resolveComponent"])("ion-app");return Object(a["openBlock"])(),Object(a["createBlock"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{onModalDismissed:t[1]||(t[1]=t=>e.activeModal=""),modalName:e.activeModal},null,8,["modalName"]),e.checkFullScreen?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0})):Object(a["createCommentVNode"])("",!0),e.checkForUpdates?(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(l,{key:e.$route.fullPath}),!e.apiOk&&e.notConfigPage?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:2})):Object(a["createCommentVNode"])("",!0)]),_:1})}var o=n("8a30"),r=n("156d"),i=n("0ba8"),s=n("b5e4"),u=n("6c02"),l=(n("a5d8"),n("323e")),d=n.n(l),p=n("afbc"),m=n("89b4"),h=Object(a["defineComponent"])({name:"App",components:{IonApp:o["a"],IonRouterOutlet:o["G"],ModalContainer:Object(a["defineAsyncComponent"])(()=>n.e("chunk-2d22d5a8").then(n.bind(null,"f6ac"))),FullScreenNotice:Object(a["defineAsyncComponent"])(()=>n.e("chunk-138dea20").then(n.bind(null,"5282"))),ConnectionError:Object(a["defineAsyncComponent"])(()=>n.e("chunk-2239cf8c").then(n.bind(null,"ef86"))),UpdateNotification:Object(a["defineAsyncComponent"])(()=>n.e("chunk-1e82d964").then(n.bind(null,"76bd")))},setup(){const e=Object(a["ref"])(!0),t=Object(u["e"])(),n=Object(a["ref"])(!0),c=Object(a["ref"])(null),l=Object(a["ref"])(!1),h=Object(a["ref"])(!0),f=new m["a"],g=Object(a["ref"])("");return f.initDateSync(36e5),"boolean"===typeof f.getAppConf("promptFullScreenDialog")&&(l.value=f.getAppConf("promptFullScreenDialog")),"boolean"===typeof f.getAppConf("showUpdateNotifications")&&(h.value=f.getAppConf("showUpdateNotifications")),d.a.configure({easing:"ease",speed:330,trickleSpeed:8}),Object(a["watch"])(t,e=>n.value="API host settings"!=e.name,{immediate:!0}),Object(a["watch"])(c,t=>{e.value=!t}),i["b"].on(i["a"].SHOW_MODAL,e=>g.value=e),i["b"].on(r["a"].BEFORE_API_REQUEST,()=>d.a.start()),i["b"].on(r["a"].AFTER_API_REQUEST,async e=>{if(c.value){clearInterval(c.value),c.value=null;const e=await Object(s["a"])("Do you want to refresh the page?",{header:"API connection is back"});e&&location.reload()}e&&401===e.status&&"Login"!=t.name&&p["a"].push("/login"),d.a.done()}),i["b"].on(r["a"].ON_API_CRASH,()=>{c.value||(o["V"].dismiss(),c.value=setInterval(()=>{"API host settings"!=t.name&&r["b"].healthCheck()},2500),Object(s["e"])("Unable to reach api. You can fix the error below")),d.a.done()}),{apiOk:e,checkForUpdates:h,activeModal:g,notConfigPage:n,checkFullScreen:l}}}),f=n("6b0d"),g=n.n(f);const b=g()(h,[["render",c]]);var _=b;n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("1a5e"),n("7708"),n("1eb2"),n("2fdd"),n("6460"),n("8c28");const k=Object(a["createApp"])(_).use(o["R"]).use(p["a"]);p["a"].isReady().then(()=>{k.mount("#app")})},cf71:function(e,t,n){},d1ca:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,c=n("ad49");function o(){return c["a"].get(a.TARGET_LAB)}function r(){return c["a"].isProp(a.CERVICAL_CANCER_SCREENING+"=true")}function i(){return c["a"].isProp(a.VL_ROUTINE_CHECK+"=true")}function s(){return c["a"].isProp(a.FAST_TRACK+"=true")}function u(){return c["a"].isProp(a.THREE_HP_AUTO_SELECT+"=true")}function l(){return c["a"].isProp(a.EXTENDED_LABS+"=true")}function d(){return c["a"].isProp(a.FILING_NUMBERS+"=true")}function p(){return c["a"].isProp(a.DRUG_MANAGEMENT+"=true")}function m(){return c["a"].get(a.HTN_SYSTOLIC_THRESHOLD)}function h(){return c["a"].get(a.HTN_DIASTOLIC_THRESHOLD)}function f(){return c["a"].isProp(a.HTN_ENHANCEMENT+"=true")}function g(){return c["a"].isProp(a.PILLS_REMAINING+"=true")}function b(){return c["a"].get(a.APPOINTMENT_LIMIT)}function _(){return c["a"].get(a.HTN_SCREENING_AGE_THRESHOLD)}async function k(){const e=await c["a"].get(a.CERVICAL_CANCER_AGE_BOUNDS);if(e){const[t,n]=e.split(":");return{start:t,end:n}}return{start:-1,end:-1}}function v(){return c["a"].get(a.FILING_NUMBER_LIMIT)}function O(){return c["a"].get(a.FILING_NUMBER_PREFIX)}function y(){return c["a"].get(a.ADULT_CLINIC_DAYS)}function j(){return c["a"].get(a.PEADS_CLINIC_DAYS)}function I(){return c["a"].get(a.CLINIC_HOLIDAYS)}function T(e){return c["a"].set(a.HTN_SCREENING_AGE_THRESHOLD,e)}function N(e){return c["a"].set(a.APPOINTMENT_LIMIT,e)}function E(e){return c["a"].set(a.ADULT_CLINIC_DAYS,e)}function w(e){return c["a"].set(a.PEADS_CLINIC_DAYS,e)}function D(e){return c["a"].set(a.FILING_NUMBER_LIMIT,e)}(function(e){e["TARGET_LAB"]="target.lab",e["EXTENDED_LABS"]="extended_labs",e["VL_ROUTINE_CHECK"]="activate.vl.routine.check",e["PILLS_REMAINING"]="ask.pills.remaining.at.home",e["FILING_NUMBERS"]="use.filing.number",e["DRUG_MANAGEMENT"]="activate.drug.management",e["HTN_ENHANCEMENT"]="activate.htn.enhancement",e["FAST_TRACK"]="enable_fast_track",e["THREE_HP_AUTO_SELECT"]="activate_3hp_auto_select",e["APPOINTMENT_LIMIT"]="clinic.appointment.limit",e["HTN_SCREENING_AGE_THRESHOLD"]="htn.screening.age.threshold",e["HTN_SYSTOLIC_THRESHOLD"]="htn.systolic.threshold",e["HTN_DIASTOLIC_THRESHOLD"]="htn.diastolic.threshold",e["PEADS_CLINIC_DAYS"]="peads.clinic.days",e["ADULT_CLINIC_DAYS"]="clinic.days",e["FILING_NUMBER_LIMIT"]="filing.number.limit",e["FILING_NUMBER_PREFIX"]="filing.number.prefix",e["CERVICAL_CANCER_SCREENING"]="activate.cervical.cancer.screening",e["CERVICAL_CANCER_AGE_BOUNDS"]="cervical.cancer.screening.age.bounds",e["CLINIC_HOLIDAYS"]="clinic.holidays",e["EXCLUDE_EXTERNAL_AND_DRUG_REFILLS"]="can.remove.external.and.drug.refills.from.data.cleaning"})(a||(a={})),t["b"]={targetLab:o,cervicalCancerScreeningAgeBounds:k,systolicThreshold:m,diastolicThreshold:h,htnAgeThreshold:_,setHtnAgeThreshold:T,setFilingNumberLimit:D,setAppointmentLimit:N,filingNumberLimit:v,filingNumberPrefix:O,adultClinicDays:y,peadsClinicDays:j,setAdultClinicDays:E,setPeadsClinicDays:w,filingNumbersEnabled:d,drugManagementEnabled:p,htnEnabled:f,appointmentLimit:b,askPillsRemaining:g,extendedLabEnabled:l,threeHPAutoSelectEnabled:u,VLEnabled:i,fastTrackEnabled:s,cervicalCancerScreeningEnabled:r,clinicHolidays:I}},d6d4:function(e,t,n){},d77d:function(e,t,n){"use strict";n("18ab")},da71:function(e,t,n){},ded6:function(e,t,n){"use strict";var a=n("7a23");const c=Object(a["withScopeId"])("data-v-65e1cf74"),o=c((function(e,t,n,o,r,i){const s=Object(a["resolveComponent"])("ion-skeleton-text"),u=Object(a["resolveComponent"])("ion-item"),l=Object(a["resolveComponent"])("ion-list");return Object(a["openBlock"])(),Object(a["createBlock"])(l,null,{default:c(()=>[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:t},{default:c(()=>[Object(a["createVNode"])(s,{animated:"",style:{width:"100%"}})]),_:2},1024))),128))]),_:1})}));var r=n("8a30"),i=Object(a["defineComponent"])({components:{IonSkeletonText:r["K"],IonList:r["y"],IonItem:r["w"]},props:{itemCount:{type:Number,default:10}},setup(e){const t=[];for(let n=0;n<e.itemCount;++n)t.push(n);return{items:t}}}),s=(n("95a0"),n("6b0d")),u=n.n(s);const l=u()(i,[["render",o],["__scopeId","data-v-65e1cf74"]]);t["a"]=l},e109:function(e,t,n){"use strict";n("2be2")},e1cf:function(e,t,n){var a={"./ion-icon.entry.js":["ec64","chunk-2d2304d2"]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id="e1cf",e.exports=c},e63c:function(e,t,n){"use strict";n("c419")},e897:function(e,t,n){"use strict";n("79fe")},ec2a:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("5530"),c=n("d4ec"),o=n("bee2"),r=n("45eb"),i=n("7e84"),s=n("262e"),u=n("2caf"),l=(n("99af"),n("1c74")),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"create",value:function(e){var t=Object(a["a"])({},e);return"program_id"in t||Object.assign(t,{program_id:this.getProgramID()}),"encounter_datetime"in t||Object.assign(t,{encounter_datetime:this.getSessionDate()}),l["e"].postJson("/encounters",t)}},{key:"voidEncounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown";return Object(r["a"])(Object(i["a"])(n),"void",this).call(this,"/encounters/".concat(e),{reason:t})}},{key:"getSavedEncounters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r["a"])(Object(i["a"])(n),"getProgramID",this).call(this);return Object(r["a"])(Object(i["a"])(n),"getJson",this).call(this,"programs/".concat(t,"/patients/").concat(e,"/saved_encounters"))}},{key:"getEncounters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["a"])(Object(i["a"])(n),"getJson",this).call(this,"/encounters",Object(a["a"])({program_id:Object(r["a"])(Object(i["a"])(n),"getProgramID",this).call(this),patient_id:e,paginate:!1},t))}}]),n}(l["e"])},f01e:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var a,c=n("d4ec"),o=n("bee2"),r=n("262e"),i=n("2caf"),s=n("fa94");(function(e){e["MALES_WITH_ANC_ENCOUNTERS"]="MALES WITH ANC ENCOUNTERS",e["ENCOUNTERS_AFTER_DEATH"]="ENCOUNTERS AFTER DEATH",e["INCOMPLETE_VISITS"]="INCOMPLETE VISITS",e["DUPLICATE_ENCOUNTERS"]="DUPLICATE ENCOUNTERS",e["MISSING_HIV_STATUS"]="NO HIV STATUS"})(a||(a={}));var u=function(e){Object(r["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this)}return Object(o["a"])(n,[{key:"getDataToolReport",value:function(e){return s["a"].getJson("anc_data_cleaning_tools",this.buildRequestParams({report_name:e}))}}]),n}(s["a"])},f768:function(e,t,n){"use strict";n.d(t,"a",(function(){return Zn}));n("13d5");var a=n("d1ca"),c=[{name:"Data cleaning verification",path:"/art/data_cleaning_verification",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-625971b9"),n.e("chunk-62afc79a")]).then(n.bind(null,"b791"))},{name:"Edit ARV Number",path:"/art/arv-number/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-444bebfd")]).then(n.bind(null,"1769"))},{name:"preferences",path:"/art/preferences",component:()=>n.e("chunk-2c083610").then(n.bind(null,"b236"))},{name:"target_lab",path:"/art/preferences/target_lab",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:a["a"].CLINIC_HOLIDAYS,path:"/art/preferences/clinic_holidays",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:"bp_thresholds",path:"/art/preferences/bp_thresholds",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:"clinic_days",path:"/art/preferences/clinic_days",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:"cervical_cancer",path:"/art/preferences/cervical_cancer_screening",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:a["a"].HTN_SCREENING_AGE_THRESHOLD,path:"/art/preferences/htn_age",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:a["a"].FILING_NUMBER_LIMIT,path:"/art/preferences/fn/limit",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:a["a"].APPOINTMENT_LIMIT,path:"/art/preferences/appointment/limit",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-40a31bd6")]).then(n.bind(null,"1ac1"))},{name:"art_patient_visit_stats",path:"/art/patient_visits",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-373eba62")]).then(n.bind(null,"fe31"))},{name:"filing management",path:"/art/filing_numbers/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-68c95e5c")]).then(n.bind(null,"12c7"))},{name:"Enter stock",path:"/art/stock/enter",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-428a91f2")]).then(n.bind(null,"8a4e"))},{name:"Audit trail",path:"/art/stock/trail",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-1ffd9cb4")]).then(n.bind(null,"4dbc"))},{name:"Verify stock",path:"/art/stock/verify",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-16767ceb")]).then(n.bind(null,"7dd5"))},{name:"Move stock",path:"/art/stock/move",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-3a966710")]).then(n.bind(null,"7052"))},{name:"Stock report",path:"/art/stock/report",component:()=>Promise.all([n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-c324c0c2")]).then(n.bind(null,"719a"))},{name:"Print drug barcode",path:"/drug/print",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-1e242795")]).then(n.bind(null,"da8f"))},{name:"treatment",path:"/art/encounters/prescriptions/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-8a6e8a76"),n.e("chunk-2d0e1fde")]).then(n.bind(null,"7d94"))},{name:"bp_alert",path:"/art/encounters/bp/alert/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-246c78d4")]).then(n.bind(null,"7337"))},{name:"art adherence",path:"/art/encounters/adherence/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-242290d5")]).then(n.bind(null,"9d38"))},{name:"hiv clinic consultation (clinician)",path:"/art/encounters/consultation/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-8a6e8a76"),n.e("chunk-7f9749ab")]).then(n.bind(null,"6c3f"))},{name:"hiv clinic consultation",path:"/art/encounters/consultation/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-8a6e8a76"),n.e("chunk-7f9749ab")]).then(n.bind(null,"6c3f"))},{name:"hiv clinic registration",path:"/art/encounters/registration/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-13e9c9f8"),n.e("chunk-4183a6cc")]).then(n.bind(null,"308a"))},{name:"hiv reception",path:"/art/encounters/reception/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-5edbc3a2")]).then(n.bind(null,"754d"))},{name:"hiv staging",path:"/art/encounters/staging/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-13e9c9f8"),n.e("chunk-2d2288cf")]).then(n.bind(null,"da51"))},{name:"appointment",path:"/art/encounters/appointment/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-15eccd71")]).then(n.bind(null,"1c9e"))},{name:"dispensing",path:"/art/encounters/dispensation/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-bc09139e")]).then(n.bind(null,"9e6a"))},{name:"vitals",path:"/art/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-25532402")]).then(n.bind(null,"ab49"))},{name:"htn_vitals",path:"/art/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-25532402")]).then(n.bind(null,"ab49"))},{name:"patient type",path:"/art/encounters/patient_type/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-625971b9"),n.e("chunk-1a0bba86")]).then(n.bind(null,"e5e5"))},{name:"fast track assesment",path:"/art/encounters/fast_track/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-0e8d09cc")]).then(n.bind(null,"d1b9"))},{name:"bp_management",path:"/art/encounters/bp_management/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-dc54cec2")]).then(n.bind(null,"72e3"))},{name:"Hypertesnion diagnosis",path:"/art/encounters/hypertension_diagnosis/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-177a3565")]).then(n.bind(null,"f7b2"))},{name:"BP prescription",path:"/art/encounters/bp_prescription/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-0d24d27e")]).then(n.bind(null,"313e"))},{name:"Social history",path:"/art/encounters/social_history/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-1a035943")]).then(n.bind(null,"75fa"))},{name:"BP adherence",path:"/art/encounters/bp_adherence/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-ae117fa2"),n.e("chunk-ec803748")]).then(n.bind(null,"3f4a"))},{name:"lab activities",path:"/art/encounters/lab/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-74c63811")]).then(n.bind(null,"5697"))},{name:"patient mstercard",path:"/art/mastercard/:patient_id",component:()=>n.e("chunk-13f7161e").then(n.bind(null,"12f0"))},{name:"Data cleaning",path:"/data_cleaning",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-35f8dffa")]).then(n.bind(null,"c92b"))},{name:"moh_disaggregated_report",path:"/art/moh_disaggregated_report",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-46bff48c")]).then(n.bind(null,"1b7d"))},{name:"moh_regimen_report",path:"/art/moh_regimen_report",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-eb0575e6")]).then(n.bind(null,"4a54"))},{path:"/art/report/moh/moh_cohort",name:"moh_cohort",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-50f948a5")]).then(n.bind(null,"1509"))},{path:"/art/report/moh/moh_survial_analysis",name:"moh_survial_analysis",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-e43920f8")]).then(n.bind(null,"1f15"))},{path:"/art/report/moh/moh_tpt_new_initiations",name:"moh_tpt_new_initiations",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-65365de6")]).then(n.bind(null,"30f4"))},{name:"moh_tx_curr_mmd",path:"/art/report/moh/moh_tx_curr_mmd",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-a929a60a"),n.e("chunk-395163ca")]).then(n.bind(null,"8f57"))},{name:"moh_regimen_weight_distribution",path:"/art/report/moh/moh_regimen_weight_distribution",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-13f5bda0")]).then(n.bind(null,"e57f"))},{name:"clinic_archiving_candidates",path:"/art/report/clinic/clinic_archiving_candidates",component:()=>Promise.all([n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-24564210")]).then(n.bind(null,"6955"))},{name:"clinic_retention_report",path:"/art/report/clinic/clinic_retention_report",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-3356fb26")]).then(n.bind(null,"008b"))},{name:"clinic_external_consultation_report",path:"/art/report/clinic/clinic_external_consultation_report",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-31dce1a6")]).then(n.bind(null,"f63f"))},{name:"clinic_due_viral_load_report",path:"/art/report/clinic/clinic_due_viral_load_report",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-df95d9f8")]).then(n.bind(null,"d20c"))},{name:"clinic_lab_results",path:"/art/report/clinic/clinic_lab_results",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-7f211796"),n.e("chunk-2d0deb82")]).then(n.bind(null,"879f"))},{name:"clinic_missed_appointments",path:"/art/report/clinic/clinic_missed_appointments",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-24040f92")]).then(n.bind(null,"d778"))},{name:"clinic_defaulters_report",path:"/art/report/clinic/clinic_defaulters",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-58f2eec8"),n.e("chunk-2d0cbe29")]).then(n.bind(null,"4c26"))},{name:"clinic_regimen_report",path:"/art/report/clinic/clinic_regimen_report",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-2d20ee25")]).then(n.bind(null,"b0ef"))},{name:"clinic_regimen_switch",path:"/art/report/clinic/clinic_regimen_switch",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-2d0cc98a")]).then(n.bind(null,"4f35"))},{name:"clinic_pregnant_patients",path:"/art/report/clinic/clinic_pregnant_patients",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-29b2b510")]).then(n.bind(null,"ccb7"))},{name:"clinic_appointments",path:"/art/report/clinic/clinic_appointments",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-a0c215ba")]).then(n.bind(null,"2e46"))},{name:"stock_card_report",path:"/art/report/clinic/stock_card_report",component:()=>Promise.all([n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-67f6c7f7")]).then(n.bind(null,"c016"))},{name:"clinic_viral_load",path:"/art/report/clinic/clinic_viral_load",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-786992e3")]).then(n.bind(null,"36da"))},{name:"clinic_other_outcome_list",path:"/art/report/clinic/clinic_other_outcome_list",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-0134255a")]).then(n.bind(null,"93a7"))},{name:"clinic_regimen_formulation",path:"/art/report/clinic/clinic_regimen_formulation",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-2d21f07a")]).then(n.bind(null,"d7a2"))},{name:"pepfar_disaggregated_report",path:"/art/report/pepfar/disaggregated",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-74dd3cb5")]).then(n.bind(null,"c753"))},{name:"pepfar_defaulters_report",path:"/art/report/pepfar/defaulters",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-58f2eec8"),n.e("chunk-2d0e8fe4")]).then(n.bind(null,"8c47"))},{name:"pepfar_regimen_report",path:"/art/report/pepfar/regimens",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-2d0e8fc6")]).then(n.bind(null,"8c38"))},{name:"pepfar_regimen_switch",path:"/art/report/pepfar/regimen_switch",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-2d229b3d")]).then(n.bind(null,"df27"))},{name:"pepfar_tb_prev_report",path:"/art/report/pepfar/tb_prev",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-0903fe89")]).then(n.bind(null,"1aa7"))},{name:"pepfar_tx_curr_mmd_report",path:"/art/report/pepfar/tx_cur_mmd",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-a929a60a"),n.e("chunk-2c13ffe0")]).then(n.bind(null,"cca6"))},{name:"pepfar_tx_ml_report",path:"/art/report/pepfar/tx_ml",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-a929a60a"),n.e("chunk-2d2219e6")]).then(n.bind(null,"cab4"))},{name:"pepfar_tx_rtt",path:"/art/report/pepfar/tx_rtt",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-a929a60a"),n.e("chunk-2d21d9f6")]).then(n.bind(null,"d1a4"))},{name:"pepfar_vl_coverage",path:"/art/report/pepfar/pepfar_vl_coverage",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-317bc851")]).then(n.bind(null,"af8a"))},{name:"sc_arv",path:"/art/report/pepfar/sc_arv",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-64712c94"),n.e("chunk-2d0aedb1")]).then(n.bind(null,"0c9a"))},{name:"clinic_tx_rrt",path:"/art/report/clinic_tx_rtt",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-a929a60a"),n.e("chunk-2d0af6a8")]).then(n.bind(null,"0ddb"))},{name:"clinic_tpt_outcomes",path:"/art/report/clinic_tpt_outcomes",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-1030c8c0")]).then(n.bind(null,"1d39"))}],o=n("7a23");const r=Object(o["withScopeId"])("data-v-49203e3e");Object(o["pushScopeId"])("data-v-49203e3e");const i=Object(o["createVNode"])("span",{class:"his-md-text"},"Total visits / incomplete visits: last 5 days",-1),s=Object(o["createVNode"])("span",{class:"his-md-text"},"Encounters created today",-1),u={class:"his-sm-text"},l=Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th"),Object(o["createVNode"])("th",null,"Female"),Object(o["createVNode"])("th",null,"Male"),Object(o["createVNode"])("th",null,"Me"),Object(o["createVNode"])("th",null,"Facility")],-1),d={class:"encounter-td"},p={class:"other-td"},m={class:"other-td"},h={class:"other-td"},f={class:"other-td"};Object(o["popScopeId"])();const g=r((function(e,t,n,a,c,g){const b=Object(o["resolveComponent"])("ApexChart"),_=Object(o["resolveComponent"])("ion-col"),k=Object(o["resolveComponent"])("ion-row"),v=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(v,null,{default:r(()=>[Object(o["createVNode"])(k,null,{default:r(()=>[Object(o["createVNode"])(_,{"size-lg":"6","size-sm":"12"},{default:r(()=>[i,Object(o["createVNode"])(b,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]),_:1}),Object(o["createVNode"])(_,{"size-lg":"6","size-sm":"12"},{default:r(()=>[s,Object(o["createVNode"])("table",u,[l,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.rows,(t,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:n},[Object(o["createVNode"])("td",d,Object(o["toDisplayString"])(e.getEncounterName(t.encounter)),1),Object(o["createVNode"])("td",p,Object(o["toDisplayString"])(t.female),1),Object(o["createVNode"])("td",m,Object(o["toDisplayString"])(t.male),1),Object(o["createVNode"])("td",h,Object(o["toDisplayString"])(t.me),1),Object(o["createVNode"])("td",f,Object(o["toDisplayString"])(t.facility),1)]))),128))])]),_:1})]),_:1})]),_:1})}));var b=n("8a30"),_=n("156d"),k=n("5a0c"),v=n.n(k),O=n("1c74"),y=n("ae27"),j=n.n(y),I=Object(o["defineComponent"])({data:function(){return{dayjs:v.a,startDate:"",endDate:"",options:{chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]}},series:[{name:"Total visits",data:[0,0,0,0,0],color:"#7cb5ec"},{name:"Total incomplete visits",data:[0,0,0,0,0],color:"#434348"}],rows:[],encounters:[{"HIV clinic registration":9},{"HIV reception":51},{Vitals:6},{"HIV staging":52},{"HIV clinic consultation":53},{"ART adherence":68},{Treatment:25},{Dispensing:54},{Appointments:7}]}},components:{IonGrid:b["p"],IonRow:b["H"],IonCol:b["m"],ApexChart:j.a},created(){this.rows=this.encounters.map(e=>({encounter:Object.values(e)[0],female:"",male:"",me:"",facility:""}))},mounted(){this.endDate=this.dayjs().subtract(1,"days").format("YYYY-MM-DD"),this.startDate=this.dayjs().subtract(5,"days").format("YYYY-MM-DD"),this.getVisits(),this.getEncounters()},methods:{getVisits:async function(){const e=await _["b"].get(`programs/1/reports/visits?name=visits&start_date=${this.startDate}&end_date=${this.endDate}`);if(e&&200==e.status){const t=await e.json(),n=Object.keys(t),a=[],c=[];n.forEach((e,n)=>{a[n]=t[e].incomplete,c[n]=t[e].complete+t[e].incomplete}),this.series[0].data=[...c],this.series[1].data=[...a];const o=n.map(e=>this.dayjs(e).format("dddd"));this.options={...this.options,xaxis:{categories:[...o]}}}},getEncounterName(e){if(!e)return"";const t=this.encounters.filter(t=>Object.values(t)[0]===e);return Object.keys(t[0])[0]},getEncounters:async function(){const e={encounter_types:[...this.encounters.map(e=>Object.values(e)[0])]},t={all:!0,encounter_types:[...this.encounters.map(e=>Object.values(e)[0])]},n=await _["b"].post(`reports/encounters?date=${O["e"].getSessionDate()}&program_id=${O["e"].getProgramID()}`,e),a=await _["b"].post(`reports/encounters?date=${O["e"].getSessionDate()}&program_id=${O["e"].getProgramID()}`,t);if(n&&a&&200==n.status&&200==a.status){const e=await n.json(),t=await a.json(),c=[];this.encounters.forEach(n=>{const a=Object.values(n)[0];c.push({encounter:a,female:t[a]["F"],male:t[a]["M"],me:e[a]["F"]+e[a]["M"],facility:t[a]["F"]+t[a]["M"]})}),this.rows=[...c]}}}}),T=(n("37ca"),n("6b0d")),N=n.n(T);const E=N()(I,[["render",g],["__scopeId","data-v-49203e3e"]]);var w=E,D=n("8e8b");const C=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"Cohort / disaggregated",pathName:"moh_cohort"},{name:"Disaggregated",pathName:"moh_disaggregated",condition:()=>!1},{name:"Regimen Distribution (Weight)",pathName:"moh_regimen_weight_distribution"},{name:"Survival analysis",pathName:"moh_survial_analysis"},{name:"TPT new initiations",pathName:"moh_tpt_new_initiations"},{name:"TX CURR MMD",pathName:"moh_tx_curr_mmd"},{name:"Regimen Report",pathName:"moh_regimen_report"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Active clients with adverse outcomes",pathName:"clinic_archiving_candidates"},{name:"Defaulter list",pathName:"clinic_defaulters_report"},{name:"Regimen Dispensation",pathName:"clinic_regimen_report"},{name:"Lab results",pathName:"clinic_lab_results"},{name:"Regimen switch",pathName:"clinic_regimen_switch"},{name:"Clients due for VL",pathName:"clinic_due_viral_load_report"},{name:"External and Drug Refill clients",pathName:"clinic_external_consultation_report"},{name:"Retention report",pathName:"clinic_retention_report"},{name:"Pregnant Patient",pathName:"clinic_pregnant_patients"},{name:"Missed Appointment",pathName:"clinic_missed_appointments"},{name:"VL results",pathName:"clinic_viral_load"},{name:"Other outcome list",pathName:"clinic_other_outcome_list"},{name:"Regimens and Formulation",pathName:"clinic_regimen_formulation"},{name:"Appointments",pathName:"clinic_appointments"},{name:"Stock card report",pathName:"stock_card_report",condition:()=>D["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED")},{name:"TX RTT",pathUrl:"/art/report/clinic_tx_rtt"},{name:"TPT Outcomes",pathUrl:"/art/report/clinic_tpt_outcomes"}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Defaulter list",pathName:"pepfar_defaulters_report"},{name:"Disaggregated",pathName:"pepfar_disaggregated_report"},{name:"Regimen Report",pathName:"pepfar_regimen_report"},{name:"Regimen Switch",pathName:"pepfar_regimen_switch"},{name:"TB PREV",pathName:"pepfar_tb_prev_report"},{name:"TX CURR MMD",pathName:"pepfar_tx_curr_mmd_report"},{name:"TX ML",pathName:"pepfar_tx_ml_report"},{name:"TX RTT",pathName:"pepfar_tx_rtt"},{name:"Viral Load Coverage",pathName:"pepfar_vl_coverage"},{name:"SC ARV",pathName:"sc_arv"}]}];var S=n("c1e4"),A=n("cc74");function P(e,t){return{name:e,pathUrl:`/preferences?label=${e}&property=${t}`}}const F=[{name:"Drug Management",icon:"drug.png",condition:async()=>S["a"].isAdmin()&&await D["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED"),files:[{name:"Enter Receipts",pathUrl:"/art/stock/enter"},{name:"Enter Product relocation/Disposal",pathUrl:"/art/stock/move"},{name:"Enter verified physical stock count",pathUrl:"/art/stock/verify"},{name:"Print Barcode",pathUrl:"/drug/print"},{name:"Audit Trail",pathUrl:"/art/stock/trail"},{name:"Stock report",pathUrl:"/art/stock/report"}]},{name:"System Preferences",icon:"hiv-staging.png",condition:()=>S["a"].isAdmin(),files:[{name:"View Systems settings",pathUrl:"/art/preferences"},P("Activate Extended Lab",a["a"].EXTENDED_LABS),P("Activate VL routine check",a["a"].VL_ROUTINE_CHECK),P("Activate Filing Numbers",a["a"].FILING_NUMBERS),P("Activate drug management",a["a"].DRUG_MANAGEMENT),P("Activate Hypertension screening",a["a"].HTN_ENHANCEMENT),P("Activate fast track",a["a"].FAST_TRACK),P("Activate 3HP auto select",a["a"].THREE_HP_AUTO_SELECT),P("Is this a military site?",A["a"].MILITARY_SITE),P("(DATA CLEANING) Exclude External and Drug refill",a["a"].EXCLUDE_EXTERNAL_AND_DRUG_REFILLS),{name:"Target lab",pathUrl:"/art/preferences/target_lab"},{name:"Activate CxCa Screening",pathUrl:"/art/preferences/cervical_cancer_screening"},{name:"Set Hypertension Thresholds",pathUrl:"/art/preferences/bp_thresholds"},{name:"Set Clinic Days",pathUrl:"/art/preferences/clinic_days"},{name:"Set HTN Age",pathUrl:"/art/preferences/htn_age"},{name:"Set Appointment Limit",pathUrl:"/art/preferences/appointment/limit"},{name:"Set Filing Numbers Limit",pathUrl:"/art/preferences/fn/limit"},{name:"Set Clinic Holidays",pathUrl:"/art/preferences/clinic_holidays"}]}];var R=n("4db7"),x=n("23e6");const V=[{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png"},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png"},{id:"vitals",name:"Vitals",icon:"vitals.png",taskCompletionChecklist:["Weight"]},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png"},{id:"hiv clinic consultation",name:"HIV clinic consultation",workflowID:"HIV clinic consultations",taskCompletionChecklist:["Medication orders"],icon:"consultation.png"},{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png"},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png"},{id:"fast track assesment",name:"Fast Track assesment",icon:"fast-track.png",condition:()=>D["a"].get("IS_ART_FAST_TRACK_ENABLED"),availableOnActivitySelection:!1},{id:"dispensing",name:"Drug Dispensations",encounterTypeName:"DISPENSING",workflowID:"Drug Dispensations",icon:"dispensing.png"},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage Appointments",icon:"appointment.png"},{id:"patient type",name:"Patient Type",encounterTypeName:"Registration",icon:"patient-type.png",availableOnActivitySelection:!1},{id:"bp_management",name:"bp_management",icon:"dispensing.png",encounterTypeName:"Hypertension management",condition:()=>D["a"].get("IS_ART_HTN_ENABLED"),availableOnActivitySelection:!1},{id:"bp_alert",name:"bp_alert",icon:"dispensing.png",condition:()=>D["a"].get("IS_ART_HTN_ENABLED"),availableOnActivitySelection:!1}],L=[{id:"master_card",name:"Master card",description:"View mastercard",action:({patient:e},t)=>{t.push("/art/mastercard/"+e.patient_id)},icon:"card.png"},{id:"f_number",name:"Filing Number (Print)",description:"Print Patient Filing Number",condition:async({patient:e})=>{const t=new x["a"](e);return await D["a"].get("IS_ART_FILING_NUMBER_ENABLED")&&(t.hasActiveFilingNumber()||t.hasDormantFilingNumber())},action({patient:e}){const t=new R["a"](e.patient_id);return t.printFilingNumberLbl()},icon:"folder.png"},{id:"archive_client",name:"Archive client",description:"Archive a client",action:({patient:e},t)=>{t.push(`/art/filing_numbers/${e.patient_id}?archive=true`)},condition:async({patient:e})=>await D["a"].get("IS_ART_FILING_NUMBER_ENABLED")&&new x["a"](e).hasActiveFilingNumber(),icon:"archive.png"},{id:"assign_filing_number",name:"Assign filing number",description:"Assign a new filing number",condition:async({patient:e})=>{const t=new x["a"](e);return await D["a"].get("IS_ART_FILING_NUMBER_ENABLED")&&(t.hasDormantFilingNumber()||!t.hasActiveFilingNumber())},action:({patient:e},t)=>{t.push(`/art/filing_numbers/${e.patient_id}?assign=true`)},icon:"archive.png"},{id:"filing_number_trail",name:"View filing number trail",description:"view trail",action:({patient:e},t)=>{t.push(`/art/filing_numbers/${e.patient_id}?trail=true`)},condition:()=>D["a"].get("IS_ART_FILING_NUMBER_ENABLED"),icon:"folder.png"}];var B=n("50e7"),H=n("1da1"),M=(n("96cf"),n("4de4"),n("d3b7"),n("7957")),U=n("8158");function G(e){return $.apply(this,arguments)}function $(){return $=Object(H["a"])(regeneratorRuntime.mark((function e(t){var n,a,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"Malawi ART side effects",e.next=3,M["a"].getObservations(t,U["a"].getCachedConceptID(n));case 3:return a=e.sent,e.abrupt("return",a.filter((function(e){try{return e.children[0].value_coded==U["a"].getCachedConceptID("Yes")}catch(t){return!1}})));case 5:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}var J={alertSideEffects:G},z=n("7def"),Y=n("74f4"),W=n("ad60"),q=n("9b7c"),X=n("9283"),Q=n("8df6");const K=Object(o["createTextVNode"])(" Stock levels (Consumption rate calculated over a 3 month period) "),Z=Object(o["createTextVNode"])("X"),ee=Object(o["createTextVNode"])("Paeds"),te=Object(o["createTextVNode"])("Adults");function ne(e,t,n,a,c,r){const i=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-button"),u=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),d=Object(o["resolveComponent"])("ion-label"),p=Object(o["resolveComponent"])("ion-segment-button"),m=Object(o["resolveComponent"])("ion-segment"),h=Object(o["resolveComponent"])("ApexChart"),f=Object(o["resolveComponent"])("ion-content");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])(()=>[K]),_:1}),Object(o["createVNode"])(s,{color:"danger",slot:"end",onClick:t[1]||(t[1]=t=>e.closeModal()),class:"ion-margin-end"},{default:Object(o["withCtx"])(()=>[Z]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{onIonChange:t[2]||(t[2]=t=>e.segmentChanged(t)),value:e.segment},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,{value:"paeds"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[ee]),_:1})]),_:1}),Object(o["createVNode"])(p,{value:"adults"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[te]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),Object(o["createVNode"])(f,{class:"ion-padding"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(h,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]),_:1})],64)}var ae=n("3d6c"),ce=Object(o["defineComponent"])({name:"Modal",components:{ApexChart:j.a,IonContent:b["n"],IonHeader:b["q"],IonTitle:b["P"],IonToolbar:b["Q"],IonButton:b["d"],IonSegment:b["I"],IonSegmentButton:b["J"]},methods:{async closeModal(){await b["X"].dismiss()},getDrugs(){this.paedDrugs=ae["a"].getPaedeatricDrugs(),this.adultDrugs=ae["a"].getAdultDrugs(),this.formatDrugs()},segmentChanged(e){this.segment=e.detail.value,this.formatDrugs()},async formatDrugs(){const e=new ae["a"],t="paeds"===this.segment?this.paedDrugs:this.adultDrugs,n=[];this.series[0].data=[...n],t.forEach(async t=>{const n=await e.getConsumptionRate(t.drugID),a=parseInt(n["stock_level_in_months"]);this.series[0].data.push({x:t.shortName,y:a})})}},created(){this.getDrugs()},data(){return{paedDrugs:[],adultDrugs:[],segment:"paeds",options:{chart:{id:"vuechart-example"},plotOptions:{bar:{borderRadius:4,horizontal:!0,dataLabels:{position:"top"},colors:{ranges:[{from:0,to:2,color:"#ff0000"},{from:2,to:4,color:"#66CDAA"},{from:4,to:1e6,color:"#ffff00"}]}}},dataLabels:{enabled:!0,offsetX:0,style:{fontSize:"12px",colors:["#656565"]}},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1},grid:{column:{colors:["#FFFFFF","#FFFFFF","green"]}},yaxis:{min:1,max:9,fillColor:"#ffff00",tickAmount:1},xaxis:{fillColor:"#ffff00"}},series:[{name:"Available",data:[]}]}}});const oe=N()(ce,[["render",ne]]);var re=oe,ie=n("2ef0"),se=n("0fa1"),ue=n("276d");const le={ART_AUTO_3HP_SELECTION:{get:()=>a["b"].threeHPAutoSelectEnabled(),canReloadCache:e=>!Object(ue["b"])()||"boolean"!=typeof e.state},IS_ART_FAST_TRACK_ENABLED:{get:()=>a["b"].fastTrackEnabled(),canReloadCache:e=>!Object(ue["b"])()||"boolean"!=typeof e.state},IS_ART_HTN_ENABLED:{get:()=>a["b"].htnEnabled(),canReloadCache:e=>!Object(ue["b"])()||"boolean"!=typeof e.state},IS_ART_FILING_NUMBER_ENABLED:{get:()=>a["b"].filingNumbersEnabled(),canReloadCache:e=>!Object(ue["b"])()||"boolean"!=typeof e.state},ART_FILING_NUMBER_PREFIX:{get:()=>a["b"].filingNumberPrefix(),canReloadCache:e=>!Object(ue["b"])()||"string"!=typeof e.state},IS_ART_DRUG_MANAGEMENT_ENABLED:{get:()=>a["b"].drugManagementEnabled(),canReloadCache:e=>!Object(ue["b"])()||"boolean"!=typeof e.state},GET_LAB_ORDERS_WITH_GIVEN_RESULT_STATUS:{get:async e=>{const t=(await D["a"].get("PATIENT_LAB_ORDERS",{patientID:e.patientID})).map(async e=>{const t={...e,result_given:!1},n=e.tests.filter(e=>null!=e.result).map(e=>e.result).reduce((e,t)=>[...e,...t],[]).reduce((e,t)=>t.id,null);try{t["result_given"]=n?await(await M["a"].get(n)).children.reduce(async(e,t)=>await U["a"].getConceptID("Result Given to Client")===t.concept_id&&"Yes"===await U["a"].getConceptName(t.value_coded)?"Yes":e,"No"):"N/A"}catch(a){console.error(a)}return t});return await Promise.all(t)},canReloadCache:()=>!0}};async function de(e,t,n){const a=new Y["a"](e);await a.enrollProgram();const c=new Q["a"](e,-1);c.setPatientType(t),c.setLocationName(n),await c.createEncounter(),await c.save()}async function pe(){if(await D["a"].get("IS_ART_DRUG_MANAGEMENT_ENABLED")){const e=await b["X"].create({component:re,cssClass:"large-modal",backdropDismiss:!1});e.present(),await e.onDidDismiss()}}function me(e,t=!0){const n=e.tests[0],a=n.result[0],c=t?"<br> Result date: &nbsp; "+X["b"].toStandardHisDisplayFormat(a.date):"",o=q["a"].isHighViralLoadResult(a)?'(<b style="color: #eb445a;">High</b>)':"";return`${n.name} &nbsp; ${a.value_modifier}${a.value} ${o} ${c}`}async function he(e=""){await Object(se["c"])(V),"HomePage"===e&&await pe()}async function fe(e,t,n,c,o){return await de(e,t.patient_type,t.location),"Yes"===t.relationship&&Object(se["a"])(e,{from:"Patient Registration",to:"/guardian/registration/"+e}),await a["b"].filingNumbersEnabled()&&"New patient"===t.patient_type&&Object(se["a"])(e,{from:"Yes"===(null===t||void 0===t?void 0:t.relationship)?"Guardian Registration":"Patient Registration",to:`/art/filing_numbers/${e}?assign=true`}),Object(se["b"])(e,c,o),!0}async function ge(e){const t=await J.alertSideEffects(e.getID()),n=await e.getBMI();return[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]}function be(e){let t={};return[{label:"ART- Start Date",value:"...",init:async()=>{t=await W["a"].getProgramInformation(e)},staticValue:()=>{const[e,n,a]=t.art_start_date.split("/"),c=t.art_start_date.match(/n\/a/i)?"":`(${v()(O["e"].getSessionDate()).diff(`${a}-${n}-${e}`,"months")} Month(s))`;return`${t.art_start_date} ${c}`}},{label:"ARV Number",value:"...",staticValue:()=>`${t.arv_number} | Regimen: ${t.current_regimen}`},{label:"File Number",value:"...",staticValue:()=>t.filing_number.number},{label:"Current Outcome",value:"...",staticValue:()=>t.current_outcome}]}async function _e(e){const t=(await D["a"].get("PATIENT_LAB_ORDERS",{patientID:e})).reduce((e,t)=>{const n=t.tests.filter(e=>e.name.match(/HIV/i)&&!Object(ie["isEmpty"])(e.result)).map(e=>null===e||void 0===e?void 0:e.result);return e.concat(n.reduce((e,t)=>e.concat(t),[]))},[]).map(e=>{const t=q["a"].isHighViralLoadResult(e)?'(<b style="color: #eb445a;">High</b>)':"";return{label:`${e.indicator.name} &nbsp ${e.value_modifier}${e.value} ${t}`,value:X["b"].toStandardHisDisplayFormat(e.date),other:{wrapTxt:!0}}}).sort((e,t)=>new Date(e.value)>new Date(t.value)?-1:1);if(t.length>=2){const[e,n]=t;return[e,n]}return t}function ke(e){D["a"].invalidate("PATIENT_LAB_ORDERS");const t=Object(ie["isEmpty"])(e)?-1:null===e||void 0===e?void 0:e.getID();let n=null;return{"PROGRAM INFORMATION":()=>[{label:"Next Task",value:"...",asyncValue:async()=>{const e=await B["a"].getNextTaskParams(t);return e.name?""+e.name:"NONE"}},{label:"ART Duration",value:"...",init:async()=>{n=await W["a"].getProgramInformation(t)},asyncValue:async()=>n.art_duration},{label:"Fast Track",value:"...",asyncValue:async()=>{const e=await W["a"].getFastTrackStatus(t);return!0===e["Continue FT"]?"Yes":"No"}},{label:"Next Appointment",value:"...",asyncValue:async()=>{const e=await M["a"].getFirstValueDatetime(t,"appointment date");return e?X["b"].toStandardHisDisplayFormat(e):""}}],"PATIENT IDENTIFIERS":()=>[{label:"ARV Number",value:"...",staticValue:()=>e.getArvNumber()},{label:"NPID",value:"...",staticValue:()=>e.getNationalID()},{label:"Filing Number",value:"...",staticValue:()=>e.getFilingNumber()}],ALERTS:()=>[{label:"Side effects",value:"...",asyncValue:async()=>(await J.alertSideEffects(t)).length},{label:"Patient BMI is",value:"...",asyncValue:async()=>{const t=await e.getBMI();return t.result}}],"LAB ORDERS":async()=>{const e=[];return await D["a"].get("PATIENT_LAB_ORDERS",{patientID:t}).then(t=>{const n=q["a"].getViralLoadOrders(t);for(let a=0;a<2&&a<n.length;a++)e.push({value:me(n[a]),label:""})}),e},OUTCOME:()=>[{label:"Current Outcome",value:"...",staticValue:()=>n.current_outcome||"N/A"}],GUARDIAN:async()=>{const e=[],n=await z["a"].getGuardianDetails(t)||[];return n.length?(n.forEach(t=>{e.push({label:t.name,value:t.relationshipType}),e.push({label:"Phone",value:t.phoneNumber})}),e):[]}}}const ve={init:he,programID:1,applicationName:"ART",applicationIcon:"aids.png",applicationDescription:"HIV Client management app",appRoutes:c,primaryPatientActivites:V,secondaryPatientActivites:L,globalPropertySettings:F,programReports:C,appStore:le,homeOverviewComponent:w,confirmationSummary:ke,patientProgramInfoData:be,getPatientDashboardAlerts:ge,onRegisterPatient:fe,getPatientDashboardLabOrderCardItems:_e,programPatientIdentifiers:{"ARV Number":{id:4,name:"ARV Number",isPrimary:!0,useForSearch:!0,prefix:async()=>await D["a"].get("SITE_PREFIX")+"-ARV-"},"Filing number":{id:17,name:"Active Filing number",isPrimary:!1,useForSearch:!0,prefix:async()=>{try{const[e]=(await D["a"].get("ART_FILING_NUMBER_PREFIX")).split(",");return e}catch(e){return console.warn(e),""}},visible:()=>D["a"].get("IS_ART_FILING_NUMBER_ENABLED")},"Archived filing number":{id:18,name:"Archived filing number",isPrimary:!1,useForSearch:!0,prefix:async()=>{try{const[e,t]=(await D["a"].get("ART_FILING_NUMBER_PREFIX")).split(",");return t}catch(e){return console.warn(e),""}},visible:()=>D["a"].get("IS_ART_FILING_NUMBER_ENABLED")}}};var Oe=ve,ye=Object(o["withScopeId"])("data-v-a517e22e");Object(o["pushScopeId"])("data-v-a517e22e");var je={class:"los-overview"};Object(o["popScopeId"])();var Ie=ye((function(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createBlock"])("div",je,[Object(o["createVNode"])(i,{rows:e.rows,columns:e.columns},null,8,["rows","columns"])])})),Te=n("80e3"),Ne=n("9ceb");class Ee extends O["e"]{constructor(){super()}static async overviewStats(){const e={},t=await this.ordersMade("ordered"),n=await this.ordersMade("drawn");return t.forEach(t=>{t.name in e||(e[t.name]={ordered:0}),e[t.name].ordered+=1}),n.forEach(t=>{t.name in e||(e[t.name]={drawn:0}),e[t.name].drawn||(e[t.name].drawn=0),e[t.name].drawn+=1}),e}static ordersMade(e){return super.getJson("orders_made",{date:super.getSessionDate(),status:e,start_date:super.getSessionDate(),end_date:super.getSessionDate(),program_id:super.getProgramID()})}}var we=Object(o["defineComponent"])({components:{ReportTable:Te["a"]},data:function(){return{rows:[],columns:[[Ne["a"].thTxt("Test"),Ne["a"].thTxt("Ordered"),Ne["a"].thTxt("Drawn")]]}},created:function(){this.setRows()},methods:{setRows:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ee.overviewStats();case 2:if(n=t.sent,!Object(ie["isEmpty"])(n))for(a in n)c=n[a],e.rows.push([Ne["a"].td(a),Ne["a"].td(c.ordered),Ne["a"].td(c.drawn)]);case 4:case"end":return t.stop()}}),t)})))()}}});n("133d");const De=N()(we,[["render",Ie],["__scopeId","data-v-a517e22e"]]);var Ce=De;const Se=Object(o["createVNode"])("p",null,null,-1),Ae=Object(o["createTextVNode"])("Open"),Pe=Object(o["createTextVNode"])("Drawn"),Fe=Object(o["createVNode"])("p",null,null,-1),Re={style:{overflowX:"auto",height:"84%"}},xe=Object(o["createVNode"])("b",null,"Select specimen",-1),Ve=Object(o["createTextVNode"])("Test: "),Le=Object(o["createTextVNode"])(" Close "),Be=Object(o["createTextVNode"])(" Submit ");function He(e,t,n,a,c,r){const i=Object(o["resolveComponent"])("ion-label"),s=Object(o["resolveComponent"])("ion-segment-button"),u=Object(o["resolveComponent"])("ion-segment"),l=Object(o["resolveComponent"])("report-table"),d=Object(o["resolveComponent"])("ion-title"),p=Object(o["resolveComponent"])("ion-toolbar"),m=Object(o["resolveComponent"])("ion-header"),h=Object(o["resolveComponent"])("ion-item"),f=Object(o["resolveComponent"])("ion-list"),g=Object(o["resolveComponent"])("ion-col"),b=Object(o["resolveComponent"])("ion-chip"),_=Object(o["resolveComponent"])("ion-row"),k=Object(o["resolveComponent"])("ion-content"),v=Object(o["resolveComponent"])("ion-button"),O=Object(o["resolveComponent"])("ion-footer"),y=Object(o["resolveComponent"])("ion-page"),j=Object(o["resolveComponent"])("ion-modal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Se,Object(o["createVNode"])(u,{scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{value:"openOrders",onClick:t[1]||(t[1]=t=>e.activeTab="openOrders")},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,{class:"his-lg-text"},{default:Object(o["withCtx"])(()=>[Ae]),_:1})]),_:1}),Object(o["createVNode"])(s,{class:"his-lg-text",value:"drawnOrders",onClick:t[2]||(t[2]=t=>e.activeTab="drawnOrders")},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])(()=>[Pe]),_:1})]),_:1})]),_:1},8,["value"]),Fe,Object(o["createVNode"])("div",Re,["openOrders"===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,config:{showIndex:!1},rows:e.labOrderRows,columns:e.openColumns},null,8,["rows","columns"])):Object(o["createCommentVNode"])("",!0),"drawnOrders"===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,config:{showIndex:!1},rows:e.drawnOrders,columns:e.drawnColumns},null,8,["rows","columns"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(j,{"is-open":e.showSpecimenModal,class:"custom-modal"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[xe]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(k,{class:"ion-padding"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(_,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.specimens,(t,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:n,color:e.selectedSpecimen.name===t.name?"primary":"",onClick:n=>e.selectedSpecimen=t},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.order.tests,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(h,{lines:"none",key:t},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,{color:"success"},{default:Object(o["withCtx"])(()=>[Ve,Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(v,{color:"danger",slot:"start",onClick:t[3]||(t[3]=t=>{e.showSpecimenModal=!1,e.selectedSpecimen={}})},{default:Object(o["withCtx"])(()=>[Le]),_:1}),Object(o["createVNode"])(v,{disabled:!e.selectedSpecimen.name,color:"success",slot:"end",onClick:t[4]||(t[4]=()=>{e.showSpecimenModal=!0,e.drawOrder()})},{default:Object(o["withCtx"])(()=>[Be]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["is-open"])],64)}var Me=n("9c73"),Ue=n("b5e4");async function Ge(e,t=[]){const n=await Object(Ue["a"])("Are you sure you want to void?");if(!n)return;let a=[{text:"Mistake/ Wrong Entry",role:"Mistake/ Wrong Entry"},{text:"Duplicate",role:"Duplicate"},{text:"System Error",role:"System Error"},{text:"Cancel",role:"cancel"}];Object(ie["isEmpty"])(t)||(a=t.map(e=>({text:e,role:e})),a.push({text:"Cancel",role:"Cancel"}));const c=await b["S"].create({header:"Are you sure you want to void this Encounter?",subHeader:"Please specify reason for voiding this encounter",mode:"ios",buttons:a});c.present();const{role:o}=await c.onDidDismiss();"cancel"!=o&&e(o)}const $e={style:{background:"#f1f1f1",color:"#333",fontSize:"1.1rem !important"}};var Je=Object(o["defineComponent"])({components:{IonTitle:b["P"],IonCol:b["m"],IonRow:b["H"],IonButton:b["d"],IonList:b["y"],IonFooter:b["o"],IonToolbar:b["Q"],IonHeader:b["q"],IonItem:b["w"],IonChip:b["l"],IonModal:b["C"],IonContent:b["n"],IonPage:b["D"],ReportTable:Te["a"],IonSegment:b["I"],IonLabel:b["x"],IonSegmentButton:b["J"]},data:()=>({initiated:!1,showSpecimenModal:!1,specimens:[],order:{},selectedSpecimen:{},service:{},activeTab:"openOrders",drawnColumns:[[Ne["a"].thTxt("Accession #",$e),Ne["a"].thTxt("Test",$e),Ne["a"].thTxt("Actions",$e)]],openColumns:[[Ne["a"].thTxt("Accession #",$e),Ne["a"].thTxt("Test",$e),Ne["a"].thTxt("Reason for test",$e),Ne["a"].thTxt("Drawn",$e),Ne["a"].thTxt("Void",$e)]],drawnOrdersData:[],openOrdersData:[],drawnOrders:[],labOrderRows:[]}),watch:{visitDate:{async handler(e){this.initiated||(await this.init(),this.initiated=!0),e&&this.activeTab&&(this.drawnOrders=this.getdrawnOrders(this.drawnOrdersData.filter(t=>this.toDate(t.order_date)===e)),this.labOrderRows=this.getLabOrderRows(this.openOrdersData.filter(t=>this.toDate(t.order_date)===e)))},immediate:!0}},methods:{async init(){this.service=new Me["a"](this.patient.getID()),this.openOrdersData=await this.service.getOrders("ordered"),this.drawnOrdersData=await this.service.getOrders("drawn")},toDate(e){return X["b"].toStandardHisFormat(e)},removeLabOrderRow(e){this.labOrderRows=this.labOrderRows.filter(t=>{var n,a;return(null===(n=t[0])||void 0===n||null===(a=n.value)||void 0===a?void 0:a.orderID)!=e})},async drawOrder(){try{const e=await this.service.updateOrderSpecimen(this.order.order_id,this.selectedSpecimen.concept_id);if(!e)throw"Unable to draw sample";this.drawnOrders=this.drawnOrders.concat(this.getdrawnOrders([e])),this.removeLabOrderRow(this.order.order_id),this.showSpecimenModal=!1,this.service.printSpecimenLabel(this.order.order_id)}catch(e){console.error(e),Object(Ue["c"])(e)}},getLabOrderRows(e){return e.map(e=>[Ne["a"].td(e.accession_number,{value:{orderID:e.order_id}}),Ne["a"].td(e.tests.map(e=>e.name).join(",")),Ne["a"].td(e.reason_for_test.name||"N/A"),Ne["a"].tdBtn("Draw",async()=>{this.order=e,this.showSpecimenModal=!0,this.specimens=await Me["a"].getSpecimensForTests(e.tests)},{},"success"),Ne["a"].tdBtn("Void",async()=>{Ge(async t=>{try{await this.service.voidOrder(e.order_id,t),this.removeLabOrderRow(e.order_id)}catch(n){Object(Ue["c"])(n)}},["Duplicate order","Wrong client"])},{},"danger")])},getdrawnOrders(e){return e.map(e=>[Ne["a"].td(e.accession_number),Ne["a"].td(e.tests.map(e=>e.name).join(",")),Ne["a"].tdBtn("Print",()=>this.service.printSpecimenLabel(e.order_id))])}},props:{patient:{type:Object,required:!0},visitDate:{type:String}}});const ze=N()(Je,[["render",He]]);var Ye=ze;const We=[{id:"draw samples",name:"Draw Samples",icon:"social_history.png",action:({patient:e},t)=>{t.push(`/los/forms/order/${e.patient_id}?type=DRAW_SAMPLES`)}}];var qe=[{name:"order tests",path:"/los/forms/order/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-625971b9"),n.e("chunk-2f08f350")]).then(n.bind(null,"fabb"))},{name:"Tests requested report",path:"/los/report/tests/requests",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-7f211796"),n.e("chunk-2d2297b9")]).then(n.bind(null,"de46"))},{name:"Test results report",path:"/los/report/tests/results",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-7f211796"),n.e("chunk-64eefda5")]).then(n.bind(null,"e9ce"))}];const Xe={programID:23,applicationName:"LOS",applicationIcon:"order.png",applicationDescription:"Lab Order System",appRoutes:qe,primaryPatientActivites:We,secondaryPatientActivites:[],globalPropertySettings:[],homeOverviewComponent:Ce,customPatientDashboardContentComponent:Ye,confirmationSummary:e=>({"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],"LAB ORDERS":async()=>{const t=await q["a"].getOrders(e.getID());return t.map(e=>({label:e.specimen.name,value:`${e.accession_number} - ${X["b"].toStandardHisDisplayFormat(e.order_date)}`}))}}),programReports:[{name:"Clinical",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Test requested",pathUrl:"/los/report/tests/requests"},{name:"Test results",pathUrl:"/los/report/tests/results"}]}]};var Qe=Xe,Ke=Object(o["withScopeId"])("data-v-8f1b8bca"),Ze=Ke((function(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("opd-stat-card"),s=Object(o["resolveComponent"])("ion-col"),u=Object(o["resolveComponent"])("ion-row"),l=Object(o["resolveComponent"])("opd-stat-chart"),d=Object(o["resolveComponent"])("syndromic-stat-chart"),p=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(p,null,{default:Ke((function(){return[Object(o["createVNode"])(u,null,{default:Ke((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientSummaryStats,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.label},{default:Ke((function(){var t;return[Object(o["createVNode"])(i,{label:e.label,value:e.value,color:null!==(t=e.color)&&void 0!==t?t:""},null,8,["label","value","color"])]})),_:2},1024)})),128))]})),_:1}),Object(o["createVNode"])(u,null,{default:Ke((function(){return[Object(o["createVNode"])(s,null,{default:Ke((function(){return[Object(o["createVNode"])(l,{series:e.accumulativeVisits.visits,categories:e.accumulativeVisits.days},null,8,["series","categories"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Ke((function(){return[Object(o["createVNode"])(d,{categories:e.AccumulativePatietRespiratoryComplaints.categories,series:e.AccumulativePatietRespiratoryComplaints.series},null,8,["categories","series"])]})),_:1})]})),_:1})]})),_:1})})),et=Object(o["withScopeId"])("data-v-5ce582b2"),tt=et((function(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-spinner"),u=Object(o["resolveComponent"])("ion-card-content"),l=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{style:e.bgColor},{default:et((function(){return[Object(o["createVNode"])(u,null,{default:et((function(){return[Object(o["createVNode"])(i,null,{default:et((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:1}),-1===e.value?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0},{default:et((function(){return[Object(o["createVNode"])(s,{name:"crescent"})]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1},{default:et((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]})),_:1}))]})),_:1})]})),_:1},8,["style"])})),nt=(n("a9e3"),Object(o["defineComponent"])({props:{label:String,value:Number,color:String},components:{IonCard:b["f"],IonCardContent:b["g"],IonCardSubtitle:b["i"],IonSpinner:b["L"]},setup:function(e){var t;return{bgColor:"background-color: ".concat(null!==(t=e.color)&&void 0!==t?t:"")}}}));n("985a");const at=N()(nt,[["render",tt],["__scopeId","data-v-5ce582b2"]]);var ct=at;function ot(e,t,n,a,c,r){const i=Object(o["resolveComponent"])("ApexChart");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{width:"100%",height:"350px",type:"bar",options:e.options,series:e.series},null,8,["options","series"])}var rt=Object(o["defineComponent"])({components:{ApexChart:j.a},props:{categories:Array,series:Array},setup(e){const t=Object(o["ref"])({chart:{height:"auto",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},toolbar:{show:!1}},title:{text:"New registered , Returning and Referred clients",margin:20,align:"center",style:{fontWeight:"regular"}},subtitle:{text:"For the past 12 months",align:"center",margin:10},xaxis:{categories:e.categories},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients"}},noData:{text:"Loading data. Please wait...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}});return{options:t}}});const it=N()(rt,[["render",ot]]);var st=it;function ut(e,t,n,a,c,r){const i=Object(o["resolveComponent"])("ApexChart");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{width:"99%",height:"350px",type:"area",options:e.options,series:e.series},null,8,["options","series"])}var lt=Object(o["defineComponent"])({components:{ApexChart:j.a},props:{categories:Array,series:Array},setup(e){const t=Object(o["ref"])({chart:{height:"auto",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},toolbar:{show:!1}},title:{text:"Influenza Like Illness , Respiratory",margin:20,align:"center",style:{fontWeight:"regular"}},subtitle:{text:"For the past 12 months",align:"center",margin:10},xaxis:{categories:e.categories},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients"}},noData:{text:"Loading data. Please wait...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}});return{options:t}}});const dt=N()(lt,[["render",ut]]);var pt=dt,mt=n("d4ec"),ht=n("bee2"),ft=n("45eb"),gt=n("7e84"),bt=n("262e"),_t=n("2caf");n("b64b"),n("159b"),n("ac1f"),n("5319"),n("4e82"),n("99af"),n("fb6a");function kt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var vt={capitalizeFirstLetter:kt},Ot=function(e){Object(bt["a"])(n,e);var t=Object(_t["a"])(n);function n(){return Object(mt["a"])(this,n),t.call(this)}return Object(ht["a"])(n,null,[{key:"getStatistics",value:function(){return Object(ft["a"])(Object(gt["a"])(n),"getJsonSWR",this).call(this,"dashboard_stats",{date:Object(ft["a"])(Object(gt["a"])(n),"getSessionDate",this).call(this),program_id:Object(ft["a"])(Object(gt["a"])(n),"getProgramID",this).call(this)})}},{key:"getTodaysPatientVisits",value:function(e){var t=Object.keys(e),n=0,a=[];return t.forEach((function(t){a.push({label:vt.capitalizeFirstLetter(t.replace("_"," ")),value:e[t],color:"lightyellow"}),n+=e[t]})),a.push({label:"Total",value:n,color:"yellowgreen"}),a}},{key:"getAccumulativePatientVisits",value:function(e){var t=Object.keys(e),n=Object.keys(e[t[0]]),a=[],c=[];for(var o in t){var r=[];for(var i in n){var s=e[t[o]][n[i]].start_date,u=v()(s).format("MMM/YYYY");u!==a[i]&&a.push(u),r.push(e[t[o]][n[i]].count)}c.push({name:vt.capitalizeFirstLetter(t[o]),data:r})}return{days:a,visits:c}}},{key:"getRespiratory",value:function(){return Object(ft["a"])(Object(gt["a"])(n),"getJsonSWR",this).call(this,"/dashboard_stats_for_syndromic_statistics",{date:Object(ft["a"])(Object(gt["a"])(n),"getSessionDate",this).call(this),program_id:Object(ft["a"])(Object(gt["a"])(n),"getProgramID",this).call(this)})}},{key:"getAccumulativePatietRespiratoryComplaints",value:function(e){var t=[],n=e,a=[],c=[],o=[],r=[],i=[{name:"Influenza Like Illness ",data:[0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"Respiratory",data:[0,0,0,0,0,0,0,0,0,0,0,0,0]}];for(var s in n){var u=n[s];for(s in u)t.push(parseInt(s));break}t=t.sort((function(e,t){return e-t}));for(var l=["ILI","Respiratory"],d={},p=0;p<t.length;p++){var m=n[l[0]][t[p]].start_date,h=v()(m).format("MMM/YYYY");a.push(h)}for(var f=0;f<a.length;f++){for(var g in n){var b=n[g];for(var _ in b){var k=n[g][_].start_date,O=v()(k).format("MMM/YYYY");O==a[f]&&(void 0==d[g]&&(d[g]=[]),"ILI"==g&&c.push(n[g][_].count),"Respiratory"==g&&o.push(n[g][_].count))}}i[0].data=[].concat(c),i[1].data=[].concat(o),r=[].concat(a)}return{categories:r,series:i}}}]),n}(O["e"]),yt=Object(o["defineComponent"])({components:{OpdStatCard:ct,OpdStatChart:st,IonGrid:b["p"],IonRow:b["H"],IonCol:b["m"],SyndromicStatChart:pt},setup:function(){var e=Ot.getStatistics(),t=Object(o["computed"])((function(){var t;return e.value?Ot.getTodaysPatientVisits(null===(t=e.value)||void 0===t?void 0:t.top):[{label:"Registered today",value:-1,color:"lightyellow"},{label:"Returning today",value:-1,color:"lightyellow"},{label:"Referred today",value:-1,color:"lightyellow"},{label:"Total",value:-1,color:"yellowgreen"}]})),n=Object(o["computed"])((function(){var t;return e.value?Ot.getAccumulativePatientVisits(null===(t=e.value)||void 0===t?void 0:t.down):{days:[],visits:[]}})),a=Ot.getRespiratory(),c=Object(o["computed"])((function(){var e;return a.value?Ot.getAccumulativePatietRespiratoryComplaints(null===(e=a.value)||void 0===e?void 0:e.down):{categories:[],series:[]}}));return{patientSummaryStats:t,accumulativeVisits:n,AccumulativePatietRespiratoryComplaints:c}}});n("e897");const jt=N()(yt,[["render",Ze],["__scopeId","data-v-8f1b8bca"]]);var It=jt,Tt=[{id:"patient registration",name:"Patient registration",icon:"attributes.png"},{id:"vitals",name:"Vitals",icon:"vitals.png"},{id:"presenting complaints",name:"Presenting complaints",icon:"complaints.png"},{id:"hiv status",name:"HIV STatus",icon:"aids.png",encounterTypeName:"update hiv status",availableOnActivitySelection:!1},{id:"outpatient diagnosis",name:"Outpatient diagnosis",icon:"diagnosis.png"},{id:"outcome status",name:"Outcome status",icon:"outcomes.png",availableOnActivitySelection:!1},{id:"lab orders",name:"Lab orders",icon:"clinical-notes.png",availableOnActivitySelection:!1,action:function(e,t){var n=e.patient;t.push("/los/forms/order/".concat(n.patient_id,"?type=DRAW_SAMPLES"))}},{id:"lab results",name:"Lab results",icon:"enter.png",availableOnActivitySelection:!1,action:function(e,t){var n=e.patient;t.push({path:"/lab/results/".concat(n.patient_id)})}},{id:"OPD social history",name:"OPD social history",icon:"medical-report.png",availableOnActivitySelection:!1},{id:"prescription",name:"Prescription",encounterTypeName:"Treatment",icon:"drugs-given.png"},{id:"dispensation",name:"Dispensation",encounterTypeName:"dispensing",icon:"dispensing.png",availableOnActivitySelection:!1}],Nt=[{id:"radiology examination",name:"radiology examination",icon:"radiology_types.png"}],Et=n("b85c"),wt=["Queen Elizabeth Central Hospital","Kamuzu Central Hospital","Mzuzu Central Hospital","Zomba Central Hospital"];function Dt(){var e,t=Object(Et["a"])(wt);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n==O["e"].getLocationName())return!0}}catch(a){t.e(a)}finally{t.f()}return!1}var Ct=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",condition:function(){return!0},files:[{name:"LA report",pathName:"moh_la",condition:function(){return!1}},{name:"Drug report",pathName:"moh_drug",condition:function(){return!1}},{name:"Malaria report",pathName:"moh_malaria",condition:function(){return!1}},{name:"IPT",pathName:"moh_ipt",condition:function(){return!1}},{name:"IDSR Weekley Report",pathName:"idsr_weekly"},{name:"IDSR Monthly Report",pathName:"idsr_monthly"},{name:"HMIS 15 Report",pathName:"hmis_15",condition:function(){return!Dt()}},{name:"HMIS 17 Report",pathName:"hmis_17",condition:function(){return Dt()}}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Diagnosis by address",pathName:"clinic_diagnosis_by_address"},{name:"Diagnosis",pathName:"clinic_diagnosis"},{name:"Registration report",pathName:"clinic_registration"},{name:"LA report",pathName:"clinic_la"},{name:"Cases seen report",pathName:"clinic_cases_seen"},{name:"Mental health report",pathName:"clinic_mental_health"},{name:"Drugs (dispensed without prescription)",pathName:"clinic_drugs_given"},{name:"Drugs (prescribed and dispensed)",pathName:"clinic_drugs"},{name:"With NIDs",pathName:"clinic_with_nids"}]}],St=[{name:"patient registration",path:"/opd/encounters/registration/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-7be20c1d")]).then(n.bind(null,"c7512"))},{name:"hiv status",path:"/opd/encounters/hiv-status/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-41a9dd0a")]).then(n.bind(null,"8652"))},{name:"vitals",path:"/opd/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-25532402")]).then(n.bind(null,"ab49"))},{name:"outpatient diagnosis",path:"/opd/encounters/diagnosis/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-610c914e")]).then(n.bind(null,"a16a6"))},{name:"outcome status",path:"/opd/encounters/outcome-status/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-753a9bc9")]).then(n.bind(null,"80ff"))},{name:"OPD social history",path:"/opd/encounters/social/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-5d065fa7")]).then(n.bind(null,"a949"))},{name:"presenting complaints",path:"/opd/encounters/complaints/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-10567f65"),n.e("chunk-fa7aafa6")]).then(n.bind(null,"fea9"))},{name:"prescription",path:"/opd/encounters/prescription/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-4e68d643")]).then(n.bind(null,"13c2"))},{name:"dispensation",path:"/opd/encounters/dispensing/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-0d8a9648")]).then(n.bind(null,"4fc0"))},{name:"radiology examination",path:"/opd/encounters/radiology/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-a7c378ee")]).then(n.bind(null,"640e"))},{name:"clinic_with_nids",path:"/opd/reports/clinic/clinic_with_nids",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-24c61e3e")]).then(n.bind(null,"efa6"))},{name:"clinic_drugs_given",path:"/opd/reports/clinic/clinic_drugs_given",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-396f5648")]).then(n.bind(null,"d48c"))},{name:"clinic_drugs",path:"/opd/reports/clinic/clinic_drugs",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-67356a1a")]).then(n.bind(null,"2941"))},{name:"clinic_registration",path:"/opd/reports/clinic/cclinic_registration",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-4923dd30")]).then(n.bind(null,"fd0a"))},{name:"clinic_la",path:"/opd/reports/clinic/clinic_la",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-2726be10")]).then(n.bind(null,"7666"))},{name:"clinic_cases_seen",path:"/opd/reports/clinic/clinic_cases_seen",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-8f988722")]).then(n.bind(null,"f482"))},{name:"clinic_mental_health",path:"/opd/reports/clinic/clinic_mental_health",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-49711748")]).then(n.bind(null,"3c87"))},{name:"clinic_diagnosis",path:"/opd/reports/clinic/clinic_diagnosis",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-41b1bc66")]).then(n.bind(null,"15ab"))},{name:"clinic_diagnosis_by_address",path:"/opd/reports/clinic/clinic_diagnosis_by_address",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-55995f35")]).then(n.bind(null,"e4c1"))},{name:"idsr_weekly",path:"/opd/reports/moh/idsr_weekly",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-2c5362f6"),n.e("chunk-245216b5")]).then(n.bind(null,"53dc"))},{name:"idsr_monthly",path:"/opd/reports/moh/idsr_monthly",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-2c5362f6"),n.e("chunk-05a3c442")]).then(n.bind(null,"9ad4"))},{name:"hmis_15",path:"/opd/reports/moh/hmis_15",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-2c5362f6"),n.e("chunk-6f19fe7a")]).then(n.bind(null,"39a4"))},{name:"hmis_17",path:"/opd/reports/moh/hmis_17",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-2c5362f6"),n.e("chunk-6afe013c")]).then(n.bind(null,"8410"))}],At=n("cc6f"),Pt=n("66fd");function Ft(e,t){return{name:e,pathUrl:"/preferences?label=".concat(e,"&property=").concat(t)}}var Rt=[{name:"System Preferences",icon:"diagnosis.png",condition:function(){return S["a"].isAdmin()},files:[Ft("Activate PACs",Pt["a"].PACS_ENABLED)]}],xt=n("2706");async function Vt(e){const t=new Y["a"](e);await t.enrollProgram();const n=new At["a"](e,5);await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient")}function Lt(e){return[{label:"Malawi National ID",value:"...",asyncValue:async()=>{const t=await D["a"].get("ACTIVE_PATIENT",{patientID:e});return t?t.getMWNationalID():"unknown"}},{label:"HIV Status",value:"...",asyncValue:async()=>await M["a"].getFirstValueText(e,"HIV Status")||"N/A"}]}async function Bt(e){const t=await J.alertSideEffects(e.getID()),n=await e.getBMI();return[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]}function Ht(e){const t=e.tests[0],n=t.result[0],a=q["a"].isHighViralLoadResult(n)?'(<b style="color: #eb445a;">High</b>)':"";return`${t.name} ${n.value_modifier}${n.value} ${a}`}function Mt(e,t){return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],ALERTS:()=>Bt(e),"LAB ORDERS":async()=>{const t=[];return await q["a"].getOrders(e.getID()).then(e=>{const n=q["a"].getViralLoadOrders(e);n.forEach(e=>{t.push({value:Ht(e),label:""})})}),t},OUTCOME:()=>[{label:"Current Outcome",value:t.outcome||"N/A"}],GUARDIAN:async()=>{const t=await z["a"].getGuardianDetails(e.getID());return t?t.map(e=>({label:e.name,value:e.relationshipType})):[]}}}const Ut={programID:14,applicationName:"OPD",applicationIcon:"opd.png",applicationDescription:"Outpatient Program",appRoutes:St,programReports:Ct,primaryPatientActivites:Tt,secondaryPatientActivites:Nt,homeOverviewComponent:It,globalPropertySettings:Rt,onRegisterPatient:Vt,patientProgramInfoData:Lt,confirmationSummary:Mt,init:async()=>await Object(se["c"])(Tt,"OPD_activities"),programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",validation:e=>xt["a"].isMWNationalID(e)}}};var Gt=Ut,$t=[{name:"ANC Vitals",path:"/anc/encounters/vitals/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-9d96e180")]).then(n.bind(null,"8866"))},{name:"anc_pepfar_disaggregated",path:"/anc/pepfar_disaggregated",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-6f23a129"),n.e("chunk-2d0db1ed")]).then(n.bind(null,"6f07"))},{name:"anc_clinic_appointment",path:"/anc/clinic_appointments",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-67d32ce7")]).then(n.bind(null,"9db1"))},{name:"anc_moh_report",path:"/anc/moh_report/:template_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-6321936e")]).then(n.bind(null,"0128"))},{name:"art_followup",path:"/anc/pmtct/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-8f3cd08c")]).then(n.bind(null,"60fb"))},{name:"anc data-cleaning tools",path:"/anc/datacleaning",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-0394d45c")]).then(n.bind(null,"8a2d"))},{name:"drugset management",path:"/anc/drugset",component:()=>n.e("chunk-f15d923e").then(n.bind(null,"3286"))},{name:"add anc drugset",path:"/anc/drugset/add",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-56873b06")]).then(n.bind(null,"668a"))},{name:"anc dispensing",path:"/anc/ttv/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-5d9db78a")]).then(n.bind(null,"dc52"))},{name:"anc visit type",path:"/anc/visit/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-603b7233")]).then(n.bind(null,"dc75"))},{name:"surgical history",path:"/anc/surgical_history/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-159e38ab")]).then(n.bind(null,"1226"))},{name:"medical history",path:"/anc/medical_history/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-01a5b102")]).then(n.bind(null,"ba823"))},{name:"anc examination",path:"/anc/examination/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-61f9fc74")]).then(n.bind(null,"2819"))},{name:"social history",path:"/anc/social_history/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-49088940")]).then(n.bind(null,"83a6"))},{name:"lab results",path:"/anc/lab_results/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-0659713c")]).then(n.bind(null,"d8ba"))},{name:"obstetric history",path:"/anc/obsteric/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-238d182f")]).then(n.bind(null,"0773"))},{name:"current pregnancy",path:"/anc/current_pregnancy/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-7b8bfad3")]).then(n.bind(null,"9841"))},{name:"anc treatment",path:"/anc/treatment/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-b571ac70")]).then(n.bind(null,"46d3"))},{name:"anc pepfar pmtct report",path:"/anc/report/pmtct_pepfar",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-6f23a129"),n.e("chunk-2d229c15")]).then(n.bind(null,"df96"))}];function Jt(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("report-data-table");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{asyncRows:e.getRows,columns:e.columns,config:{tableCssTheme:"art-report-theme",skeletonTextRows:5,showIndex:!1}},null,8,["asyncRows","columns"])}n("d81d");var zt=function(e){Object(bt["a"])(n,e);var t=Object(_t["a"])(n);function n(){return Object(mt["a"])(this,n),t.call(this)}return Object(ht["a"])(n,null,[{key:"getStats",value:function(){return this.getJson("programs/".concat(this.getProgramID(),"/reports/visits"),{name:"visits_report",start_date:this.getSessionDate()})}}]),n}(O["e"]),Yt=Object(o["defineComponent"])({components:{ReportDataTable:Te["a"]},setup:function(){var e=[[Ne["a"].thTxt("Total with:"),Ne["a"].thTxt("Me"),Ne["a"].thTxt("Today"),Ne["a"].thTxt("This Year")]];function t(){return n.apply(this,arguments)}function n(){return n=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zt.getStats();case 2:return t=e.sent,n=[1,2,3,4,">5"],e.abrupt("return",n.map((function(e){return[Ne["a"].td("".concat(e," ").concat(1===e?"visit":"visits")),Ne["a"].td(t.user[e]),Ne["a"].td(t.today[e]),Ne["a"].td(t.year[e])]})));case 5:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}return{getRows:t,columns:e}}});const Wt=N()(Yt,[["render",Jt]]);var qt=Wt,Xt=(n("caad"),n("2532"),n("3e53")),Qt=n("9e49"),Kt=n("2989"),Zt=n("afbc");function en(e){return tn.apply(this,arguments)}function tn(){return tn=Object(H["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue["a"])("Do you want switch to ART Application to proceed with PMTCT tasks?");case 2:if(!e.sent){e.next=6;break}Xt["a"].switchAppWorkflow("ART",t.patientID,t.router,Object(H["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Q["a"](t.patientID,-1),e.next=3,n.createEncounter();case 3:return e.next=5,n.savePatientType("New patient");case 5:case"end":return e.stop()}}),e)})))),e.next=7;break;case 6:t.router.push("/patient/dashboard/"+t.patientID);case 7:case"end":return e.stop()}}),e)}))),tn.apply(this,arguments)}function nn(e,t){return!!Array.isArray(e)&&e.includes(t)}var an=[{id:"print_session_lab_results",name:"Lab results (Print)",icon:"barcode.svg",action:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(t){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.patientID,a=t.visitDate,c=new Qt["a"](n,-1),c.date=a,e.next=5,c.printLabResults();case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{id:"print_session_social_history",name:"Patient history (Print)",icon:"barcode.svg",action:function(e){var t=e.patientID,n=new Kt["a"](t,-1);n.printSocialHistory()}}],cn=[{id:"anc dispensing",name:"TTV VACCINATION",encounterTypeName:"DISPENSING",icon:"prescription/medication.png"},{id:"anc visit type",name:"ANC VISIT TYPE",icon:"registration.png"},{id:"surgical history",name:"SURGICAL HISTORY",icon:"surgical_history.png",disabled:function(e){return nn(e.savedEncounters,"SURGICAL HISTORY")}},{id:"medical history",name:"Medical History",icon:"medical_history.png",disabled:function(e){return nn(e.savedEncounters,"MEDICAL HISTORY")}},{id:"anc examination",name:"Examination",workflowID:"ANC examination",encounterTypeName:"ANC EXAMINATION",icon:"diagnosis.png"},{id:"social history",name:"Social History",icon:"social_history.png",disabled:function(e){return nn(e.savedEncounters,"SOCIAL HISTORY")}},{id:"lab results",name:"Lab Results",icon:"lab.png"},{id:"obstetric history",name:"Obstetric history",icon:"obstetric_history.png",disabled:function(e){return nn(e.savedEncounters,"OBSTETRIC HISTORY")}},{id:"current pregnancy",name:"Current Pregnancy",icon:"current_preg.png",disabled:function(e){return nn(e.savedEncounters,"CURRENT PREGNANCY")}},{id:"anc treatment",workflowID:"Give drugs",name:"anc treatment",encounterTypeName:"TREATMENT",icon:"dispensing.png"},{id:"art_followup",name:"art_followup",workflowID:"ARV Follow Up",icon:"pmtct.png"},{id:"vitals",name:"Vitals",icon:"vitals.png",action:function(e){Zt["a"].push("/anc/encounters/vitals/".concat(e.patientID))},taskCompletionChecklist:["Weight"]},{id:"appointment",name:"Manage Appointments",encounterTypeName:"APPOINTMENT",workflowID:"Manage appointment",icon:"appointment.png"},{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png",action:function(e){return en(e)},condition:function(){return!1}},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png",action:function(e){return en(e)},condition:function(){return!1}}],on=n("f01e");const rn=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"Cohort",pathUrl:"/anc/moh_report/CohortTemplate"},{name:"Monthly",pathUrl:"/anc/moh_report/MonthlyTemplate"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Appointments",pathName:"anc_clinic_appointment"},{name:"Incomplete visits",pathUrl:"/anc/datacleaning?cleaning_tool="+on["a"].INCOMPLETE_VISITS}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Disaggregated",pathName:"anc_pepfar_disaggregated"},{name:"PMTCT",pathName:"anc pepfar pmtct report"}]}],sn={programID:12,applicationName:"ANC",applicationIcon:"anc.png",applicationDescription:"Antenatal Program",appRoutes:$t,primaryPatientActivites:cn,secondaryPatientActivites:an,programReports:rn,homeOverviewComponent:qt,init:async()=>await Object(se["c"])(cn),patientProgramInfoData:e=>{let t={};return[{label:"Date of last ANC visit",value:"...",init:async()=>{t=await W["a"].getProgramInformation(e)},staticValue:()=>t.date_of_lnmp||"N/A"},{label:"Gestation:",value:"...",staticValue:()=>t.gestation?t.gestation+" week(s)":"N/A"},{label:"ANC Visits",value:"...",staticValue:()=>t.anc_visits||"N/A"},{label:"Current outcome",value:"...",staticValue:()=>t.current_outcome||"N/A"}]},confirmationSummary(e,t){const n=e.getID(),a=e=>X["b"].toStandardHisDisplayFormat(e);return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()},{label:"National ID",value:e.getMWNationalID()}],"PROGRAM INFO":()=>{let e=null;return[{label:"ANC visit",value:"...",init:async()=>{e=await W["a"].getProgramInformation(n)},staticValue:()=>e.anc_visits||"N/A"},{label:"Next Appointment Date",value:"...",asyncValue:async()=>{const e=await M["a"].getFirstValueDatetime(n,"appointment date");return e?a(e):"N/A"}},{label:"Gestation Age",value:"...",staticValue:()=>e.gestation?e.gestation+" week(s)":"N/A"},{label:"Date of LMP",value:"...",staticValue:()=>e.date_of_lnmp?a(e.date_of_lnmp):"N/A"},{label:"EDOD",staticValue:()=>e.edod?a(e.edod):"N/A"},{label:"Next task",value:"...",asyncValue:async()=>(await B["a"].getNextTaskParams(n)).name.toUpperCase()||"N/A"}]},OUTCOME:()=>[{label:"Current Outcome",value:"...",staticValue:()=>t.outcome||"N/A"}],LABS:async()=>(await q["a"].getOrders(n)).map(e=>({label:e.tests.map(e=>e.name).join(" & "),value:X["b"].toStandardHisDisplayFormat(e.order_date)})),GUARDIANS:async()=>{const e=await z["a"].getGuardianDetails(n);return e?e.map(e=>({label:e.name,value:e.relationshipType})):[]}}},async onRegisterPatient(e){const t=new At["a"](e,5,-1);await t.createEncounter(),await t.saveValueCodedObs("Type of patient","New patient")},programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>""}}};var un=sn,ln=Object(o["withScopeId"])("data-v-87abacbc");Object(o["pushScopeId"])("data-v-87abacbc");var dn={class:"los-overview"},pn=Object(o["createVNode"])("h4",null,"Today's clients booked from HIV/ART program",-1);Object(o["popScopeId"])();var mn=ln((function(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("his-basic-table"),s=Object(o["resolveComponent"])("ion-col"),u=Object(o["resolveComponent"])("ion-row"),l=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])("div",dn,[Object(o["createVNode"])(l,{style:{height:"100%"}},{default:ln((function(){return[Object(o["createVNode"])(u,null,{default:ln((function(){return[Object(o["createVNode"])(s,{size:"6"},{default:ln((function(){return[Object(o["createVNode"])(i,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(o["createVNode"])(s,{size:"6",style:{"border-left":"5px solid black"}},{default:ln((function(){return[pn,Object(o["createVNode"])(i,{columns:e.screenedColumns,rows:e.screenedRows},null,8,["columns","rows"])]})),_:1})]})),_:1})]})),_:1})])})),hn=n("2909"),fn=n("a3a5"),gn=function(e){Object(bt["a"])(n,e);var t=Object(_t["a"])(n);function n(){return Object(mt["a"])(this,n),t.call(this)}return Object(ht["a"])(n,null,[{key:"overviewStats",value:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.dashboardStats();case 2:for(a in t=e.sent,n=[],t)n.push([a,t[a]]);return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"screenedOverviewStats",value:function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c,o,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.screenedStats();case 2:for(a in t=e.sent,n=[],t){c=t[a],o=0,r=Object(Et["a"])(c);try{for(r.s();!(i=r.n()).done;)s=i.value,1==s["screening_method_present"]&&o++}catch(u){r.e(u)}finally{r.f()}n.push([a,c.length,o])}return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dashboardStats",value:function(){return Object(ft["a"])(Object(gt["a"])(n),"getJson",this).call(this,"dashboard_stats",{date:Object(ft["a"])(Object(gt["a"])(n),"getSessionDate",this).call(this),program_id:Object(ft["a"])(Object(gt["a"])(n),"getProgramID",this).call(this)})}},{key:"screenedStats",value:function(){return Object(ft["a"])(Object(gt["a"])(n),"getJson",this).call(this,"screened_for_cxca",{date:Object(ft["a"])(Object(gt["a"])(n),"getSessionDate",this).call(this),program_id:Object(ft["a"])(Object(gt["a"])(n),"getProgramID",this).call(this),report_name:"BOOKED CLIENTS FROM ART",start_date:Object(ft["a"])(Object(gt["a"])(n),"getSessionDate",this).call(this),end_date:Object(ft["a"])(Object(gt["a"])(n),"getSessionDate",this).call(this)})}}]),n}(O["e"]),bn=Object(o["defineComponent"])({components:{HisBasicTable:fn["a"]},data:function(){return{rows:[],columns:["Today's screening method","Count"],screenedColumns:["Age group","Booked","Screened"],screenedRows:[]}},created:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setRows();case 2:case"end":return t.stop()}}),t)})))()},methods:{setRows:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,gn.overviewStats();case 2:return n=t.sent,e.rows=Object(hn["a"])(n),t.next=6,gn.screenedOverviewStats();case 6:a=t.sent,e.screenedRows=Object(hn["a"])(a);case 8:case"end":return t.stop()}}),t)})))()}}});n("8081");const _n=N()(bn,[["render",mn],["__scopeId","data-v-87abacbc"]]);var kn=_n,vn=[{id:"cxca test",name:"cxca test",workflowID:"cxca test",icon:"via-test.png"},{id:"cxca screening result",name:"cxca screening result",workflowID:"cxca screening result",icon:"first-aid-kit.png"},{id:"cxca treatment",name:"cxca treatment",workflowID:"cxca treatment",icon:"cancer.png"},{id:"cxca referral feedback",name:"cxca referral feedback",workflowID:"cxca referral feedback",icon:"referral.png"},{id:"appointment",name:"Manage Appointments",workflowID:"Manage Appointments",encounterTypeName:"appointment",icon:"appointment.png"}],On=[{name:"cxca test",path:"/cxca/encounters/clinical_assessment/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-4e1cd824")]).then(n.bind(null,"e7aa"))},{name:"cxca treatment",path:"/cxca/encounters/cancer_treatment/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-515474f6")]).then(n.bind(null,"0605"))},{name:"cxca reception",path:"/cxca/encounters/cancer_reception/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-654c8487")]).then(n.bind(null,"ba9c"))},{name:"cxca referral feedback",path:"/cxca/encounters/cancer_feedback/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-2b71730d")]).then(n.bind(null,"01bd"))},{name:"cxca screening result",path:"/cxca/encounters/cancer_screening_result/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-23cae350")]).then(n.bind(null,"d66c"))},{name:"cxca result",path:"/cxca/encounters/cancer_result/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-449ba214")]).then(n.bind(null,"1411"))},{name:"cc_basic_results",path:"/cxca/report/pepfar/cc_basic_results",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-29c0180e")]).then(n.bind(null,"601a"))},{name:"cc_all_questions",path:"/cxca/report/pepfar/cc_all_questions",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-116c7d50")]).then(n.bind(null,"f240"))},{name:"cc_type_of_screen",path:"/cxca/report/pepfar/cc_type_of_screen",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-0080112c")]).then(n.bind(null,"ac7a"))},{name:"cc_screen_result",path:"/cxca/report/pepfar/cc_screen_result",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-3d85f6a6")]).then(n.bind(null,"3c35"))},{name:"cc_type_of_treatment",path:"/cxca/report/pepfar/cc_type_of_treatment",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-71cb1df0")]).then(n.bind(null,"0437"))},{name:"cc_visit_reasons",path:"/cxca/report/clinic/cc_visit_reasons",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-f23a2b2c")]).then(n.bind(null,"9e35"))},{name:"cc_booked_clients",path:"/cxca/report/clinic/cc_booked_clients",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-5d57a4d2"),n.e("chunk-123da1b6")]).then(n.bind(null,"c930"))}],yn=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"MoH report",pathName:"screened_for_cxca"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Visit reason",pathName:"cc_visit_reasons"},{name:"Booked clients",pathName:"cc_booked_clients"}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"CC All Questions",pathName:"cc_all_questions"},{name:"CC Basic Results",pathName:"cc_basic_results"},{name:"CC Type of Screen",pathName:"cc_type_of_screen"},{name:"CC Screen Result",pathName:"cc_screen_result"},{name:"CC Type of Treatment",pathName:"cc_type_of_treatment"}]}];function jn(e){return In.apply(this,arguments)}function In(){return In=Object(H["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Y["a"](t),e.next=3,n.enrollProgram();case 3:return a=new At["a"](t,5),e.next=6,a.createEncounter();case 6:return e.next=8,a.saveValueCodedObs("Type of patient","New Patient");case 8:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}const Tn={programID:24,applicationName:"CxCa",applicationIcon:"ccm.png",applicationDescription:"Cervical cancer screening module",appRoutes:On,primaryPatientActivites:vn,secondaryPatientActivites:[],globalPropertySettings:[],onRegisterPatient:jn,homeOverviewComponent:kn,confirmationSummary:(e,t)=>({"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}],OUTCOME:()=>[{label:"Current Outcome",value:t.outcome||"N/A"}],"PROGRAM INFORMATION":async()=>{const t=e.getID(),n=[],a=await B["a"].getNextTaskParams(t);n.push({label:"Next Task",value:a.name?""+a.name:"NONE"});const c=await M["a"].getAll(t,"appointment date"),o=c?X["b"].toStandardHisDisplayFormat(c[0].value_datetime):"Not Available";return n.push({label:"Next Appointment",value:o}),n}}),programReports:yn};var Nn=Tn,En=Object(o["withScopeId"])("data-v-14f2eb30");Object(o["pushScopeId"])("data-v-14f2eb30");var wn={class:"overview"};Object(o["popScopeId"])();var Dn=En((function(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createBlock"])("div",wn,[Object(o["createVNode"])(i,{rows:e.rows,columns:e.columns,config:{tableCssTheme:"art-report-theme",skeletonTextRows:5,showIndex:!1}},null,8,["rows","columns"])])})),Cn=n("53ca"),Sn=(n("b0c0"),n("866d")),An=Object(o["defineComponent"])({components:{ReportTable:Te["a"]},setup:function(){var e=[[Ne["a"].thTxt("Task"),Ne["a"].thTxt("Me"),Ne["a"].thTxt("Today")]],t=Object(o["ref"])([]);return Object(o["onMounted"])((function(){var e=Sn["a"].getSessionDate(),n=new Sn["a"]("DASHBOARD STATISTICS",e,e),a=n.requestReport();"object"===Object(Cn["a"])(a)&&a.then&&a.then((function(e){e.forEach((function(e){t.value.push([Ne["a"].td(e.name),Ne["a"].td(e.me),Ne["a"].td(e.clinic)])}))})).catch((function(e){return Object(Ue["c"])("".concat(e))}))})),{columns:e,rows:t}}});n("e63c");const Pn=N()(An,[["render",Dn],["__scopeId","data-v-14f2eb30"]]);var Fn=Pn;const Rn={programID:28,applicationName:"RADIOLOGY",applicationIcon:"radiology_types.png",applicationDescription:"Radiology service",homeOverviewComponent:Fn,configDefaultPatientDashboardCards:{alertsEnabled:!1,medicationsEnabled:!1,labEnabled:!1},confirmationSummary(e){return{"Patient Identifiers":()=>[{label:"NPID",value:"...",staticValue:()=>e.getNationalID()}]}},globalPropertySettings:[{name:"System Preferences",condition:()=>S["a"].isAdmin(),files:[{name:"Default External Referral",pathUrl:"/radiology/preferences/default_referral_location"}]}],appRoutes:[{name:"Radiology preferences",path:"/radiology/preferences/:name",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-1aaa69a2")]).then(n.bind(null,"9178"))},{name:"Examination",path:"/radiology/examination/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-625971b9"),n.e("chunk-d9a8c722")]).then(n.bind(null,"b14f"))},{name:"Radiology Appointment",path:"/radiology/appointment",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-45b19b4c")]).then(n.bind(null,"a93b"))},{name:"daily radiology report",path:"/radiology/report/daily",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-4e9d8d5a")]).then(n.bind(null,"a61b"))},{name:"revenue radiology report",path:"/radiology/report/revenue",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-f37dc3f2")]).then(n.bind(null,"752f"))},{name:"radiology referral report",path:"/radiology/report/referral",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-08561112"),n.e("chunk-260753ea"),n.e("chunk-aa656c3e")]).then(n.bind(null,"5195"))},{name:"radiology activities",path:"/radiology/activities/:patient_id",component:()=>Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-4255b9ec")]).then(n.bind(null,"7681"))}],programReports:[{name:"Daily Report",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Daily Report",pathUrl:"/radiology/report/daily"}]},{name:"Revenue Collection Report",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Revenue Collection",pathUrl:"/radiology/report/revenue"}]},{name:"Referral Report",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Referral Report",pathUrl:"/radiology/report/referral"}]}],primaryPatientActivites:[{id:"Examination",name:"Examination",icon:"radiology_types.png"},{id:"Radiology Appointment",name:"Radiology Appointment",icon:"appointment.png"}],secondaryPatientActivites:[{id:"radiology activities",name:"Radiology Activities",icon:"radiology_types.png"}]};var xn=Rn,Vn=Object(o["withScopeId"])("data-v-1e3de004");Object(o["pushScopeId"])("data-v-1e3de004");var Ln={class:"overview"};Object(o["popScopeId"])();var Bn=Vn((function(e,t,n,a,c,r){var i=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createBlock"])("div",Ln,[Object(o["createVNode"])(i,{rows:e.rows,columns:e.columns,config:{tableCssTheme:"art-report-theme",skeletonTextRows:5,showIndex:!1}},null,8,["rows","columns"])])})),Hn=function(e){Object(bt["a"])(n,e);var t=Object(_t["a"])(n);function n(){return Object(mt["a"])(this,n),t.call(this)}return Object(ht["a"])(n,[{key:"requestReport",value:function(){return O["e"].getJson("dashboard_stats",{program_id:O["e"].getProgramID(),date:O["e"].getSessionDate()})}}]),n}(O["e"]),Mn=Object(o["defineComponent"])({components:{ReportTable:Te["a"]},setup:function(){var e=[[Ne["a"].thTxt("Task"),Ne["a"].thTxt("Me"),Ne["a"].thTxt("Today")]],t=Object(o["ref"])([]);return Object(o["onMounted"])((function(){var e=new Hn,n=e.requestReport();"object"===Object(Cn["a"])(n)&&n.then&&n.then((function(e){["Newly Registered Patients","Returning Patients"].forEach((function(n){var a=e[n];t.value.push([Ne["a"].td(n),Ne["a"].td(a.me),Ne["a"].td(a.total)]),delete e[n]})),Object.keys(e).forEach((function(n){t.value.push([Ne["a"].td(n),Ne["a"].td(e[n].me),Ne["a"].td(e[n].total)])}))})).catch((function(e){return Object(Ue["c"])("".concat(e))}))})),{columns:e,rows:t}}});n("e109");const Un=N()(Mn,[["render",Bn],["__scopeId","data-v-1e3de004"]]);var Gn=Un,$n=[{id:"Outpatient Reception",name:"Outpatient Reception",icon:"reception.png"},{id:"Patient Services",name:"Patient Services",icon:"attributes.png"}],Jn=[],zn=(n("3ca3"),n("ddb0"),[{name:"Outpatient Reception",path:"/registration/encounters/outpatient_reception/:patient_id",component:function(){return Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-558c7b2c")]).then(n.bind(null,"b805"))}},{name:"Patient Services",path:"/registration/encounters/patient_services/:patient_id",component:function(){return Promise.all([n.e("chunk-28f17f29"),n.e("chunk-c0d73ea8"),n.e("chunk-614857ee")]).then(n.bind(null,"3be8"))}}]);async function Yn(e){const t=new Y["a"](e);await t.enrollProgram();const n=new At["a"](e,5);return await n.createEncounter(),await n.saveValueCodedObs("Type of patient","New Patient"),Zt["a"].push("/registration/encounters/outpatient_reception/"+e),!0}function Wn(e){let t={};return[{label:"Malawi National ID",value:"...",init:async()=>{t=await D["a"].get("ACTIVE_PATIENT",{patientID:e})},staticValue:()=>t.getMWNationalID()}]}function qn(e){return{"PATIENT IDENTIFIERS":()=>[{label:"NPID",value:e.getNationalID()}]}}const Xn={programID:29,applicationName:"Registration",applicationIcon:"active-files.png",applicationDescription:"Patient Registration Program",appRoutes:zn,programReports:Jn,primaryPatientActivites:$n,secondaryPatientActivites:$n,homeOverviewComponent:Gn,onRegisterPatient:Yn,patientProgramInfoData:Wn,confirmationSummary:qn,programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:()=>"",validation:e=>xt["a"].isMWNationalID(e)}}};var Qn=Xn;const Kn=[Oe,Qe,Gt,un,Nn,xn,Qn];function Zn(){return Kn.reduce((e,t)=>e.concat(t.appRoutes),[])}t["b"]=Kn},fa73:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("5530"),c=n("4f96"),o=n("1da1"),r=n("d4ec"),i=n("bee2"),s=n("262e"),u=n("2caf"),l=(n("d81d"),n("fb6a"),n("d3b7"),n("caad"),n("2532"),n("99af"),n("ac1f"),n("466d"),n("a15b"),n("1276"),n("96cf"),n("1c74")),d=n("2ef0"),p=n("4db7"),m=n("9283"),h=n("23e6"),f=n("cc74"),g=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this),e.patientID=-1,e.enabled=!1,e}return Object(i["a"])(n,[{key:"setPatientID",value:function(e){this.patientID=e}},{key:"loadDDEStatus",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["b"].ddeEnabled();case 2:this.enabled=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEnabled",value:function(){return this.enabled}},{key:"postMerge",value:function(e){var t=e.map((function(e){return{patient_id:e.patientID,doc_id:e.docID||""}})),n=Object(c["a"])(t),a=n[0],o=n.slice(1);return this.patientID=a.patient_id,this.mergePatients({primary:a,secondary:o,program_id:l["e"].getProgramID()})}},{key:"checkPotentialDuplicates",value:function(e){return l["e"].getJson("dde/patients/match_by_demographics",Object(a["a"])(Object(a["a"])({},e),{},{program_id:l["e"].getProgramID()}))}},{key:"hasPatientDoubles",value:function(e){return e.map((function(t){return e.map((function(e){return e.patient_id})).includes(t.patient_id)})).some(Boolean)}},{key:"searchDemographics",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,c,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["e"].getJson("dde/patients/find_by_name_and_gender",Object(a["a"])({program_id:l["e"].getProgramID()},t));case 2:if(n=e.sent,c=function(e,t){var n=new h["a"](e);return Object(a["a"])({patient_type:t,doc_id:n.getPatientIdentifier(27)},e)},!n){e.next=8;break}return o=n.locals.map((function(e){return c(e,"Local")})),r=n.remotes.map((function(e){return c(e,"Remote")})),e.abrupt("return",o.concat(r));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchNpid",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.findNpid(t);case 2:if(n=e.sent,!n){e.next=11;break}if(a=n.locals.concat(n.remotes),!Object(d["isEmpty"])(a)){e.next=7;break}return e.abrupt("return",[]);case 7:return c=this.hasPatientDoubles(n.locals),o=this.hasPatientDoubles(n.remotes),this.patientID=a[0].patient_id,e.abrupt("return",c||o?a:a[0]);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findNpid",value:function(e){return l["e"].getJson("dde/patients/find_by_npid",{npid:e,program_id:l["e"].getProgramID()})}},{key:"findVoidedIdentifier",value:function(e){return l["e"].getJson("search/patients/by_identifier",{type_id:3,voided:!0,identifier:e})}},{key:"shouldCreateNpid",value:function(e){return!Object(d["isEmpty"])(e)&&e.npid}},{key:"formatDiffValuesByType",value:function(e,t){var n={};for(var a in e)n[a]=e[t];return n}},{key:"diffsToTurple",value:function(e){var t=[],n=function(e,t){return"string"===typeof t&&e.match(/date/i)?m["b"].toStandardHisDisplayFormat(t):t};for(var a in e){var c=e[a],o=a.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");t.push([o,n(a,c.local),n(a,c.remote)])}return t}},{key:"shouldUpdateDiffs",value:function(e){return!Object(d["isEmpty"])(e)}},{key:"mergePatients",value:function(e){return l["e"].postJson("dde/patients/merge",e)}},{key:"reassignNpid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.patientID;return l["e"].postJson("dde/patients/reassign_npid",{program_id:l["e"].getProgramID(),patient_id:t,doc_id:e})}},{key:"createNPID",value:function(e){return l["e"].postJson("patient_identifiers",{identifier:e,patient_id:this.patientID,identifier_type:3})}},{key:"printNpid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.patientID;return new p["a"](e).printNidLbl()}},{key:"getLocalAndRemoteDiffs",value:function(){return l["e"].getJson("dde/patients/diff",{patient_id:this.patientID,program_id:l["e"].getProgramID()})}},{key:"updateLocalDifferences",value:function(e){return l["e"].putJson("people/".concat(this.patientID),Object(a["a"])({program_id:l["e"].getProgramID()},e))}},{key:"refreshDemographics",value:function(){return l["e"].getJson("dde/patients/refresh",{patient_id:this.patientID,program_id:l["e"].getProgramID()})}}],[{key:"getRemainingNpids",value:function(){return l["e"].getJson("dde/patients/remaining_npids",{program_id:l["e"].getProgramID()})}}]),n}(l["e"])},fa94:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("5530"),c=n("d4ec"),o=n("bee2"),r=n("262e"),i=n("2caf"),s=n("1c74"),u=function(e){Object(r["a"])(n,e);var t=Object(i["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.startDate="",e.endDate="",e.date=s["e"].getSessionDate(),e.programID=s["e"].getProgramID(),e}return Object(o["a"])(n,[{key:"setStartDate",value:function(e){this.startDate=e}},{key:"setEndDate",value:function(e){this.endDate=e}},{key:"buildRequestParams",value:function(e){var t={};return this.startDate&&(t["start_date"]=this.startDate),this.endDate&&(t["end_date"]=this.endDate),this.date&&(t["date"]=this.date),this.programID&&(t["program_id"]=this.programID),Object(a["a"])(Object(a["a"])({},t),e)}}]),n}(s["e"])}});
//# sourceMappingURL=app.94d0ff38.js.map