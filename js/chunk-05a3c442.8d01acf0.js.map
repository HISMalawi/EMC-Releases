{"version":3,"sources":["webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRTableTemplate.vue?9a78","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRTableTemplate.vue","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRTableTemplate.vue?0b37","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRMonthly.vue?1cdf","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRMonthly.vue","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRMonthly.vue?b4c8"],"names":["_hoisted_1","class","style","render","_ctx","_cache","$props","$setup","$data","$options","_component_report_table","_resolveComponent","_openBlock","_createBlock","_createVNode","columns","rows","config","tableCssTheme","defineComponent","components","ReportTable","data","conditions","lessThanFiveYears","greaterAndEqualFiveYears","total","table","thTxt","colspan","sortable","exportable","props","methods","renderResults","report","IDSRReportService","console","log","this","params","Conditions","length","buildRows","onDownload","getCSVString","CSVString","dayjs","format","Service","getCoreVersion","getApiVersion","epiweek","getLocationName","getSiteUUID","csvData","Blob","type","reportTitle","quarter","navigator","msSaveBlob","link","document","createElement","href","window","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","forEach","condition","push","td","id","textAlign","name","buildRow","lessThanFiveYearsPatientIds","greaterThanEqualFiveYears","greaterThanEqualFiveYearsPatientIds","totalPatientIds","count","patientIds","tdLink","onDrillDown","watch","immediate","handler","__exports__","_hoisted_2","_component_ion_loading","_component_his_standard_form","_component_idsr_h","_component_monthly","_component_ion_content","_component_his_footer","_component_ion_page","_Fragment","isLoading","message","reportReady","_createCommentVNode","key","onOnFinish","onPeriod","skipSummary","fields","default","_withCtx","componentKey","reportName","rangeLabel","range","ref","periodLabel","periodDates","clinicName","totalOPDVisits","TotalOPDVisits","idsr","month","_","btns","mixins","ReportMixinVue","IonLoading","IdsrH","Monthly","HisStandardForm","HisFooter","IonPage","IonContent","formData","computedFormData","reportID","created","getBtns","getMonthlyFields","form","regenerate","setRegenerate","setEpiWeek","idsrmonth","label","setStartDate","HisDate","toStandardHisFormat","other","start","setEndDate","end","getReportPeriod","split","requestIDSRMonthly","getClinicRegistrations","visits","size","slot","color","visible","onClick","rep","$refs","exportToCustomPDF","$router","path"],"mappings":"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","file":"js/chunk-05a3c442.8d01acf0.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"my-table\",\n  style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"3%\",\"margin-bottom\":\"3%\"}\n}\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_report_table = _resolveComponent(\"report-table\")\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_report_table, {\n      columns: _ctx.columns,\n      rows: _ctx.rows,\n      config: {tableCssTheme: _ctx.tableCssTheme}\n    }, null, 8, [\"columns\", \"rows\", \"config\"])\n  ]))\n}","\n/* eslint-disable @typescript-eslint/camelcase */\nimport { defineComponent } from 'vue'\nimport { IDSRReportService } from \"@/apps/OPD/services/idsr_service\"\nimport { Service } from \"@/services/service\"\nimport dayjs from 'dayjs';\nimport ReportTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport table, { ColumnInterface, RowInterface } from \"@/components/DataViews/tables/ReportDataTable\"\n\nexport default defineComponent({\n  components: { ReportTable },\n  data: function(){\n    return {\n      conditions: [] as any,\n      lessThanFiveYears: \" < 5 yrs \",\n      greaterAndEqualFiveYears: \" >= 5 yrs \",\n      total: ' Total ',\n      tableCssTheme: 'opd-report-theme',\n      rows: [] as RowInterface[][],\n      columns: [\n      [\n        table.thTxt('', {\n          colspan: 2,\n          sortable: false,\n          exportable: false \n        }),\n        table.thTxt('Out-patient Cases', {\n          colspan: 3,\n          sortable: false,\n          exportable: false \n        }),\n      ],\n      [\n        table.thTxt(''),\n        table.thTxt('Diseases/Events/Conditions'),\n        table.thTxt('< 5 yrs'),\n        table.thTxt('>= 5 yrs'),\n        table.thTxt('Total'),\n      ]\n    ] as ColumnInterface[][],\n    }\n  },\n  props: ['params', 'epiweek', 'quarter','onDrillDown'],\n  methods: {\n   renderResults() {\n     const report = new IDSRReportService()\n     console.log(this.params)\n     const Conditions = report.renderResults(this.params)\n     if(Conditions.length){\n      this.conditions = Conditions\n      this.rows = this.buildRows(Conditions)\n     }\n   },\n   onDownload() {\n     const report = new IDSRReportService()\n     let {CSVString} = report.getCSVString(this.conditions)\n     CSVString += `\n          Date Created: ${dayjs().format('DD/MMM/YYYY HH:MM:ss')}\n          His-Core Version: ${Service.getCoreVersion()}\n          API Version: ${Service.getApiVersion()}\n          Report Period: ${this.epiweek}\n          Site: ${Service.getLocationName()}\n          Site UUID: ${Service.getSiteUUID()}`\n          ;\n      const csvData = new Blob([CSVString], { type: \"text/csv;charset=utf-8;\" });\n      //IE11 & Edge\n      const reportTitle = `${Service.getLocationName()} Weekly IDSR report ${this.quarter}`;\n      if (navigator.msSaveBlob) {\n        navigator.msSaveBlob(csvData, 'exportFilename');\n      } else {\n        //In FF link must be added to DOM to be clicked\n        const link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(csvData);\n        link.setAttribute(\"download\", `${reportTitle}.csv`);\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n   },\n   buildRows(data: any): RowInterface[][] {\n     const rows: RowInterface[][] = []\n     data.forEach((condition: { \n       id: number;\n       name: string;\n       lessThanFiveYears: number;\n       greaterThanEqualFiveYears: number;\n       total: number;\n       lessThanFiveYearsPatientIds: any;\n       greaterThanEqualFiveYearsPatientIds: any;\n       totalPatientIds: any;\n\n       }) => {\n        rows.push([\n          table.td(condition.id, {style: {textAlign: 'left'}}),\n          table.td(condition.name, {style: {textAlign: 'left'}}),\n          this.buildRow(this.lessThanFiveYears+'('+condition.name+')', condition.lessThanFiveYears, condition.lessThanFiveYearsPatientIds),\n          this.buildRow(this.greaterAndEqualFiveYears+'('+condition.name+')', condition.greaterThanEqualFiveYears, condition.greaterThanEqualFiveYearsPatientIds),\n          this.buildRow(this.total+'('+condition.name+')', condition.total, condition.totalPatientIds)\n        ])\n     })\n     return rows\n   },\n   buildRow(name: string, count: number, patientIds: any) {\n    if (!(count > 0)) {\n      return table.td(0)\n     } else {\n      return table.tdLink(\n      count,\n      async () =>  this.onDrillDown(name, patientIds)\n      )\n     }\n   }\n  },\n  watch: {\n    params: {\n      immediate: true,\n      handler() {\n        this.renderResults();\n      }\n    }\n  }\n})\n","import { render } from \"./IDSRTableTemplate.vue?vue&type=template&id=95deb45c&ts=true\"\nimport script from \"./IDSRTableTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./IDSRTableTemplate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { id: \"report-content\" }\nconst _hoisted_2 = /*#__PURE__*/_createVNode(\"div\", { id: \"print\" }, null, -1)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_loading = _resolveComponent(\"ion-loading\")\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_idsr_h = _resolveComponent(\"idsr-h\")\n  const _component_monthly = _resolveComponent(\"monthly\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_his_footer = _resolveComponent(\"his-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_loading, {\n      \"is-open\": _ctx.isLoading,\n      message: \"Please wait...\"\n    }, null, 8, [\"is-open\"]),\n    (!_ctx.reportReady)\n      ? (_openBlock(), _createBlock(_component_his_standard_form, {\n          key: 0,\n          onOnFinish: _ctx.onPeriod,\n          skipSummary: true,\n          fields: _ctx.fields\n        }, null, 8, [\"onOnFinish\", \"fields\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.reportReady)\n      ? (_openBlock(), _createBlock(_component_ion_page, { key: 1 }, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_content, null, {\n              default: _withCtx(() => [\n                _createVNode(\"div\", _hoisted_1, [\n                  _createVNode(_component_idsr_h, {\n                    key: _ctx.componentKey,\n                    reportName: _ctx.reportName,\n                    rangeLabel: _ctx.rangeLabel,\n                    range: _ctx.range,\n                    ref: \"header\",\n                    periodLabel: _ctx.periodLabel,\n                    periodDates: _ctx.periodDates,\n                    clinicName: _ctx.clinicName,\n                    totalOPDVisits: _ctx.TotalOPDVisits\n                  }, null, 8, [\"reportName\", \"rangeLabel\", \"range\", \"periodLabel\", \"periodDates\", \"clinicName\", \"totalOPDVisits\"]),\n                  _createVNode(_component_monthly, {\n                    key: _ctx.componentKey,\n                    onDrillDown: _ctx.onDrillDown,\n                    params: _ctx.idsr,\n                    month: _ctx.range,\n                    ref: \"rep\"\n                  }, null, 8, [\"onDrillDown\", \"params\", \"month\"])\n                ])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_his_footer, { btns: _ctx.btns }, null, 8, [\"btns\"])\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _hoisted_2\n  ], 64 /* STABLE_FRAGMENT */))\n}","\nimport { defineComponent } from \"vue\";\nimport HisFooter from \"@/components/HisDynamicNavFooter.vue\";\nimport { IonPage, IonContent, IonLoading } from \"@ionic/vue\"\nimport { Field } from '@/components/Forms/FieldInterface'\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\nimport ReportMixinVue from \"../../ReportMixin.vue\";\nimport { IDSRReportService } from \"@/apps/OPD/services/idsr_service\"\nimport IdsrH from \"@/apps/OPD/views/reports/moh/MOHReportHeader.vue\"\nimport Monthly from \"@/apps/OPD/views/reports/moh/IDSR/IDSRTableTemplate.vue\"\nimport HisDate from \"@/utils/Date\"\n\nexport default defineComponent({\n  mixins: [ReportMixinVue],\n  components: { IonLoading, IdsrH, Monthly, HisStandardForm, HisFooter, IonPage, IonContent },\n  data: () => ({\n    formData: {} as any,\n    componentKey: 0 as number,\n    computedFormData: {} as any,\n    idsr: {} as any,\n    btns: [] as Array<any>,\n    isLoading: false as boolean,\n    fields: [] as Array<Field>,\n    reportID: -1 as any,\n    periodLabel: 'Month Dates',\n    periodDates: '' as string,\n    reportName: 'MONTHLY DISEASE SURVEILLANCE REPORT',\n    rangeLabel: 'Month',\n    range: '' as string,\n    TotalOPDVisits: 0 as number,\n    clinicName: IDSRReportService.getLocationName(),\n    reportReady: false as boolean,\n  }),\n  created() {\n    this.btns = this.getBtns()\n    this.fields = this.getMonthlyFields()\n  },\n  methods: {\n    async onPeriod(form: any, config: any, regenerate = false) {\n      this.componentKey += 1\n      this.formData = form\n      this.computedFormData = config\n      this.reportReady = true\n      this.isLoading = true\n      this.report = new IDSRReportService()\n      this.report.setRegenerate(regenerate)\n      this.report.setEpiWeek(form.idsrmonth.label)\n      this.report.setStartDate(HisDate.toStandardHisFormat(form.idsrmonth.other.start))\n      this.report.setEndDate(HisDate.toStandardHisFormat(form.idsrmonth.other.end))\n      this.periodDates = this.report.getReportPeriod()\n      this.range = form.idsrmonth.label.split(\" \")[0]\n      try {\n        const idsr = await this.report.requestIDSRMonthly()\n        const visits = await this.report.getClinicRegistrations()\n        if (idsr && visits) {\n          this.reportID = \"data\"\n          this.TotalOPDVisits = visits.length\n          this.idsr = idsr\n        }\n      } catch (error) {\n        console.log(error)\n      } finally {\n        this.isLoading = false\n      }\n    },\n    getBtns() {\n      return [\n        {\n          name: \"CSV\",\n          size: \"large\",\n          slot: \"start\",\n          color: \"primary\",\n          visible: true,\n          onClick: async () => {\n            const rep = this.$refs.rep as any\n            rep.onDownload()\n          }\n        },\n        {\n          name: \"PDF\",\n          size: \"large\",\n          slot: \"start\",\n          color: \"primary\",\n          visible: true,\n          onClick: () => this.exportToCustomPDF('Print IDSR Monthly Report')\n        },\n        {\n          name: \"Back\",\n          size: \"large\",\n          slot: \"end\",\n          color: \"warning\",\n          visible: true,\n          onClick: () => this.reportReady = false\n        },\n        {\n          name: \"Refresh\",\n          size: \"large\",\n          slot: \"end\",\n          color: \"warning\",\n          visible: true,\n          onClick: async () => await this.onPeriod(this.formData, this.computedFormData, true)\n        },\n        {\n          name: \"Finish\",\n          size: \"large\",\n          slot: \"end\",\n          color: \"success\",\n          visible: true,\n          onClick: () => this.$router.push({ path: '/' })\n        }\n      ]\n    },\n  }\n})\n","import { render } from \"./IDSRMonthly.vue?vue&type=template&id=489e9a54&ts=true\"\nimport script from \"./IDSRMonthly.vue?vue&type=script&lang=ts\"\nexport * from \"./IDSRMonthly.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}