import{d as p,I as d,L as o,Y as r,H as i,_ as l,r as a,o as c,c as u,w as h,b as _}from"./index-iM2cGz0p.js";import{_ as f}from"./ReportMixin.vue_vue_type_script_lang-r1arG92A.js";import{R as g}from"./TableReportTemplate-A4sKSoQg.js";import"./MultiFieldDateHelper-BIZNjBD7.js";import"./dynamic-import-helper-9HnG3Mif.js";import"./KbLayouts-9dqmDWmG.js";import"./HisKbConfigurations-a7K7dizM.js";import"./BasicReportTemplate-Cy-G-sIO.js";import"./Export-VO9zGhWb.js";import"./SIngleTouchField-TVlhbHrr.js";import"./Pagination-nCJl9BUM.js";import"./HisStandardForm-tiWNF5wA.js";import"./TouchScreenForm-hvB0I83y.js";import"./ToolbarMediumCard-ny9gUih7.js";import"./Transformers-XlEF3tgP.js";import"./ViewPort-4mhPlN2U.js";import"./ReportErrors-SvbbPxAT.js";const w=p({mixins:[f],components:{ReportTemplate:g,IonPage:d},data:()=>({title:"User system usage",rows:[],columns:[[o.thTxt("First name"),o.thTxt("Last name"),o.thTxt("Role"),o.thDate("Registered on"),o.thDate("Encounters created")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async onPeriod(e,t){this.rows=[];const s=await r.getSystemUsageByUsers(t.start_date,t.end_date);this.period="".concat(i.toStandardHisDisplayFormat(t.start_date),"-").concat(i.toStandardHisDisplayFormat(t.end_date)),this.title="User system usage <b>".concat(this.period,"</b>"),this.customFileName="".concat(r.getLocationName()," User system usage ").concat(this.period),this.setRows(s)},async setRows(e){e.forEach(t=>{this.rows.push([o.td(t.given_name),o.td(t.family_name),o.td(t.role),o.tdDate(t.registered_on),o.td(t.encounters)])})}}});function y(e,t,s,$,D,F){const n=a("report-template"),m=a("ion-page");return c(),u(m,null,{default:h(()=>[_(n,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,customFileName:e.customFileName,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])]),_:1})}const V=l(w,[["render",y]]);export{V as default};
