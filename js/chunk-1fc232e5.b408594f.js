(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fc232e5"],{3800:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"l",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return f}));var o=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],c=[["1","2","3"],["4","5","6"],["7","8","9"],["Del.","0","Clear"]],a=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],s=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],u=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],i=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],l=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],d=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","n","m",",",".","A-Z"]],p=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],b=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]],f=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"52f5":function(e,t,n){"use strict";n("da4d")},7101:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o["withScopeId"])("data-v-52eed022");Object(o["pushScopeId"])("data-v-52eed022");var c=Object(o["createVNode"])("b",{style:{color:"#8b4513"}},"National ",-1),a=Object(o["createVNode"])("b",{style:{color:"#cd853f"}},"EMR",-1),s=Object(o["createTextVNode"])(" Version: "),u=Object(o["createTextVNode"])(" Configuration ");Object(o["popScopeId"])();var i=r((function(e,t,n,i,l,d){var p=Object(o["resolveComponent"])("ion-label"),b=Object(o["resolveComponent"])("ion-title"),f=Object(o["resolveComponent"])("ion-toolbar"),j=Object(o["resolveComponent"])("ion-header"),O=Object(o["resolveComponent"])("inputs"),m=Object(o["resolveComponent"])("ion-content"),h=Object(o["resolveComponent"])("ion-button"),v=Object(o["resolveComponent"])("ion-footer"),g=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(g,null,{default:r((function(){return[Object(o["createVNode"])(j,null,{default:r((function(){return[Object(o["createVNode"])(f,null,{default:r((function(){return[Object(o["createVNode"])(b,null,{default:r((function(){return[Object(o["createVNode"])(p,{style:{fontWeight:"bolder",fontSize:"1.9em"}},{default:r((function(){return[c,a]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{class:"ion-padding",slot:"end"},{default:r((function(){return[s,Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(i.version),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{fullscreen:"false"},{default:r((function(){return[Object(o["createVNode"])(O,{useVirtualInput:i.useVirtualInput},null,8,["useVirtualInput"])]})),_:1}),Object(o["createVNode"])(v,null,{default:r((function(){return[Object(o["createVNode"])(f,null,{default:r((function(){return[Object(o["createVNode"])("span",null,[Object(o["createVNode"])("img",{id:"coat",src:i.coatImg,alt:"Malawi Coat of Arms logo"},null,8,["src"]),Object(o["createVNode"])("img",{id:"pepfar",src:i.pepfarImg,alt:"PEPFAR logo"},null,8,["src"])]),Object(o["withDirectives"])(Object(o["createVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.platform=e}),slot:"end",class:"devices"},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(i.devices,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("option",{key:t,value:e.value,selected:e.value===i.platform},Object(o["toDisplayString"])(e.label),9,["value","selected"])})),128))],512),[[o["vModelSelect"],i.platform]]),i.showConfig?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,slot:"end",class:"config","router-link":"/settings/host"},{default:r((function(){return[u]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),l=n("1da1"),d=(n("96cf"),n("caad"),n("99af"),Object(o["withScopeId"])("data-v-fe1a1558"));Object(o["pushScopeId"])("data-v-fe1a1558");var p={class:"main",ref:"main"},b={class:"rows"},f={class:"cells"},j={class:"rows input-rows"},O={class:"cells"},m={class:"rows"};Object(o["popScopeId"])();var h=d((function(e,t,n,r,c,a){var s=Object(o["resolveComponent"])("center");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",f,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",name:"usename",autocomplete:"off",placeholder:"Username",id:"username",ref:"username","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.userInput.username=t}),onClick:t[2]||(t[2]=function(t){return e.renderKeyBoard(t)}),class:"input-boxes",readonly:e.useVirtualInput},null,8,["readonly"]),[[o["vModelText"],e.userInput.username]])])]),Object(o["createVNode"])("div",j,[Object(o["createVNode"])("div",O,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.userInput.password=t}),type:"password",name:"password",ref:"password",id:"password",onClick:t[4]||(t[4]=function(t){return e.renderKeyBoard(t)}),class:"input-boxes",placeholder:"Password",readonly:e.useVirtualInput},null,8,["readonly"]),[[o["vModelText"],e.userInput.password]])])])],512),Object(o["createVNode"])(s,null,{default:d((function(){return[Object(o["createVNode"])("div",{id:"keyboard",style:e.btnStyles,class:"keyboard"},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.LOGIN_KEYBOARD,(function(n){return Object(o["openBlock"])(),Object(o["createBlock"])("span",{key:n},[Object(o["createVNode"])("div",m,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(n,(function(n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"cells",key:n},["Next"===n||"Login"===n?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,id:e.btnCaption,class:"keyboard-btn login-btn",onClick:t[5]||(t[5]=function(t){return e.keyPress(t)})},Object(o["toDisplayString"])(e.btnCaption),9,["id"])):Object(o["createCommentVNode"])("",!0),"Login"!=n&&"Next"!=n?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:1,id:e.Caps.on?n.toUpperCase():n.toLowerCase(),class:"keyboard-btn",onClick:t[6]||(t[6]=function(t){return e.keyPress(t)})},Object(o["toDisplayString"])("Del."===n||"Caps"===n?n:e.Caps.on?n.toUpperCase():n.toLowerCase()),9,["id"])):Object(o["createCommentVNode"])("",!0)])})),128))])])})),128))],4)]})),_:1})],64)})),v=(n("ac1f"),n("466d"),n("b5e4")),g=n("89b4"),k=n("3800"),y=Object(o["defineComponent"])({props:{useVirtualInput:{type:Boolean}},data:function(){return{LOGIN_KEYBOARD:k["f"],auth:{},userInput:{type:String,username:"",password:""},focusInput:{type:Object,value:"",id:""},display:"none",keyboardLeft:"",keyboardTop:"",btnCaption:"",Caps:{type:Boolean,on:!1}}},created:function(){this.auth=new g["a"]},methods:{renderKeyBoard:function(e){this.focusInput=e.currentTarget,"password"==this.focusInput.id?this.btnCaption="Login":this.btnCaption="Next";var t=document.getElementsByClassName("main")[0],n=t.getBoundingClientRect().width,o=e.currentTarget.getBoundingClientRect().top;o=parseInt(o),this.keyboardLeft=n/2-447+"px;",this.keyboardTop=o+20+"px;",this.display="table",window.scrollTo(0,9999)},keyPress:function(e){var t,n=e.currentTarget.id;try{n.match(/Del./i)?this.focusInput.value=this.focusInput.value.substring(0,this.focusInput.value.length-1):n.match(/Next/i)?(this.display="none",t=this.$refs.password,t.click()):n.match(/Login/i)?(this.display="none",this.doLogin()):n.match(/Caps/i)?(this.Caps.on=!this.Caps.on,this.display="none",t="username"===this.focusInput.id?this.$refs.username:this.$refs.password,t.click()):n.match(/Hide/i)?this.display="none":this.focusInput.value+=n,"username"==this.focusInput.id?this.userInput.username=this.focusInput.value:this.userInput.password=this.focusInput.value}catch(o){console.warn("input error")}},doLogin:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.userInput.username||!this.userInput.password){e.next=21;break}if(this.auth.setUsername(this.userInput.username),e.prev=2,!this.auth.versionLockingIsEnabled()){e.next=6;break}return e.next=6,this.auth.validateIfCorrectAPIVersion();case 6:return e.next=8,this.auth.checkTimeIntegrity();case 8:if(e.sent){e.next=10;break}throw"Local date does not match API date. Please Update your device's date";case 10:return e.next=12,this.auth.login(this.userInput.password);case 12:this.auth.startSession(),this.$router.push("/select_hc_location"),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),e.t0 instanceof g["c"]?Object(v["e"])("Invalid username or password"):Object(v["c"])(e.t0,5e4);case 19:e.next=22;break;case 21:Object(v["e"])("Complete form to log in");case 22:case"end":return e.stop()}}),e,this,[[2,16]])})));function t(){return e.apply(this,arguments)}return t}()},computed:{btnStyles:function(){return"display: ".concat(this.display,"; top: ").concat(this.keyboardTop)}}}),I=(n("52f5"),n("6b0d")),w=n.n(I);const C=w()(y,[["render",h],["__scopeId","data-v-fe1a1558"]]);var V=C,N=n("8a30"),B=n("1718"),x=n("a1e9"),_=n("5c40"),L=n("2ed9"),D={name:"login",components:{Inputs:V,IonButton:N["d"],IonTitle:N["P"],IonLabel:N["x"],IonPage:N["D"],IonHeader:N["q"],IonToolbar:N["Q"],IonContent:N["n"],IonFooter:N["o"]},setup:function(){var e=Object(L["a"])(),t=e.platformType,n=e.setPlatformType,r=Object(o["computed"])((function(){return"mobile"===t.value})),c=Object(x["m"])(t.value||"Platform"),a=Object(x["m"])(""),s=Object(x["m"])([{label:"Mobile",value:"mobile"},{label:"Desktop",value:"desktop"}]);return Object(o["watch"])(c,(function(e){["mobile","desktop"].includes(e)&&n(e)})),Object(_["U"])(Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new g["a"],e.next=3,t.loadConfig();case 3:return e.next=5,t.getHeadVersion();case 5:return n=e.sent,t.setActiveVersion(n),e.next=9,t.getApiVersion();case 9:o=e.sent,a.value="".concat(n," / ").concat(o);case 11:case"end":return e.stop()}}),e)})))),{devices:s,version:a,platform:c,useVirtualInput:r,coatImg:Object(B["a"])("login-logos/Malawi-Coat_of_arms_of_arms.png"),pepfarImg:Object(B["a"])("login-logos/PEPFAR.png"),showConfig:"true"===localStorage.getItem("useLocalStorage")}}};n("b1e9");const S=w()(D,[["render",i],["__scopeId","data-v-52eed022"]]);t["default"]=S},b10e:function(e,t,n){},b1e9:function(e,t,n){"use strict";n("b10e")},da4d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-1fc232e5.b408594f.js.map