(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c13ffe0"],{"19aa":function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},"1c7e":function(t,e,r){var n=r("b622"),a=n("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[a]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var n={};n[a]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(u){}return r}},2266:function(t,e,r){var n=r("825a"),a=r("e95a"),o=r("50c4"),i=r("0366"),s=r("35a1"),u=r("2a62"),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var f,l,d,h,v,p,b,m=r&&r.that,g=!(!r||!r.AS_ENTRIES),w=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),y=i(e,m,1+g+x),R=function(t){return f&&u(f),new c(!0,t)},k=function(t){return g?(n(t),x?y(t[0],t[1],R):y(t[0],t[1])):x?y(t,R):y(t)};if(w)f=t;else{if(l=s(t),"function"!=typeof l)throw TypeError("Target is not iterable");if(a(l)){for(d=0,h=o(t.length);h>d;d++)if(v=k(t[d]),v&&v instanceof c)return v;return new c(!1)}f=l.call(t)}p=f.next;while(!(b=p.call(f)).done){try{v=k(b.value)}catch(O){throw u(f),O}if("object"==typeof v&&v&&v instanceof c)return v}return new c(!1)}},2626:function(t,e,r){"use strict";var n=r("d066"),a=r("9bf2"),o=r("b622"),i=r("83ab"),s=o("species");t.exports=function(t){var e=n(t),r=a.f;i&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},"2a62":function(t,e,r){var n=r("825a");t.exports=function(t){var e=t["return"];if(void 0!==e)return n(e.call(t)).value}},"35a1":function(t,e,r){var n=r("f5df"),a=r("3f8c"),o=r("b622"),i=o("iterator");t.exports=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[n(t)]}},3835:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("0d21");function a(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done);i=!0)if(o.push(n.value),e&&o.length===e)break}catch(u){s=!0,a=u}finally{try{i||null==r["return"]||r["return"]()}finally{if(s)throw a}}return o}}var o=r("06c5"),i=r("3d8c");function s(t,e){return Object(n["a"])(t)||a(t,e)||Object(o["a"])(t,e)||Object(i["a"])()}},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),o=r("9bdd"),i=r("e95a"),s=r("50c4"),u=r("8418"),c=r("35a1");t.exports=function(t){var e,r,f,l,d,h,v=a(t),p="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,g=void 0!==m,w=c(v),x=0;if(g&&(m=n(m,b>2?arguments[2]:void 0,2)),void 0==w||p==Array&&i(w))for(e=s(v.length),r=new p(e);e>x;x++)h=g?m(v[x],x):v[x],u(r,x,h);else for(l=w.call(v),d=l.next,r=new p;!(f=d.call(l)).done;x++)h=g?o(l,m,[f.value,x],!0):f.value,u(r,x,h);return r.length=x,r}},6062:function(t,e,r){"use strict";var n=r("6d61"),a=r("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(t,e,r){"use strict";var n=r("9bf2").f,a=r("7c73"),o=r("e2cc"),i=r("0366"),s=r("19aa"),u=r("2266"),c=r("7dd0"),f=r("2626"),l=r("83ab"),d=r("f183").fastKey,h=r("69f3"),v=h.set,p=h.getterFor;t.exports={getConstructor:function(t,e,r,c){var f=t((function(t,n){s(t,f,e),v(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=n&&u(n,t[c],{that:t,AS_ENTRIES:r})})),h=p(e),b=function(t,e,r){var n,a,o=h(t),i=m(t,e);return i?i.value=r:(o.last=i={index:a=d(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=i),n&&(n.next=i),l?o.size++:t.size++,"F"!==a&&(o.index[a]=i)),t},m=function(t,e){var r,n=h(t),a=d(e);if("F"!==a)return n.index[a];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(f.prototype,{clear:function(){var t=this,e=h(t),r=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,r=h(e),n=m(e,t);if(n){var a=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=a),a&&(a.previous=o),r.first==n&&(r.first=a),r.last==n&&(r.last=o),l?r.size--:e.size--}return!!n},forEach:function(t){var e,r=h(this),n=i(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:r.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),o(f.prototype,r?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),l&&n(f.prototype,"size",{get:function(){return h(this).size}}),f},setStrong:function(t,e,r){var n=e+" Iterator",a=p(e),o=p(n);c(t,e,(function(t,e){v(this,{type:n,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,r=t.last;while(r&&r.removed)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),f(e)}}},"6d61":function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("94ca"),i=r("6eeb"),s=r("f183"),u=r("2266"),c=r("19aa"),f=r("861d"),l=r("d039"),d=r("1c7e"),h=r("d44e"),v=r("7156");t.exports=function(t,e,r){var p=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=p?"set":"add",g=a[t],w=g&&g.prototype,x=g,y={},R=function(t){var e=w[t];i(w,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!f(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(o(t,"function"!=typeof g||!(b||w.forEach&&!l((function(){(new g).entries().next()})))))x=r.getConstructor(e,t,p,m),s.REQUIRED=!0;else if(o(t,!0)){var k=new x,O=k[m](b?{}:-0,1)!=k,D=l((function(){k.has(1)})),C=d((function(t){new g(t)})),E=!b&&l((function(){var t=new g,e=5;while(e--)t[m](e,e);return!t.has(-0)}));C||(x=e((function(e,r){c(e,x,t);var n=v(new g,e,x);return void 0!=r&&u(r,n[m],{that:n,AS_ENTRIES:p}),n})),x.prototype=w,w.constructor=x),(D||E)&&(R("delete"),R("has"),p&&R("get")),(E||O)&&R(m),b&&w.clear&&delete w.clear}return y[t]=x,n({global:!0,forced:x!=g},y),h(x,t),b||r.setStrong(x,t,p),x}},"9bdd":function(t,e,r){var n=r("825a"),a=r("2a62");t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(i){throw a(t),i}}},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),o=r("1c7e"),i=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:a})},b31c:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n,a=r("d4ec"),o=r("bee2"),i=r("262e"),s=r("2caf"),u=(r("99af"),r("e9c4"),r("d3b7"),r("b64b"),r("2ef0")),c=r("5969");(function(t){t["MOH_CACHE"]="mohCache"})(n||(n={}));var f=function(t){Object(i["a"])(r,t);var e=Object(s["a"])(r);function r(){var t;return Object(a["a"])(this,r),t=e.call(this),t.regenerate=!1,t}return Object(o["a"])(r,[{key:"cohortUrl",value:function(){return"programs/".concat(this.programID,"/reports/cohort")}},{key:"setRegenerate",value:function(t){this.regenerate=t}},{key:"getCohortDrillDown",value:function(t){return c["a"].getJson("cohort_report_drill_down",{id:t,date:this.date,program_id:this.programID})}},{key:"requestCohort",value:function(t){return c["a"].ajxGet(this.cohortUrl(),t)}},{key:"qaurterRequestParams",value:function(){return{name:this.quarter,regenerate:this.regenerate}}},{key:"datePeriodRequestParams",value:function(){return{name:"Cohort-".concat(this.startDate,"-").concat(this.endDate),start_date:this.startDate,end_date:this.endDate,regenerate:this.regenerate}}},{key:"getCachedCohortValues",value:function(){var t=sessionStorage.getItem(n.MOH_CACHE);if(t){var e=JSON.parse(t);if(e.start_date===this.startDate&&e.end_date===this.endDate||e.quarter===this.quarter)return e.data}}},{key:"cacheCohort",value:function(t){sessionStorage.setItem(n.MOH_CACHE,JSON.stringify({start_date:this.startDate,end_date:this.endDate,quarter:this.quarter,data:t}))}},{key:"validateIndicators",value:function(t,e){var r=this.getCachedCohortValues();if(r){var n=Object.keys(t).reduce((function(e,n){var a=Object(u["find"])(r,{name:n}),o=t[n],i=a?a.contents:null,s=o.param,c=o.check(parseInt(i),s);return c&&e.push(o.error(i,s)),e}),[]);return e(n)}return-1}}]),r}(c["a"])},bb2f:function(t,e,r){var n=r("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cca6:function(t,e,r){"use strict";r.r(e);var n=r("7a23");function a(t,e,r,a,o,i){var s=Object(n["resolveComponent"])("report-template"),u=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(u,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,reportPrefix:"PEPFAR",config:{showIndex:!0},validationErrors:t.errors,showValidationStatus:t.showStatus,headerInfoList:t.headerInfoList,onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","validationErrors","showValidationStatus","headerInfoList","onReportConfiguration"])]})),_:1})}var o=r("2909"),i=r("3835"),s=r("1da1"),u=(r("96cf"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("ac1f"),r("1276"),r("99af"),r("a630"),r("44e3")),c=r("9a5e"),f=r("4ba2"),l=r("9ceb"),d=r("b31c"),h=r("ad8d"),v=Object(n["defineComponent"])({mixins:[u["a"]],components:{ReportTemplate:f["a"]},data:function(){return{title:"TX Curr MMD Report",cohort:{},rows:[],totals:new Set,errors:[],showStatus:!1,columns:[[l["a"].thTxt("Age group"),l["a"].thTxt("Gender"),l["a"].thNum("# of clients on <3 months of ARVs"),l["a"].thNum("# of clients on 3 - 5 months of ARVs"),l["a"].thNum("# of clients on >= 6 months of ARVs")]],headerInfoList:[],mohCohort:{},canValidate:!1}},watch:{canValidate:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=3;break}return r.next=3,e.validateReport();case 3:case"end":return r.stop()}}),r)})))()}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(t,e){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.canValidate=!1,r.totals.clear(),r.errors=[],r.showStatus=!1,r.rows=[],r.report=new c["a"],r.mohCohort=new d["a"],r.mohCohort.setStartDate(e.start_date),r.mohCohort.setEndDate(e.end_date),r.report.setStartDate(e.start_date),r.report.setEndDate(e.end_date),r.period=r.report.getDateIntervalPeriod(),r.report.initArvRefillPeriod(!0),t.next=15,r.setRows();case 15:r.canValidate=!0,r.showStatus=!0,r.setHeaderInfoList();case 18:case"end":return t.stop()}}),t)})))()},getValues:function(t,e){var r=[],n=[],a=[];for(var o in t){var i=t[o],s=i.prescribed_days;this.totals.add(o),s<90&&r.push(o),s>=90&&s<=150&&n.push(o),s>150&&a.push(o)}return[this.drill(r,"# of clients on < 3 months of ARVs (".concat(e,")")),this.drill(n,"# of clients on 3 - 5 months of ARVs (".concat(e,")")),this.drill(a,"# of clients on  >= 6 months of ARVs (".concat(e,")"))]},setRows:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s,u,c,f,d,v,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=0,n=0,a=[],s=[],e.t0=regeneratorRuntime.keys(h["a"]);case 5:if((e.t1=e.t0()).done){e.next=17;break}return u=e.t1.value,c=h["a"][u],"<1 year"===c?(r=0,n=0):"90 plus years"===c?(r=90,n=1e3):(f=c.split("-"),d=Object(i["a"])(f,2),v=d[0],p=d[1],r=parseInt(v),n=parseInt(p)),e.next=11,t.report.getTxCurrMMDReport(r,n);case 11:b=e.sent,t.report.initArvRefillPeriod(!1),b?(s.push([l["a"].td(c),l["a"].td("Female")].concat(Object(o["a"])(t.getValues(b["Female"],"".concat(c," Female"))))),a.push([l["a"].td(c),l["a"].td("Male")].concat(Object(o["a"])(t.getValues(b["Male"],"".concat(c," Male")))))):(s.push([l["a"].td(c),l["a"].td("Female"),l["a"].td(0),l["a"].td(0),l["a"].td(0)]),a.push([l["a"].td(c),l["a"].td("Male"),l["a"].td(0),l["a"].td(0),l["a"].td(0)])),t.rows=[].concat(s,a),e.next=5;break;case 17:case"end":return e.stop()}}),e)})))()},setHeaderInfoList:function(){var t=this;this.headerInfoList=[{label:"Total clients",value:this.totals.size,other:{onclick:function(){return t.runTableDrill(Array.from(t.totals),"Total Clients")}}}]},validateReport:function(){var t=this,e={total_alive_and_on_art:{param:this.totals.size,check:function(t,e){return e>t},error:function(t,e){return"\n                        MoH cohort Alive and on ART clients <b>(".concat(t,")</b> is not\n                        matching with total TX MMD clients <b>(").concat(e,")</b>.\n                    ")}}},r=this.mohCohort.validateIndicators(e,(function(e){return t.errors=e}));-1===r&&(this.errors=["Report not validated. Run the MoH cohort report for similar reporting period and then run this report"])}}}),p=r("6b0d"),b=r.n(p);const m=b()(v,[["render",a]]);e["default"]=m},e2cc:function(t,e,r){var n=r("6eeb");t.exports=function(t,e,r){for(var a in e)n(t,a,e[a],r);return t}},e95a:function(t,e,r){var n=r("b622"),a=r("3f8c"),o=n("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||i[o]===t)}},f183:function(t,e,r){var n=r("d012"),a=r("861d"),o=r("5135"),i=r("9bf2").f,s=r("90e3"),u=r("bb2f"),c=s("meta"),f=0,l=Object.isExtensible||function(){return!0},d=function(t){i(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},h=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},v=function(t,e){if(!o(t,c)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},p=function(t){return u&&b.REQUIRED&&l(t)&&!o(t,c)&&d(t),t},b=t.exports={REQUIRED:!1,fastKey:h,getWeakData:v,onFreeze:p};n[c]=!0}}]);
//# sourceMappingURL=chunk-2c13ffe0.7b022ac3.js.map