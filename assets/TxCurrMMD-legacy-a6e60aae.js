System.register(["./loader-legacy-c09b1ae3.js","./ReportTable.vue_vue_type_script_setup_true_lang-legacy-6a59f35f.js","./age_groups-legacy-5143fd58.js","./common-legacy-42ce034b.js","./tx_report_service-legacy-3cbd2bac.js","./toasts-legacy-74d888f1.js","./index-legacy-c6316dba.js","./exports-legacy-bbad59b8.js","./index-legacy-fa0c5051.js","./his_date-legacy-d6a21612.js","./vue-datepicker-legacy-affedcd3.js","./DrilldownTable-legacy-832e8344.js","./_plugin-vue_export-helper-legacy-762b7923.js","./arrays-legacy-263c660a.js","./report_service-legacy-e4952686.js","./index-legacy-aa705205.js","./url-legacy-2d97b2db.js"],(function(e,t){"use strict";var n,a,r,l,s,i,o,u,d,c,p,h;return{setters:[e=>{n=e.l},e=>{a=e._},e=>{r=e.A},e=>{l=e.a,s=e.i,i=e.t},e=>{o=e.T},e=>{u=e.t},e=>{d=e.d,c=e.r,p=e.o,h=e.h},null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",d({__name:"TxCurrMMD",setup(e){const t=c("-"),d=c([]),g={},y=new o,v=[{path:"ageGroup",label:"Age group",thStyles:{minWidth:"150px !important"}},{path:"gender",label:"Gender",thStyles:{minWidth:"110px !important"}},{path:"underThree",label:"# of clients on <3 months of ARVs",drillable:!0,thStyles:{minWidth:"350px !important"}},{path:"betweenThreeAndFive",label:"# of clients on 3 - 5 months of ARVs",drillable:!0,thStyles:{minWidth:"350px !important"}},{path:"overSix",label:"# of clients on >= 6 months of ARVs",drillable:!0,thStyles:{minWidth:"350px !important"}}];function m(e,t,n){const a=[],r=[],l=[],o=i(t),u=e[o];if(!s(u)){for(const e in u){const t=u[e].prescribed_days;t<90?a.push(e):t>=90&&t<=150?r.push(e):t>150&&l.push(e)}!function(e,t){Object.entries(t).forEach((([t,n])=>{var a;g[e]||(g[e]={}),g[e][t]=[...null!==(a=g[e][t])&&void 0!==a?a:[],...n]}))}(t,{underThree:a,betweenThreeAndFive:r,overSix:l})}return{overSix:l,ageGroup:n,underThree:a,betweenThreeAndFive:r,gender:o}}async function f({dateRange:e}){try{await n.show(),y.setReportType("moh"),y.setStartDate(e.startDate),y.setEndDate(e.endDate),t.value=y.getDateIntervalPeriod(),await async function(){const e=[],t=[];for(const n of r){const[a,r]=l(n),s=await y.getTxCurrMMDReport(a,r);e.push(m(s,"M",n)),t.push(m(s,"F",n)),y.setInitialize(!1),d.value=[...t,...e]}}(),d.value.push({ageGroup:"All",gender:"Male",...g.M}),await async function(){d.value=[...d.value,...await y.getMaternityData(g.F,["underThree","betweenThreeAndFive","overSix"])]}()}catch(a){u("ERROR! Unable to load report data"),console.error(a)}await n.hide()}return(e,n)=>(p(),h(a,{title:"MoH TX CURR MMD Report",subtitle:"Clients that are alive and on treatment in the reporting period and the difference in days between their clinical dispensation visit and \n      next appointment / drug-runout date is: 3 months (1 - 89 days), 3-5 months (90-179 days), 6+ months (180 or more days)","report-type":"MoH",columns:v,rows:d.value,period:t.value,"drill-title":e=>`${e.row.ageGroup} ${e.column.label} ${e.row.gender}s`,useDateRangeFilter:"",showIndices:"",onGenerate:f},null,8,["rows","period","drill-title"]))}}))}}}));
