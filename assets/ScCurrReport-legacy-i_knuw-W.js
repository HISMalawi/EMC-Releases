System.register(["./index-legacy-2bdI6aeZ.js","./TableView-legacy-CkBYUnNn.js","./stock_report_service-legacy-TYY6hxrH.js","./ReportDateSelectionPrompt-legacy-Sv-Ah6NW.js","./DrillTableModal-legacy--h6h7rnF.js","./PopupKeyboard-legacy-E9tCYbQ8.js","./SIngleTouchField-legacy-hpCyTWH6.js","./dynamic-import-helper-legacy-BhGHTWZn.js","./TouchScreenForm-legacy-H8a4O6o5.js","./ToolbarMediumCard-legacy-EA1aA9jU.js","./Transformers-legacy-PbfCTy2a.js","./ViewPort-legacy-AULqwBLs.js","./HisKeypad-legacy-u28jWxW5.js","./BaseKeyboard-legacy-EPPfL8N-.js","./KbLayouts-legacy-NQmKRJpJ.js","./KbHandler-legacy-YpKYWvgQ.js","./overlays-33ae3ea0-legacy-mcssBBSM.js","./fuse-legacy-T9FrQdXS.js","./Export-legacy-cuEy_-Nh.js","./HisKeyboard-legacy-zNn6DvML.js","./HisKbConfigurations-legacy-AV_G95Cg.js","./MultiFieldDateHelper-legacy-ABlXxdvs.js"],(function(e,a){"use strict";var l,n,t,r,o,s,u,c,i,g,y,d,p,m,j,f,b,D,v,P;return{setters:[e=>{l=e.d,n=e.I,t=e.c2,r=e.K,o=e.N,s=e.a9,u=e.ck,c=e.O,i=e.t,g=e.q,y=e._,d=e.r,p=e.o,m=e.c,j=e.w,f=e.b},e=>{b=e.v},e=>{D=e.S},e=>{v=e.D},e=>{P=e.D},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const a=l({components:{IonPage:n,IonLoading:t,v2Datatable:b},setup(){const e=r([]),a=r(""),l=r(!1),n=new D,t=[[{label:"#",ref:"index"},{label:"ARV drug category",ref:"category"},{label:"# of bottles (units) remaining",ref:"units",value:e=>u(e.units),tdClick:async e=>{(await c.create({component:P,cssClass:"custom-modal",componentProps:{title:e.data.category,columns:["Drug","Quantity"],onRows:()=>(e.data?.granular_spec||[]).map((e=>[e.drug_name,u(e.units)]))}})).present()}}]],y=async()=>{if(!n.startDate||!n.endDate)return i("Start date and end date required!");l.value=!0,e.value=[];try{e.value=(await n.getScCurrReport()).map(((e,a)=>({...e,index:a+1})))}catch(a){g("Unable to generate report!")}l.value=!1},d=()=>v({onFinish:(e,l,t)=>{a.value=t,n.startDate=e,n.endDate=l,y()}});return o((()=>!e.value.length&&d())),{Img:s,reportData:e,isLoading:l,configure:d,generate:y,columns:t,period:a}}});e("default",y(a,[["render",function(e,a,l,n,t,r){const o=d("ion-loading"),s=d("v2Datatable"),u=d("ion-page");return p(),m(u,null,{default:j((()=>[f(o,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),f(s,{title:"Sc Curr","icon-url":e.Img("login-logos/PEPFAR.png"),subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:20,onConfigure:e.configure,onRefresh:()=>e.generate(),reportPrefix:"PEPFAR"},null,8,["icon-url","subtitle","columns","columnData","onConfigure","onRefresh"])])),_:1})}]]))}}}));
