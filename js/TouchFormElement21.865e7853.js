(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TouchFormElement21","TouchFormElement51"],{"0a79":function(e,t,c){"use strict";var o=c("7a23"),n=Object(o["withScopeId"])("data-v-7c293cad"),a=n((function(e,t,c,n,a,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{id:"view-port",class:e.showFull?"":"half"},[Object(o["renderSlot"])(e.$slots,"default")],2)})),i=Object(o["defineComponent"])({name:"ViewPort",props:{showFull:{type:Boolean,default:function(){return!0}}}}),s=(c("a4d3"),c("6b0d")),l=c.n(s);const r=l()(i,[["render",a],["__scopeId","data-v-7c293cad"]]);t["a"]=r},"19ba":function(e,t,c){"use strict";c("ef35")},"331e":function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var o=c("1da1"),n=c("d4ec"),a=c("bee2"),i=c("262e"),s=c("2caf"),l=(c("96cf"),c("cc6f")),r=c("8158"),d=function(e){Object(i["a"])(c,e);var t=Object(s["a"])(c);function c(e,o){return Object(n["a"])(this,c),t.call(this,e,122,o)}return Object(a["a"])(c,[{key:"fetchLatestTriageEncounter",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.getObs({concept_id:r["a"].getConceptID("History of COVID-19 contact"),start_date:this.date,end_date:this.date,person_id:this.patientID});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"getComplaintsList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var c,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:"",e.abrupt("return",r["a"].getConceptSet(t,c));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),c}(l["a"])},"82d1":function(e,t,c){"use strict";c.r(t);var o=c("7a23");const n=Object(o["withScopeId"])("data-v-4eee28e4");Object(o["pushScopeId"])("data-v-4eee28e4");const a={style:{}};Object(o["popScopeId"])();const i=n((function(e,t,c,i,s,l){const r=Object(o["resolveComponent"])("ion-text"),d=Object(o["resolveComponent"])("ion-label"),u=Object(o["resolveComponent"])("ion-chip"),p=Object(o["resolveComponent"])("ion-col"),h=Object(o["resolveComponent"])("ion-row"),b=Object(o["resolveComponent"])("ion-item"),m=Object(o["resolveComponent"])("ion-list"),O=Object(o["resolveComponent"])("ion-checkbox"),j=Object(o["resolveComponent"])("ion-grid"),f=Object(o["resolveComponent"])("view-port");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])(f,{showFull:!e.showKeyboard,style:{padding:"0"}},{default:n(()=>[Object(o["createVNode"])(j,null,{default:n(()=>[Object(o["createVNode"])(h,null,{default:n(()=>[Object(o["createVNode"])(p,{size:"12"},{default:n(()=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.checkedItems,(t,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])("span",{key:c},[Object(o["createVNode"])(u,{color:"danger",onClick:c=>e.uncheck(t)},{default:n(()=>[Object(o["createVNode"])(d,null,{default:n(()=>[Object(o["createVNode"])(r,{class:"his-md-text"},{default:n(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1}),Object(o["createVNode"])(h,null,{default:n(()=>[Object(o["createVNode"])(p,{size:"4"},{default:n(()=>[Object(o["createVNode"])(m,{style:{overflowY:"auto",height:"80vh",margin:0}},{default:n(()=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.listData,(t,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:c,onClick:c=>e.getSpecificComplaints(t.value),detail:!0,color:e.ActiveCategory===t.label?"light":""},{default:n(()=>[Object(o["createVNode"])(d,null,{default:n(()=>[Object(o["createVNode"])(r,{class:"his-md-text"},{default:n(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","color"]))),128))]),_:1})]),_:1}),e.ActiveCategory?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,style:{overflowY:"auto",height:"78vh"}},{default:n(()=>[Object(o["createVNode"])("div",a,[Object(o["createVNode"])(m,{class:"view-port-content"},{default:n(()=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.activeCategoryItems,(t,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:c,color:t.isChecked?"light":""},{default:n(()=>[Object(o["createVNode"])(d,null,{default:n(()=>[Object(o["createVNode"])(r,{class:"his-md-text"},{default:n(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]),_:2},1024)]),_:2},1024),Object(o["createVNode"])(O,{slot:"end",modelValue:t.isChecked,"onUpdate:modelValue":e=>t.isChecked=e,onIonChange:c=>e.onselect(t,c),disabled:null===t||void 0===t?void 0:t.disabled},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])]),_:2},1032,["color"]))),128))]),_:1})])]),_:1})):Object(o["createCommentVNode"])("",!0)]),_:1})]),_:1})]),_:1},8,["showFull"])])}));var s=c("8a30"),l=c("82a9"),r=c("331e"),d=c("2ef0"),u=Object(o["defineComponent"])({components:{IonCheckbox:s["k"],IonText:s["M"],IonChip:s["l"]},name:"HisComplaintsPicker",mixins:[l["default"]],data:()=>({complaintsList:{},ActiveCategory:""}),methods:{async init(){this.$emit("onFieldActivated",this);const e=await r["a"].getComplaintsList("Presenting complaint group");this.listData=this.mapListToOptions(e),this.$emit("onValue",this.getChecked(this.complaintsList))},async onselect(e,t){this.$nextTick(async()=>{const c={...e};if(c.isChecked=t.target.checked,this.onValue&&c.isChecked){const e=await this.onValue(c);if(!e)return t.target.checked=!1}this.onValueUpdate&&(this.complaintsList=await this.onValueUpdate({...this.complaintsList},c)),this.$emit("onValue",this.getChecked(this.complaintsList))})},async getSpecificComplaints(e){if(!(e in this.complaintsList)){const t=await r["a"].getComplaintsList(e);this.complaintsList[e]=this.mapListToOptions(t,e)}this.ActiveCategory=e},mapListToOptions(e,t=""){return Object(d["isEmpty"])(e)?[]:e.map(e=>{const c={label:e.name,value:e.name,isChecked:!1,other:e};return t&&(c.other.parent=t),c})},uncheck(e){this.complaintsList[e.other.parent].forEach(t=>{t.label===e.label&&(t.isChecked=!1)})},getChecked(e){const t=[];for(const c in e)t.push(...e[c].filter(e=>e.isChecked));return t}},computed:{checkedItems(){return this.getChecked(this.complaintsList)},activeCategoryItems(){return this.complaintsList[this.ActiveCategory]}},watch:{clear(){for(const e in this.complaintsList)this.complaintsList[e]=this.complaintsList[e].map(e=>(e.isChecked=!1,e))}},mounted(){this.init()},activated(){this.init()}}),p=(c("19ba"),c("6b0d")),h=c.n(p);const b=h()(u,[["render",i],["__scopeId","data-v-4eee28e4"]]);t["default"]=b},a4d3:function(e,t,c){"use strict";c("a6f7")},a6f7:function(e,t,c){},ef35:function(e,t,c){}}]);
//# sourceMappingURL=TouchFormElement21.865e7853.js.map