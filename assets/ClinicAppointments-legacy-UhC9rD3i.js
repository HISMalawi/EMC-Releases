System.register(["./index-legacy-2bdI6aeZ.js","./ReportMixin.vue_vue_type_script_lang-legacy-iBlnUK4E.js","./BaseTableReport-legacy-OFO_CVM3.js","./dynamic-import-helper-legacy-BhGHTWZn.js","./MultiFieldDateHelper-legacy-ABlXxdvs.js","./KbLayouts-legacy-NQmKRJpJ.js","./HisKbConfigurations-legacy-AV_G95Cg.js","./BasicReportTemplate-legacy--ps8EHUm.js","./Export-legacy-cuEy_-Nh.js","./SIngleTouchField-legacy-hpCyTWH6.js","./Pagination-legacy-rUvGUE2N.js","./HisStandardForm-legacy-lMXEnQxA.js","./TouchScreenForm-legacy-H8a4O6o5.js","./ToolbarMediumCard-legacy-EA1aA9jU.js","./Transformers-legacy-PbfCTy2a.js","./ViewPort-legacy-AULqwBLs.js"],(function(e,t){"use strict";var n,l,a,o,r,s,i,d,p,c,u,m,h,g,b,y;return{setters:[e=>{n=e.d,l=e.I,a=e.L,o=e.cn,r=e.V,s=e.H,i=e.ch,d=e._,p=e.r,c=e.o,u=e.c,m=e.w,h=e.b},e=>{g=e._},e=>{b=e.R},e=>{y=e.F},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=n({mixins:[g],components:{ReportTemplate:b,IonPage:l},data:()=>({title:"Booked clients",date:"",rows:[],appointments:{},columns:[[a.thTxt("ARV#"),a.thTxt("First name",{csvExportable:!1,pdfExportable:!0}),a.thTxt("Last name",{csvExportable:!1,pdfExportable:!0}),a.thTxt("Gender"),a.thTxt("birthdate"),a.thTxt("Outcome"),a.thTxt("Current Address",{csvExportable:!1,pdfExportable:!0}),a.thTxt("Actions",{csvExportable:!1,pdfExportable:!1})]]}),created(){this.report=new o,this.fields=[{id:"date",helpText:"Select date",type:y.TT_DATE_PICKER,defaultValue:()=>o.getSessionDate(),validation:e=>r.required(e),onValue:async e=>(this.report.setStartDate(e),this.appointments[e]||(this.appointments[e]=await this.report.getBookedAppointments(e)||[]),!0),config:{infoItems:e=>[{label:"Appointments",value:this.appointments[e]?.length||0}]}}]},methods:{onPeriod(e){this.rows=[],this.period=s.toStandardHisDisplayFormat(e.date),this.setRows(this.appointments[e.date])},setRows(e){i(e).asc((e=>e.given_name)).forEach((e=>{this.rows.push([this.tdARV(e.arv_number||"N/A"),a.td(e.given_name),a.td(e.family_name),a.td(this.formatGender(e.gender)),a.tdDate(e.birthdate),a.td(e.outcome),a.td(`District: <br/> <b>${e.district}</b><br/>\n                        Village: <br/> <b>${e.village}</b><br/>\n                        Land-mark: <br/> <b>${e.land_mark}</b><br/>\n                        Cellphone: <br/> <b>${e.cell_phone}</b>`),a.tdBtn("Select",(()=>this.confirmPatient(e.person_id)))])}))}}});e("default",d(t,[["render",function(e,t,n,l,a,o){const r=p("report-template"),s=p("ion-page");return c(),u(s,null,{default:m((()=>[h(r,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,config:{showIndex:!1},encryptPDF:!0,reportPrefix:"Clinic",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
