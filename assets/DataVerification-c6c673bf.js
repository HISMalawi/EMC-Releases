import{d as y,i as k,j as w,k as Y,I,$ as R,r as B,g as $,ae as E,ai as S,L as i,h as N,w as n,o as f,a as e,b as u,c as q,K as z,y as F}from"./index-a3998c4f.js";import{d as T,H}from"./his_date-05fd283a.js";import{r as g}from"./validations-11aef89d.js";import{i as U,r as j}from"./form-6d9e4a71.js";import{l as _}from"./loader-9bbe4f46.js";import{D as A}from"./data_cleaning_report_service-13b6863f.js";import{T as L}from"./TextInput-46ea36e4.js";import{Y as M}from"./YesNoInput-4b80d294.js";import{E as G,a as K}from"./emc_event-4721851b.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./common-94ac9539.js";import"./Strs-7ee8a435.js";import"./Date-0dd82718.js";import"./toasts-a4a73cee.js";import"./report_service-a9d75ba5.js";import"./index-95d3a767.js";import"./arrays-7f14d286.js";import"./url-ffe761c9.js";const h=y({components:{IonGrid:k,IonRow:w,IonCol:Y,IonButton:I,IonTitle:R,YesNoInput:M,TextInput:L},setup(){const o=B([]),a=$(),c=T().format("YYYY-MM-DD"),l=E({cleaningDone:{value:"",label:"Cleaning Done",required:!0},date:{value:"",label:"Date of Cleaning",validation:async(t,r)=>r.cleaningDone.value==="Yes"&&g(t)?null:["Value is required"]},provider:{value:"",label:"Verified By",validation:async(t,r)=>r.cleaningDone.value==="Yes"&&g(t)?null:["Value is required"]}});return{form:l,today:c,onSubmit:async()=>{if(!await U(l))return;_.show();const t=j(l).formData,r=await new A().saveDataCleaningVerification({data_cleaning_datetime:t.date,supervisors:[t.provider]});_.hide(),r&&a.back()},onClear:async()=>{if(await S("Are you sure you want to clear all fields?")){for(const t in l)l[t].value="";G.emit(K.ON_CLEAR)}},HisDate:H,dateRange:o}}});function J(o,a,c,l,v,C){const t=i("ion-title"),r=i("yes-no-input"),m=i("ion-col"),V=i("vue-date-picker"),D=i("text-input"),p=i("ion-row"),d=i("ion-button"),b=i("ion-grid");return f(),N(b,{class:"ion-margin-vertical"},{default:n(()=>[e(p,null,{default:n(()=>[e(m,{class:"his-card ion-padding",size:"10",offset:"1"},{default:n(()=>[e(t,{class:"ion-text-center ion-margin-vertical ion-padding-bottom bold"},{default:n(()=>[u(" Data Cleaning Verification ")]),_:1}),e(p,{class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(m,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(r,{modelValue:o.form.cleaningDone,"onUpdate:modelValue":a[0]||(a[0]=s=>o.form.cleaningDone=s),inline:""},null,8,["modelValue"])]),_:1}),o.form.cleaningDone.value==="Yes"?(f(),q(z,{key:0},[e(m,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(V,{modelValue:o.dateRange,"onUpdate:modelValue":a[1]||(a[1]=s=>o.dateRange=s),placeholder:"Select date range",format:o.HisDate.toDisplayRangeFmt,"multi-calendars":"","auto-apply":"","text-input":"",range:""},null,8,["modelValue","format"])]),_:1}),e(m,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:n(()=>[e(D,{modelValue:o.form.provider,"onUpdate:modelValue":a[2]||(a[2]=s=>o.form.provider=s),form:o.form},null,8,["modelValue","form"])]),_:1})],64)):F("",!0)]),_:1}),e(d,{class:"ion-margin-top",onClick:o.onSubmit,color:"success"},{default:n(()=>[u("Submit")]),_:1},8,["onClick"]),e(d,{class:"ion-margin-top",onClick:o.onClear,color:"warning"},{default:n(()=>[u("Clear")]),_:1},8,["onClick"]),e(d,{class:"ion-margin-top",onClick:a[3]||(a[3]=s=>o.$router.back()),color:"light"},{default:n(()=>[u("Back")]),_:1})]),_:1})]),_:1})]),_:1})}const po=O(h,[["render",J]]);export{po as default};
